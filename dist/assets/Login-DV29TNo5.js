import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r,u as s,f as a,j as t}from"./react-vendor-DCtPEfzS.js";import{u as l,b as o,s as i}from"./form-vendor-CfNvelWt.js";import{t as n}from"./meetings-B8BiM5IE.js";import{u as m,r as d,V as c,aR as u,aS as x,E as p,L as f,a0 as b,ar as g}from"./auth-ZaPfAXhT.js";import{C as h,B as y}from"./dashboard-Bum9Xlfr.js";import"./state-vendor-rPBjJaR_.js";import"./utils-vendor-DxpoukG0.js";import"./messages-Dn-JV80C.js";import"./donations-o5PE7GOT.js";import"./supabase-vendor-AMUhAiAi.js";import"./file-vendor-D5NpndWQ.js";import"./chart-vendor-BDEFy5qM.js";const j=o({email:i().email("Geçerli bir email adresi giriniz"),password:i().min(6,"Şifre en az 6 karakter olmalıdır")}),N=o({email:i().email("Geçerli bir email adresi giriniz"),password:i().min(6,"Şifre en az 6 karakter olmalıdır"),confirmPassword:i().min(6,"Şifre tekrarı gereklidir"),full_name:i().min(2,"Ad soyad en az 2 karakter olmalıdır"),department:i().optional(),phone:i().optional()}).refine(e=>e.password===e.confirmPassword,{message:"Şifreler eşleşmiyor",path:["confirmPassword"]}),w=o({email:i().email("Geçerli bir email adresi giriniz")});function v(){const[o,i]=r.useState("login"),[v,k]=r.useState(!1),[S,z]=r.useState(!1),G=s(),P=a(),{user:C,session:E,loading:_,error:A,signIn:H,signUp:V,resetPassword:D,clearError:F}=m(),Y=l({resolver:n(j),defaultValues:{email:"",password:""}}),B=l({resolver:n(N),defaultValues:{email:"",password:"",confirmPassword:"",full_name:"",department:"",phone:""}}),O=l({resolver:n(w),defaultValues:{email:""}});if(r.useEffect(()=>{F()},[o,F]),E&&C){const r=P.state?.from?.pathname||"/";return e.jsx(t,{to:r,replace:!0})}return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-cyan-50 p-4",children:e.jsxs(h,{className:"w-full max-w-md p-8 shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(d,{className:"w-8 h-8 text-white"})}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["login"===o&&"Hoş Geldiniz","register"===o&&"Hesap Oluşturun","forgot"===o&&"Şifre Sıfırlama"]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["login"===o&&"Dernek Yönetim Paneli","register"===o&&"Yeni hesap oluşturmak için bilgilerinizi giriniz","forgot"===o&&"Email adresinizi girerek şifrenizi sıfırlayın"]})]}),A&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:A})}),"login"===o&&e.jsxs("form",{onSubmit:Y.handleSubmit(async e=>{try{if(await H(e.email,e.password)){const e=P.state?.from?.pathname||"/";G(e,{replace:!0})}}catch(r){}}),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...Y.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),Y.formState.errors.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:Y.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...Y.register("password"),type:v?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("button",{type:"button",onClick:()=>k(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?e.jsx(x,{className:"w-5 h-5"}):e.jsx(p,{className:"w-5 h-5"})})]}),Y.formState.errors.password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:Y.formState.errors.password.message})]}),e.jsx(y,{type:"submit",disabled:_,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:_?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4 animate-spin mr-2"}),"Giriş yapılıyor..."]}):"Giriş Yap"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("button",{type:"button",onClick:()=>i("forgot"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Şifremi unuttum"}),e.jsxs("div",{className:"text-gray-600 text-sm",children:["Hesabınız yok mu?"," ",e.jsx("button",{type:"button",onClick:()=>i("register"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Kayıt olun"})]})]})]}),"register"===o&&e.jsxs("form",{onSubmit:B.handleSubmit(async e=>{try{await V(e.email,e.password,{full_name:e.full_name,department:e.department,phone:e.phone}),i("login"),B.reset()}catch(r){}}),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad *"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...B.register("full_name"),type:"text",placeholder:"Adınız Soyadınız",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),B.formState.errors.full_name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:B.formState.errors.full_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi *"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...B.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),B.formState.errors.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:B.formState.errors.email.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre *"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...B.register("password"),type:v?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("button",{type:"button",onClick:()=>k(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?e.jsx(x,{className:"w-4 h-4"}):e.jsx(p,{className:"w-4 h-4"})})]}),B.formState.errors.password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:B.formState.errors.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre Tekrar *"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...B.register("confirmPassword"),type:S?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("button",{type:"button",onClick:()=>z(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:S?e.jsx(x,{className:"w-4 h-4"}):e.jsx(p,{className:"w-4 h-4"})})]}),B.formState.errors.confirmPassword&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:B.formState.errors.confirmPassword.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departman"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...B.register("department"),type:"text",placeholder:"Departmanınız",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...B.register("phone"),type:"tel",placeholder:"+90 555 123 45 67",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]})]}),e.jsx(y,{type:"submit",disabled:_,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:_?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4 animate-spin mr-2"}),"Hesap oluşturuluyor..."]}):"Hesap Oluştur"}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-gray-600 text-sm",children:["Zaten hesabınız var mı?"," ",e.jsx("button",{type:"button",onClick:()=>i("login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Giriş yapın"})]})})]}),"forgot"===o&&e.jsxs("form",{onSubmit:O.handleSubmit(async e=>{try{await D(e.email),i("login"),O.reset()}catch(r){}}),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...O.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),O.formState.errors.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:O.formState.errors.email.message})]}),e.jsx(y,{type:"submit",disabled:_,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:_?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4 animate-spin mr-2"}),"Gönderiliyor..."]}):"Şifre Sıfırlama Bağlantısı Gönder"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>i("login"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"← Giriş sayfasına dön"})})]})]})})}export{v as default};
