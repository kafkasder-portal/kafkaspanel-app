import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r as a}from"./react-vendor-DCtPEfzS.js";import{D as s}from"./donations-Cc8AcqVz.js";import{M as t}from"./messages-C4gZlbNu.js";import{u as l}from"./useSanitization-BwwbYezy.js";import{aX as n,i as r,l as i,p as o,_ as c,F as d,aa as m,aJ as u,E as x,m as g,n as p}from"./auth-9wZfjiou.js";import"./dashboard-CJXjh513.js";import"./file-vendor-D5NpndWQ.js";import"./utils-vendor-DxpoukG0.js";import"./state-vendor-rPBjJaR_.js";import"./chart-vendor-BDEFy5qM.js";import"./sanitization-C_isCIdH.js";import"./purify.es-CC9sp8hv.js";import"./supabase-vendor-AMUhAiAi.js";function h(){const[h,b]=a.useState(""),[j,y]=a.useState("all"),[v,f]=a.useState("all"),[N,k]=a.useState(null),[w,C]=a.useState(!1),[z,S]=a.useState(!1),[D,A]=a.useState(!1),[T,K]=a.useState(""),[M,B]=a.useState(""),[Y,Z]=a.useState(""),[L,F]=a.useState("general"),[O,G]=a.useState("notification"),[E,H]=a.useState(!1),{createSanitizedChangeHandler:U}=l(),$=[{value:"general",label:"Genel"},{value:"welcome",label:"Hoş Geldin"},{value:"reminder",label:"Hatırlatma"},{value:"notification",label:"Bildirim"},{value:"promotion",label:"Promosyon"},{value:"emergency",label:"Acil Durum"}],J=[{id:"1",name:"Hoş Geldiniz Mesajı",subject:"Derneğimize Hoş Geldiniz",content:"Sayın {firstName} {lastName},\n\nKafkas Kültür ve Dayanışma Derneği ailesine hoş geldiniz. Sizinle birlikte daha güçlü bir topluluk oluşturuyoruz.\n\nSaygılarımızla,\nDernek Yönetimi",type:"email",category:"welcome",variables:["firstName","lastName"],isActive:!0,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",usageCount:25},{id:"2",name:"Toplantı Daveti",subject:"Aylık Genel Toplantı Daveti",content:"Sayın {firstName},\n\n{meetingDate} tarihinde saat {meetingTime} da yapılacak aylık genel toplantımıza katılımınızı bekliyoruz.\n\nToplantı Konuları:\n- Aylık faaliyet raporu\n- Bütçe değerlendirmesi\n- Yeni projeler\n\nKonum: {location}\n\nSaygılarımızla,\nDernek Yönetimi",type:"email",category:"meeting",variables:["firstName","meetingDate","meetingTime","location"],isActive:!0,createdAt:"2024-01-20T10:00:00Z",updatedAt:"2024-01-20T10:00:00Z",usageCount:15},{id:"3",name:"Yardım Başvuru Onayı",subject:"Yardım Başvurunuz Onaylandı",content:"Sayın {firstName} {lastName},\n\n{applicationDate} tarihinde yapmış olduğunuz {aidType} yardım başvurunuz onaylanmıştır.\n\nYardım Tutarı: {amount} TL\nDağıtım Tarihi: {distributionDate}\n\nGerekli evrakları tamamladıktan sonra yardımınızı alabilirsiniz.\n\nSaygılarımızla,\nDernek Yönetimi",type:"sms",category:"aid",variables:["firstName","lastName","applicationDate","aidType","amount","distributionDate"],isActive:!0,createdAt:"2024-01-25T10:00:00Z",updatedAt:"2024-01-25T10:00:00Z",usageCount:42},{id:"4",name:"Doğum Günü Kutlaması",subject:"Doğum Gününüz Kutlu Olsun!",content:"Sevgili {firstName},\n\nDoğum gününüzü kutlar, sağlık, mutluluk ve başarı dolu bir yaş dileriz.\n\nDernek ailesi olarak her zaman yanınızdayız.\n\nSevgi ve saygılarımızla,\nKafkas Kültür ve Dayanışma Derneği",type:"email",category:"birthday",variables:["firstName"],isActive:!0,createdAt:"2024-02-01T10:00:00Z",updatedAt:"2024-02-01T10:00:00Z",usageCount:8},{id:"5",name:"Acil Durum Bildirimi",subject:"ACİL: Önemli Duyuru",content:"Sayın üyelerimiz,\n\nACİL DURUM: {emergencyMessage}\n\nLütfen dernek merkezini arayınız: {phoneNumber}\n\nDernek Yönetimi",type:"sms",category:"emergency",variables:["emergencyMessage","phoneNumber"],isActive:!0,createdAt:"2024-02-05T10:00:00Z",updatedAt:"2024-02-05T10:00:00Z",usageCount:2},{id:"6",name:"Burs Başvuru Sonucu",subject:"Burs Başvuru Değerlendirme Sonucu",content:"Sayın {firstName} {lastName},\n\n{academicYear} eğitim-öğretim yılı için yapmış olduğunuz burs başvurunuz değerlendirilmiştir.\n\nSonuç: {result}\n{resultMessage}\n\nDetaylı bilgi için dernek merkezimizi ziyaret edebilirsiniz.\n\nBaşarılar dileriz,\nEğitim Koordinatörlüğü",type:"email",category:"scholarship",variables:["firstName","lastName","academicYear","result","resultMessage"],isActive:!0,createdAt:"2024-02-10T10:00:00Z",updatedAt:"2024-02-10T10:00:00Z",usageCount:18}],P=a.useMemo(()=>J.filter(e=>{const a=e.name.toLowerCase().includes(h.toLowerCase())||e.subject.toLowerCase().includes(h.toLowerCase())||e.content.toLowerCase().includes(h.toLowerCase()),s="all"===j||e.category===j,t="all"===v||e.type===v;return a&&s&&t}),[h,j,v,J]),R=e=>{k(e),K(e.name),B(e.subject),Z(e.content),F(e.category||"general"),G(e.type),H(e.isFavorite||!1),S(!0)},X=e=>{navigator.clipboard.writeText(e.content),alert("Şablon içeriği panoya kopyalandı!")},_=a=>{const s=$.find(e=>e.value===a)?.label||a;return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{general:"bg-gray-100 text-gray-800",welcome:"bg-blue-100 text-blue-800",reminder:"bg-yellow-100 text-yellow-800",notification:"bg-purple-100 text-purple-800",promotion:"bg-green-100 text-green-800",emergency:"bg-red-100 text-red-800"}[a]}`,children:s})},q=a=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{sms:"bg-green-100 text-green-800",email:"bg-blue-100 text-blue-800",notification:"bg-purple-100 text-purple-800"}[a]}`,children:"sms"===a?"SMS":"email"===a?"E-posta":"Bildirim"}),I=[{key:"name",header:"Şablon Adı",render:(a,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:s.name}),s.isFavorite&&e.jsx(m,{className:"h-4 w-4 text-yellow-500 fill-current"})]})},{key:"subject",header:"Konu",render:(a,s)=>e.jsx("span",{className:"text-sm",children:s.subject})},{key:"category",header:"Kategori",render:(e,a)=>_(a.category||"general")},{key:"type",header:"Tür",render:(e,a)=>q(a.type)},{key:"usageCount",header:"Kullanım",render:(a,s)=>e.jsx("span",{className:"font-medium",children:s.usageCount||0})},{key:"createdAt",header:"Oluşturulma",render:(a,s)=>e.jsx("span",{className:"text-sm",children:s.createdAt})},{key:"actions",header:"İşlemler",render:(a,s)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>(e=>{k(e),C(!0)})(s),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Görüntüle",children:e.jsx(x,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>X(s),className:"p-1 text-purple-600 hover:bg-purple-50 rounded",title:"Kopyala",children:e.jsx(u,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>R(s),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Düzenle",children:e.jsx(g,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Sil",children:e.jsx(p,{className:"h-4 w-4"})})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mesaj Şablonları"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Hazır mesaj şablonlarını yönetin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(n,{className:"h-4 w-4"}),"İçe Aktar"]}),e.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(r,{className:"h-4 w-4"}),"Dışa Aktar"]}),e.jsxs("button",{onClick:()=>{K(""),B(""),Z(""),F("general"),G("notification"),H(!1),A(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(i,{className:"h-4 w-4"}),"Yeni Şablon"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{value:h,onChange:e=>b(e.target.value),className:"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı, konu veya içerik ara..."})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreler:"})]}),e.jsxs("select",{value:j,onChange:e=>y(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tüm Kategoriler"}),$.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]}),e.jsxs("select",{value:v,onChange:e=>f(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tüm Türler"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"}),e.jsx("option",{value:"notification",children:"Bildirim"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Şablon"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J.length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Favori Şablonlar"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J.filter(e=>e.isFavorite).length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"En Çok Kullanılan"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.max(...J.map(e=>e.usageCount||0))})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Kategoriler"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsx(s,{columns:I,data:P})}),e.jsx(t,{isOpen:w,onClose:()=>C(!1),title:"Şablon Detayları",children:N&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("p",{className:"text-sm text-gray-900",children:N.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),_(N.category||"general")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),q(N.type)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kullanım Sayısı"}),e.jsx("p",{className:"text-sm text-gray-900",children:N.usageCount||0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Oluşturulma Tarihi"}),e.jsx("p",{className:"text-sm text-gray-900",children:N.createdAt})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favori"}),e.jsx("p",{className:"text-sm text-gray-900",children:N.isFavorite?"Evet":"Hayır"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konu"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:e.jsx("p",{className:"text-sm text-gray-900",children:N.subject})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İçerik"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:e.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:N.content})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsxs("button",{onClick:()=>X(N),className:"flex items-center gap-2 px-4 py-2 text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors",children:[e.jsx(u,{className:"h-4 w-4"}),"Kopyala"]}),e.jsx("button",{onClick:()=>{C(!1),R(N)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Düzenle"})]})]})}),e.jsx(t,{isOpen:z,onClose:()=>S(!1),title:"Şablon Düzenle",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("input",{type:"text",value:T,onChange:U(e=>K(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("select",{value:L,onChange:e=>F(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:$.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),e.jsxs("select",{value:O,onChange:e=>G(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"notification",children:"Bildirim"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:e=>H(e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("input",{type:"text",value:M,onChange:U(e=>B(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),e.jsx("textarea",{value:Y,onChange:U(e=>Z(e),"text"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",Y.length]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]})}),e.jsx(t,{isOpen:D,onClose:()=>A(!1),title:"Yeni Şablon Oluştur",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("input",{type:"text",value:T,onChange:U(e=>K(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("select",{value:L,onChange:e=>F(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:$.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),e.jsxs("select",{value:O,onChange:e=>G(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"notification",children:"Bildirim"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:e=>H(e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("input",{type:"text",value:M,onChange:U(e=>B(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),e.jsx("textarea",{value:Y,onChange:U(e=>Z(e),"text"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",Y.length]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Oluştur"})]})]})})]})}export{h as default};
