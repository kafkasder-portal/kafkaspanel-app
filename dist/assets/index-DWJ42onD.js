const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-DV29TNo5.js","assets/ui-vendor-B8g4ebjc.js","assets/react-vendor-DCtPEfzS.js","assets/form-vendor-CfNvelWt.js","assets/meetings-B8BiM5IE.js","assets/dashboard-Bum9Xlfr.js","assets/auth-ZaPfAXhT.js","assets/state-vendor-rPBjJaR_.js","assets/supabase-vendor-AMUhAiAi.js","assets/file-vendor-D5NpndWQ.js","assets/utils-vendor-DxpoukG0.js","assets/chart-vendor-BDEFy5qM.js","assets/dashboard-Dgihpmma.css","assets/messages-Dn-JV80C.js","assets/donations-o5PE7GOT.js","assets/NotFound-COlxh3pj.js","assets/DonationVault-BHDtAN1W.js","assets/Institutions-DQXwQk88.js","assets/useSanitization-BwwbYezy.js","assets/sanitization-C_isCIdH.js","assets/purify.es-CC9sp8hv.js","assets/CashDonations-CWv1ginM.js","assets/LazyCameraScanner-CzJUi8O9.js","assets/pdfExport-CmoZx5Sn.js","assets/BankDonations-D-zVqFek.js","assets/CreditCardDonations-fIpOE9tA.js","assets/OnlineDonations-DOYRZny2.js","assets/AdvancedSearchModal-CgYLE-Pl.js","assets/DonationNumbers-B0YHVJNW.js","assets/FundingDefinitions-IvMQtgBg.js","assets/SacrificePeriods-CVl3TpCE.js","assets/SacrificeShares-DiPlzK4B.js","assets/RamadanPeriods-ktWFPDi3.js","assets/PiggyBankTracking-BtAKykMz.js","assets/LazyQRScannerModal-CM3qKXR-.js","assets/qrCodeUtils-EWtYda1B.js","assets/BulkProvisioning-hR_5r1my.js","assets/aid-wzZDfVvT.js","assets/BulkSend-B7DlVS9Y.js","assets/Groups-DHxXZgrx.js","assets/Templates-BTKAMV87.js","assets/SmsDeliveries-CoIyF6_B.js","assets/EmailDeliveries-BlWJzOzP.js","assets/Analytics-BPlyhNUr.js","assets/ModuleInfo-Bc4fqgDO.js","assets/scholarship-YAbr5TVC.js","assets/OrphansStudents-BH1gb0Bi.js","assets/Reports-O0vkKjgW.js","assets/VisualManagement-B2OIoZ4R.js","assets/Definitions-DLsFJ2yE.js","assets/TrackingCategories-CompzDDP.js","assets/OrphanForm-Dm_elSuV.js","assets/OrphanLetters-g9S7ega8.js","assets/Campaigns-D6SXgnY9.js","assets/Schools-Bumnkz5C.js","assets/FormDefinitions-hc1gBunC.js","assets/PriceDefinitions-SHpzleGz.js","assets/AddressLabels-CLFRXlQd.js","assets/DataControl-CsO9Sw-w.js","assets/ModuleInfo-Evci0JDB.js","assets/SupabaseTest-JZ6WgpfH.js","assets/RelatedRecords-CS4Hf_DF.js","assets/Beneficiaries-Dtx9J_q8.js","assets/BeneficiariesDetail-DEU93_ae.js","assets/Reports-C-HPlWob.js","assets/Applications-Bba39Y9N.js","assets/CashVault-BU2n1-Fz.js","assets/BankOrders-Uca9_2bV.js","assets/CashOperations-VXeI__kZ.js","assets/InKindOperations-BRnCofCQ.js","assets/ServiceTracking-C1jYpvL1.js","assets/HospitalReferrals-B8MBEAiP.js","assets/Parameters-fquuCGra.js","assets/DataControl-m9MYmUsj.js","assets/ModuleInfo-BKzkvQvo.js","assets/fund-BbYV_MXc.js","assets/CompleteReport-ePfGiaAz.js","assets/FundRegions-BDKrJANh.js","assets/WorkAreas-BqEVvGmj.js","assets/FundDefinitions-BVkHZTDZ.js","assets/ActivityDefinitions-qi7N0eSM.js","assets/SourcesExpenses-D-j38Eqd.js","assets/AidCategories-Cnt1BLF5.js","assets/WarningMessages-1E6l5bTw.js","assets/StructuralControls-BAfDSpP6.js","assets/LocalIPs-q7ad0HCi.js","assets/IPBlocking-tf_wcqKn.js","assets/UserManagement-BL5fLhkH.js","assets/Index-uN6GIbA1.js","assets/tasks-OfsF_p2G.js","assets/Definitions-CKRSrD5C.js","assets/UnitRoles-Bucl1Jso.js","assets/Units-DaSMPSUq.js","assets/UserAccounts-BYnpbzsT.js","assets/PermissionGroupsClean-TD_MsVNH.js","assets/definitions-BWK_s9fa.js","assets/InternalLines-CfcoQWxF.js","assets/ProcessFlows-QeFkH2uq.js","assets/PassportFormats-BYzgGgx7.js","assets/CountriesCities-uQb5Fj-7.js","assets/InstitutionTypes-B8TEpT3Z.js","assets/InstitutionStatus-DKGoknnP.js","assets/DonationMethods-klW-o5OZ.js","assets/DeliveryTypes-DgyN3TCY.js","assets/MeetingRequests-C7rYNoFk.js","assets/GSMCodes-BCPttZtH.js","assets/InterfaceLanguages-CRRI5ahF.js","assets/Translations-Bcjn0TrJ.js","assets/GeneralSettings-DnR7_JLF.js","assets/ModuleInfo-DdCZf_yg.js"])))=>i.map(i=>d[i]);
import{j as e,d as s,I as a}from"./ui-vendor-B8g4ebjc.js";import{b as t,r as n,u as i,f as r,L as l,N as o,h as c,i as d,a as m,B as u}from"./react-vendor-DCtPEfzS.js";import{C as x,s as h,p,_ as g,X as j,t as f,F as b,U as y,ab as N,a3 as v,M as w,y as k,d as _,ac as E,ad as T,ae as z,u as S,a1 as C,af as A,ag as D,a0 as I,S as O,ah as R,ai as L,T as P,B,o as M,r as V,A as K,aj as Y,ak as $,al as U,v as G,b as H,am as F,aa as q,z as W,D as J,k as Q,V as Z,Y as X,Z as ee,a9 as se,an as ae,ao as te,ap as ne,aq as ie,ar as re,as as le,at as oe,au as ce,av as de,aw as me,a8 as ue,ax as xe,f as he,ay as pe,H as ge,az as je,aA as fe,aB as be,g as ye,aC as Ne,aD as ve,aE as we,aF as ke,aG as _e,j as Ee,W as Te,i as ze,aH as Se,aI as Ce,w as Ae,e as De,n as Ie,aJ as Oe,R as Re,aK as Le,q as Pe,aL as Be,L as Me,aM as Ve,aN as Ke,aO as Ye,a7 as $e,a6 as Ue,a as Ge,aP as He,aQ as Fe}from"./auth-ZaPfAXhT.js";import{a as qe,S as We,b as Je,L as Qe,d as Ze,e as Xe,f as es,B as ss,C as as,g as ts,h as ns,i as is,j as rs,k as ls,p as os,c as cs,l as ds,m as ms,q as us}from"./dashboard-Bum9Xlfr.js";import{h as xs}from"./utils-vendor-DxpoukG0.js";import{l as hs,S as ps,C as gs}from"./messages-Dn-JV80C.js";import{b as js,a as fs,d as bs}from"./state-vendor-rPBjJaR_.js";import{c as ys}from"./meetings-B8BiM5IE.js";import{_ as Ns}from"./file-vendor-D5NpndWQ.js";import"./supabase-vendor-AMUhAiAi.js";import"./chart-vendor-BDEFy5qM.js";import"./donations-o5PE7GOT.js";import"./form-vendor-CfNvelWt.js";var vs;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var ws=t;vs=ws.createRoot,ws.hydrateRoot;const ks=e=>({super_admin:"Süper Yönetici",admin:"Yönetici",manager:"Müdür",coordinator:"Koordinatör",operator:"Operatör",viewer:"Görüntüleyici"}[e]||e),_s=()=>{const{currentLanguage:s,changeLanguage:a,availableLanguages:t}=qe();return e.jsx("div",{className:"relative",children:e.jsxs(We,{value:s,onValueChange:e=>{a(e)},children:[e.jsx(Je,{className:"w-[140px] h-9",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:Qe[s]}),e.jsx("span",{className:"text-sm font-medium",children:Ze[s]}),e.jsx(x,{className:"w-4 h-4"})]})}),e.jsx(Xe,{children:t.map(s=>e.jsx(es,{value:s,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:Qe[s]}),e.jsx("span",{children:Ze[s]})]})},s))})]})})},Es={type:[],dateRange:{from:"",to:""},status:[],region:[]},Ts=()=>{const[s,a]=n.useState(!1),[t,r]=n.useState(""),[l,o]=n.useState([]),[c,d]=n.useState(!1),[m,u]=n.useState(!1),[x,N]=n.useState(Es),[v,w]=n.useState([]),k=n.useRef(null),_=n.useRef(null),E=i();n.useEffect(()=>{const e=localStorage.getItem("recent_searches");e&&w(JSON.parse(e))},[]),n.useEffect(()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&(a(!1),u(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),n.useEffect(()=>{const e=setTimeout(()=>{t.length>=2?T():o([])},300);return()=>clearTimeout(e)},[t,x]),n.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),a(!0),_.current?.focus()),"Escape"===e.key&&(a(!1),u(!1))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const T=n.useCallback(async()=>{if(t.trim()){d(!0);try{const e=[];if(0===x.type.length||x.type.includes("beneficiary")){const{data:s}=await h.from("beneficiaries").select("*").or(`name.ilike.%${t}%,surname.ilike.%${t}%,identity_no.ilike.%${t}%,phone.ilike.%${t}%`).limit(5);s?.forEach(s=>{e.push({id:s.id,type:"beneficiary",title:`${s.name} ${s.surname}`,subtitle:`${s.category} - ${s.city||"Şehir belirtilmemiş"}`,url:`/aid/beneficiaries/${s.id}`,metadata:s})})}if(0===x.type.length||x.type.includes("application")){const{data:s}=await h.from("applications").select("\n            *,\n            beneficiaries!inner(name, surname)\n          ").or(`description.ilike.%${t}%`).limit(5);s?.forEach(s=>{e.push({id:s.id,type:"application",title:`${s.beneficiaries.name} ${s.beneficiaries.surname} - Başvuru`,subtitle:`${s.aid_type} - ${s.status} - ${s.description?.substring(0,50)}...`,url:`/aid/applications?search=${s.id}`,metadata:s})})}if(o(e),t&&!v.includes(t)){const e=[t,...v.slice(0,4)];w(e),localStorage.setItem("recent_searches",JSON.stringify(e))}}catch(e){}finally{d(!1)}}},[t,x,v]),z=s=>{switch(s){case"beneficiary":return e.jsx(y,{className:"h-4 w-4 text-blue-600"});case"application":return e.jsx(b,{className:"h-4 w-4 text-orange-600"});case"donation":return e.jsx(f,{className:"h-4 w-4 text-green-600"});default:return e.jsx(p,{className:"h-4 w-4 text-gray-600"})}};return e.jsxs("div",{ref:k,className:"relative",children:[e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 rounded-lg border bg-background px-3 py-2 text-sm text-muted-foreground hover:bg-accent w-full max-w-sm",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx("span",{children:"Ara..."}),e.jsxs("kbd",{className:"ml-auto hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-xs font-medium text-muted-foreground opacity-100",children:[e.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm"}),e.jsxs("div",{className:"fixed inset-x-4 top-20 z-50 mx-auto max-w-2xl rounded-lg border bg-background p-0 shadow-lg",children:[e.jsxs("div",{className:"flex items-center border-b p-4",children:[e.jsx(p,{className:"mr-2 h-4 w-4 shrink-0 text-muted-foreground"}),e.jsx("input",{ref:_,type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"İhtiyaç sahibi, başvuru veya bağışçı ara...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground",autoFocus:!0}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(!m),className:"rounded p-1.5 hover:bg-accent "+(m?"bg-accent":""),title:"Filtreler",children:e.jsx(g,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>a(!1),className:"rounded p-1.5 hover:bg-accent",children:e.jsx(j,{className:"h-4 w-4"})})]})]}),m&&e.jsxs("div",{className:"border-b bg-muted/30 p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-medium",children:"Tür"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"beneficiary",label:"İhtiyaç Sahibi"},{value:"application",label:"Başvuru"},{value:"donation",label:"Bağış"}].map(s=>e.jsx("button",{onClick:()=>{const e=x.type.includes(s.value)?x.type.filter(e=>e!==s.value):[...x.type,s.value];N({...x,type:e})},className:"rounded px-3 py-1 text-xs "+(x.type.includes(s.value)?"bg-primary text-primary-foreground":"bg-background border"),children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-medium",children:"Tarih Aralığı"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:x.dateRange.from,onChange:e=>N({...x,dateRange:{...x.dateRange,from:e.target.value}}),className:"flex-1 rounded border px-2 py-1 text-xs"}),e.jsx("input",{type:"date",value:x.dateRange.to,onChange:e=>N({...x,dateRange:{...x.dateRange,to:e.target.value}}),className:"flex-1 rounded border px-2 py-1 text-xs"})]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:Object.values(x).some(e=>Array.isArray(e)?e.length>0:e)&&"Filtreler aktif"}),e.jsx("button",{onClick:()=>{N(Es)},className:"text-xs text-primary hover:underline",children:"Filtreleri Temizle"})]})]}),e.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[c&&e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}),!c&&t.length>=2&&0===l.length&&e.jsxs("div",{className:"p-8 text-center text-sm text-muted-foreground",children:[e.jsx(p,{className:"mx-auto mb-3 h-8 w-8 text-muted-foreground/50"}),e.jsxs("p",{children:['"',t,'" için sonuç bulunamadı']}),e.jsx("p",{className:"mt-1 text-xs",children:"Farklı kelimeler deneyin veya filtreleri değiştirin"})]}),!c&&t.length<2&&v.length>0&&e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"mb-3 text-xs font-medium text-muted-foreground",children:"Son Aramalar"}),e.jsx("div",{className:"space-y-1",children:v.map((s,a)=>e.jsxs("button",{onClick:()=>r(s),className:"flex w-full items-center gap-3 rounded px-3 py-2 text-sm hover:bg-accent",children:[e.jsx(p,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s})]},a))})]}),!c&&l.length>0&&e.jsxs("div",{className:"p-2",children:[l.map(s=>e.jsxs("button",{onClick:()=>(e=>{E(e.url),a(!1),r("")})(s),className:"flex w-full items-center gap-3 rounded px-3 py-3 text-left hover:bg-accent",children:[z(s.type),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:s.title}),e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:s.subtitle})]}),e.jsx("kbd",{className:"hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-xs font-medium text-muted-foreground opacity-100",children:"↵"})]},`${s.type}-${s.id}`)),l.length>=10&&e.jsx("div",{className:"border-t p-3 text-center",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Daha fazla sonuç için daha spesifik arama yapın"})})]})]})]})]})]})};function zs({userId:s}){const[a,t]=n.useState([]),[i,r]=n.useState(0),[l,o]=n.useState(!1),[c,d]=n.useState(!1);n.useEffect(()=>{m();const e=h.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${s}`},e=>{const s=e.new;t(e=>[s,...e]),r(e=>e+1),"granted"===Notification.permission&&new Notification(s.title,{body:s.message,icon:"/favicon.ico"})}).subscribe();return()=>{e.unsubscribe()}},[s]);const m=async()=>{d(!0);try{const{data:e,error:a}=await h.from("notifications").select("*").eq("user_id",s).order("created_at",{ascending:!1}).limit(20);if(a)throw a;t(e||[]),r(e?.filter(e=>!e.is_read).length||0)}catch(e){}finally{d(!1)}},u=s=>{switch(s){case"meeting_invite":case"meeting_reminder":case"meeting_update":return e.jsx(_,{className:"h-5 w-5 text-blue-500"});case"task_assigned":case"task_completed":case"task_due_reminder":return e.jsx(k,{className:"h-5 w-5 text-green-500"});case"new_message":case"mention":return e.jsx(w,{className:"h-5 w-5 text-purple-500"});case"user_joined":return e.jsx(v,{className:"h-5 w-5 text-orange-500"});default:return e.jsx(N,{className:"h-5 w-5 text-gray-500"})}},x=e=>{if(e.is_read||(async e=>{try{const{error:s}=await h.from("notifications").update({is_read:!0,read_at:(new Date).toISOString()}).eq("id",e);if(s)throw s;t(s=>s.map(s=>s.id===e?{...s,is_read:!0,read_at:(new Date).toISOString()}:s)),r(e=>Math.max(0,e-1))}catch(s){}})(e.id),e.data){const{type:s,data:a}=e;switch(s){case"meeting_invite":case"meeting_reminder":case"meeting_update":a.meeting_id&&(window.location.href=`/meetings?id=${a.meeting_id}`);break;case"task_assigned":case"task_completed":case"task_due_reminder":a.task_id&&(window.location.href=`/tasks?id=${a.task_id}`);break;case"new_message":case"mention":a.conversation_id&&(window.location.href=`/internal-messages?conversation=${a.conversation_id}`)}}};return n.useEffect(()=>{(async()=>{"default"===Notification.permission&&await Notification.requestPermission()})()},[]),e.jsxs("div",{className:"relative",children:[e.jsxs(ss,{variant:"ghost",size:"sm",onClick:()=>o(!l),className:"relative",children:[e.jsx(N,{className:"h-5 w-5"}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:i>9?"9+":i})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),e.jsxs(as,{className:"absolute right-0 mt-2 w-80 max-h-96 overflow-hidden z-50 shadow-lg",children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Bildirimler"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[i>0&&e.jsx(ss,{size:"sm",variant:"ghost",onClick:async()=>{try{const e=a.filter(e=>!e.is_read).map(e=>e.id);if(0===e.length)return;const{error:s}=await h.from("notifications").update({is_read:!0,read_at:(new Date).toISOString()}).in("id",e);if(s)throw s;t(e=>e.map(e=>({...e,is_read:!0,read_at:(new Date).toISOString()}))),r(0)}catch(e){}},className:"text-xs",children:"Tümünü Okundu İşaretle"}),e.jsx(ss,{size:"sm",variant:"ghost",onClick:()=>o(!1),children:e.jsx(j,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:c?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Yükleniyor..."})]}):a.length>0?e.jsx("div",{className:"divide-y",children:a.map(s=>e.jsx("div",{className:"p-4 hover:bg-muted/50 cursor-pointer transition-colors "+(s.is_read?"":"bg-primary/5"),onClick:()=>x(s),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:u(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium truncate "+(s.is_read?"text-muted-foreground":"text-foreground"),children:s.title}),e.jsxs("div",{className:"flex items-center space-x-1",children:[!s.is_read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx(ss,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),(async e=>{try{const{error:s}=await h.from("notifications").delete().eq("id",e);if(s)throw s;const n=!1===a.find(s=>s.id===e)?.is_read;t(s=>s.filter(s=>s.id!==e)),n&&r(e=>Math.max(0,e-1))}catch(s){}})(s.id)},className:"p-1 h-auto",children:e.jsx(j,{className:"h-3 w-3"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:xs(new Date(s.created_at),"dd MMM HH:mm",{locale:hs})})]})]})},s.id))}):e.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[e.jsx(N,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Bildirim bulunmuyor"})]})}),a.length>0&&e.jsx("div",{className:"p-2 border-t",children:e.jsx(ss,{variant:"ghost",size:"sm",className:"w-full text-sm",onClick:()=>{o(!1),window.location.href="/notifications"},children:"Tüm Bildirimleri Görüntüle"})})]})]})]})}const Ss=n.createContext(void 0),Cs=()=>{const e=n.useContext(Ss);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},As=({children:s,defaultTheme:a="system",storageKey:t="ui-theme"})=>{const[i,r]=n.useState(()=>{if("undefined"!=typeof window){const e=localStorage.getItem(t);if(e&&["light","dark","system"].includes(e))return e}return a}),[l,o]=n.useState("light");n.useEffect(()=>{localStorage.setItem(t,i);const e="system"===i?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i;o(e);const s=window.document.documentElement;if(s.classList.remove("light","dark"),s.classList.add(e),"system"===i){const e=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{const a=e.matches?"dark":"light";o(a),s.classList.remove("light","dark"),s.classList.add(a)};return e.addEventListener("change",a),()=>e.removeEventListener("change",a)}},[i,t]);const c={theme:i,setTheme:r,actualTheme:l};return e.jsx(Ss.Provider,{value:c,children:s})},Ds=()=>{const{theme:s,setTheme:a}=Cs();return e.jsx(ss,{variant:"ghost",size:"icon",onClick:()=>{a("light"===s?"dark":"dark"===s?"system":"light")},title:(()=>{switch(s){case"light":return"Açık tema (Koyu temaya geç)";case"dark":return"Koyu tema (Sistem temasına geç)";case"system":return"Sistem teması (Açık temaya geç)";default:return"Tema değiştir"}})(),className:"h-9 w-9 transition-colors hover:bg-accent hover:text-accent-foreground",children:(()=>{switch(s){case"light":default:return e.jsx(E,{className:"h-4 w-4"});case"dark":return e.jsx(z,{className:"h-4 w-4"});case"system":return e.jsx(T,{className:"h-4 w-4"})}})()})};function Is(){const{signIn:e}=S();return js({mutationFn:ys,onSuccess:async s=>{C.success(`Demo hesabı oluşturuldu!\nEmail: ${s.email}\nŞifre: ${s.password}\nRol: ${s.profile.role}`,{duration:1e4,action:{label:"Giriş Yap",onClick:async()=>{try{await e(s.email,s.password),C.success("Demo hesabıyla giriş yapıldı!")}catch(a){C.error("Giriş yapılamadı")}}}})},onError:e=>{C.error(`Demo hesabı oluşturulamadı: ${e.message}`)}})}const Os=e=>["super_admin","admin","manager","coordinator","operator","viewer"].includes(e)?e:void 0;function Rs({onOpenAICenter:s}={}){const a=r(),t=i(),{user:l,profile:o}=S(),c=o,[d,m]=n.useState(!1),u=Is(),x=(()=>{const e=a.pathname;return"/"===e?"Dashboard":e.startsWith("/meetings")?"Toplantılar":e.startsWith("/internal-messages")?"İç Mesajlar":e.startsWith("/tasks")?"Görevler":e.startsWith("/donations")?"Bağış Yönetimi":e.startsWith("/messages")?"Mesaj Yönetimi":e.startsWith("/scholarship")?"Burs Yönetimi":e.startsWith("/aid")?"Yardım Yönetimi":e.startsWith("/fund")?"Fon Yönetimi":e.startsWith("/definitions")?"Tanımlamalar":e.startsWith("/system")?"Sistem Ayarları":"Panel"})();return e.jsx("header",{className:"sticky top-0 z-10 h-14 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"mx-auto flex h-full items-center justify-between px-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-lg font-semibold",children:x})}),e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[e.jsx(Ts,{}),s&&e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",title:"AI Komut Merkezi (Ctrl+K)",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"AI Asistan"})]}),l&&e.jsx(zs,{userId:l.id}),e.jsx(_s,{}),e.jsx(Ds,{}),l&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 hover:text-foreground transition-colors rounded-lg px-2 py-1 hover:bg-accent",title:"Kullanıcı Menüsü",children:[c?.avatar_url?e.jsx("img",{src:c.avatar_url,alt:c.full_name||"User",className:"h-6 w-6 rounded-full"}):e.jsx(D,{className:"h-6 w-6"}),c?.full_name&&e.jsxs("div",{className:"hidden md:flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:c.full_name||l.email}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Os(c.role)?ks(Os(c.role)):"—"})]})]}),d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 rounded-md border bg-popover p-1 shadow-md z-20",children:[e.jsxs("div",{className:"px-3 py-2 border-b",children:[e.jsx("p",{className:"text-sm font-medium",children:c?.full_name||"İsimsiz Kullanıcı"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c&&Os(c.role)?ks(Os(c.role)):"—"})]}),e.jsxs("button",{className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm hover:bg-accent",onClick:()=>{m(!1)},children:[e.jsx(I,{className:"h-4 w-4"}),"Profilim"]}),e.jsxs("button",{className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm hover:bg-accent",onClick:()=>{m(!1),t("/definitions/general-settings")},children:[e.jsx(O,{className:"h-4 w-4"}),"Ayarlar"]}),e.jsxs("button",{className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm hover:bg-accent",onClick:()=>{m(!1),u.mutate()},disabled:u.isPending,children:[e.jsx(v,{className:"h-4 w-4"}),u.isPending?"Demo Hesabı Oluşturuluyor...":"Demo Hesabı Oluştur"]}),e.jsx("div",{className:"border-t my-1"}),e.jsxs("button",{onClick:()=>{m(!1),(async()=>{})()},className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-950",children:[e.jsx(R,{className:"h-4 w-4"}),"Çıkış Yap"]})]})]})]})]})]})})}function Ls(){const s=r(),[a,t]=n.useState(s.pathname.startsWith("/aid")),[i,c]=n.useState(s.pathname.startsWith("/messages")),[d,m]=n.useState(s.pathname.startsWith("/donations")),[u,h]=n.useState(s.pathname.startsWith("/scholarship")),[p,g]=n.useState(s.pathname.startsWith("/fund")),[j,N]=n.useState(s.pathname.startsWith("/system")),[v,k]=n.useState(s.pathname.startsWith("/definitions")),E=(s,a,t,n=!1)=>e.jsxs(o,{to:s,className:({isActive:e})=>`flex items-center gap-3 rounded px-3 py-2 text-sm sidebar-nav-item transition-colors ${e?"active":""} ${n?"ml-6":""}`,children:[a,e.jsx("span",{children:t})]}),T=(s,a,t,n)=>e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3 rounded px-3 py-2 text-sm sidebar-nav-item transition-colors cursor-pointer",onClick:n,children:[s,e.jsx("span",{className:"flex-1",children:a}),t?e.jsx(x,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})]})}),z=[{to:"/aid/beneficiaries",icon:e.jsx(y,{className:"h-4 w-4"}),label:"İhtiyaç Sahipleri"},{to:"/aid/applications",icon:e.jsx(b,{className:"h-4 w-4"}),label:"Yardım Başvuruları"},{to:"/aid/cash-vault",icon:e.jsx(U,{className:"h-4 w-4"}),label:"Nakdi Yardım Veznesi"},{to:"/aid/bank-orders",icon:e.jsx(H,{className:"h-4 w-4"}),label:"Banka Ödeme Emirleri"},{to:"/aid/cash-operations",icon:e.jsx(G,{className:"h-4 w-4"}),label:"Nakdi Yardım İ��lemleri"},{to:"/aid/in-kind-operations",icon:e.jsx(W,{className:"h-4 w-4"}),label:"Ayni Yardım İşlemleri"},{to:"/aid/service-tracking",icon:e.jsx(y,{className:"h-4 w-4"}),label:"Hizmet Takip İşlemleri"},{to:"/aid/hospital-referrals",icon:e.jsx(ae,{className:"h-4 w-4"}),label:"Hastane Sevk İşlemleri"},{to:"/aid/reports",icon:e.jsx(B,{className:"h-4 w-4"}),label:"Raporlar"},{to:"/aid/parameters",icon:e.jsx(O,{className:"h-4 w-4"}),label:"Parametreler"},{to:"/aid/data-control",icon:e.jsx(J,{className:"h-4 w-4"}),label:"Veri Kontrolü"},{to:"/aid/module-info",icon:e.jsx(ee,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}],S=[{to:"/donations",icon:e.jsx(B,{className:"h-4 w-4"}),label:"Bağış Listesi"},{to:"/donations/vault",icon:e.jsx(U,{className:"h-4 w-4"}),label:"Bağış Veznesi"},{to:"/donations/institutions",icon:e.jsx(y,{className:"h-4 w-4"}),label:"Kurumlar"},{to:"/donations/cash",icon:e.jsx(G,{className:"h-4 w-4"}),label:"Nakit Bağışlar"},{to:"/donations/bank",icon:e.jsx(H,{className:"h-4 w-4"}),label:"Banka Bağışları"},{to:"/donations/credit-card",icon:e.jsx(H,{className:"h-4 w-4"}),label:"Kredi Kartı Bağışları"},{to:"/donations/online",icon:e.jsx(F,{className:"h-4 w-4"}),label:"Online Bağışlar"},{to:"/donations/numbers",icon:e.jsx(b,{className:"h-4 w-4"}),label:"Bağış Numaraları"},{to:"/donations/funding-definitions",icon:e.jsx(O,{className:"h-4 w-4"}),label:"Fonlama Tanımları"},{to:"/donations/sacrifice-periods",icon:e.jsx(q,{className:"h-4 w-4"}),label:"Kurban Dönemleri"},{to:"/donations/sacrifice-shares",icon:e.jsx(W,{className:"h-4 w-4"}),label:"Kurban Hisseleri"},{to:"/donations/ramadan-periods",icon:e.jsx(q,{className:"h-4 w-4"}),label:"Ramazan Dönemleri"},{to:"/donations/piggy-bank",icon:e.jsx(J,{className:"h-4 w-4"}),label:"Kumbara Takibi"},{to:"/donations/bulk-provisioning",icon:e.jsx(Q,{className:"h-4 w-4"}),label:"Toplu Provizyon"}],C=[{to:"/messages",icon:e.jsx(Z,{className:"h-4 w-4"}),label:"Mesaj Yönetimi"},{to:"/messages/bulk-send",icon:e.jsx(Q,{className:"h-4 w-4"}),label:"Toplu Mesaj Gönderimi"},{to:"/messages/groups",icon:e.jsx(q,{className:"h-4 w-4"}),label:"Mesaj Grupları"},{to:"/messages/templates",icon:e.jsx(w,{className:"h-4 w-4"}),label:"Mesaj Şablonları"},{to:"/messages/sms-deliveries",icon:e.jsx(X,{className:"h-4 w-4"}),label:"SMS Gönderimleri"},{to:"/messages/email-deliveries",icon:e.jsx(F,{className:"h-4 w-4"}),label:"e-Posta Gönderimleri"},{to:"/messages/module-info",icon:e.jsx(ee,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}],A=[{to:"/scholarship",icon:e.jsx(y,{className:"h-4 w-4"}),label:"Yetimler & Öğrenciler"},{to:"/scholarship/visual-management",icon:e.jsx(b,{className:"h-4 w-4"}),label:"Görsel Yönetimi"},{to:"/scholarship/definitions",icon:e.jsx(O,{className:"h-4 w-4"}),label:"Tanımlamalar"},{to:"/scholarship/tracking-categories",icon:e.jsx(q,{className:"h-4 w-4"}),label:"Takip Kategorileri"},{to:"/scholarship/orphan-form",icon:e.jsx(b,{className:"h-4 w-4"}),label:"Yetim Bilgi Formu"},{to:"/scholarship/orphan-letters",icon:e.jsx(Z,{className:"h-4 w-4"}),label:"Yetim Mektupları"},{to:"/scholarship/campaigns",icon:e.jsx(q,{className:"h-4 w-4"}),label:"Kampanyalar"},{to:"/scholarship/schools",icon:e.jsx(se,{className:"h-4 w-4"}),label:"Okullar"},{to:"/scholarship/form-definitions",icon:e.jsx(b,{className:"h-4 w-4"}),label:"Form Tanımları"},{to:"/scholarship/price-definitions",icon:e.jsx(G,{className:"h-4 w-4"}),label:"Fiyat Tanımları"},{to:"/scholarship/address-labels",icon:e.jsx(W,{className:"h-4 w-4"}),label:"Adres Etiket Baskı"},{to:"/scholarship/reports",icon:e.jsx(B,{className:"h-4 w-4"}),label:"Raporlar"},{to:"/scholarship/data-control",icon:e.jsx(J,{className:"h-4 w-4"}),label:"Veri Kontrolü"},{to:"/scholarship/module-info",icon:e.jsx(ee,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}],D=[{to:"/fund/movements",icon:e.jsx(P,{className:"h-4 w-4"}),label:"Tüm Fon Hareketleri"},{to:"/fund/complete-report",icon:e.jsx(B,{className:"h-4 w-4"}),label:"Tam Fon Raporu"},{to:"/fund/regions",icon:e.jsx(M,{className:"h-4 w-4"}),label:"Fon Bölgeleri"},{to:"/fund/work-areas",icon:e.jsx(V,{className:"h-4 w-4"}),label:"Çalışma Bölgeleri"},{to:"/fund/definitions",icon:e.jsx(O,{className:"h-4 w-4"}),label:"Fon Tanımları"},{to:"/fund/activity-definitions",icon:e.jsx(K,{className:"h-4 w-4"}),label:"Faaliyet Tanımları"},{to:"/fund/sources-expenses",icon:e.jsx(Y,{className:"h-4 w-4"}),label:"Kaynak & Harcama"},{to:"/fund/aid-categories",icon:e.jsx($,{className:"h-4 w-4"}),label:"Yardım Kategorileri"}],I=[{to:"/system/user-management",icon:e.jsx(y,{className:"h-4 w-4"}),label:"Kullanıcı Yönetimi"},{to:"/system/warning-messages",icon:e.jsx(ue,{className:"h-4 w-4"}),label:"Uyarı Mesajları"},{to:"/system/structural-controls",icon:e.jsx(J,{className:"h-4 w-4"}),label:"Yapısal Kontroller"},{to:"/system/local-ips",icon:e.jsx(xe,{className:"h-4 w-4"}),label:"Yerel IP Adresleri"},{to:"/system/ip-blocking",icon:e.jsx(ne,{className:"h-4 w-4"}),label:"IP Engelleme / Savunma"}],R=[{to:"/definitions/unit-roles",icon:e.jsx(te,{className:"h-4 w-4"}),label:"Birim Rolleri"},{to:"/definitions/units",icon:e.jsx(V,{className:"h-4 w-4"}),label:"Birimler"},{to:"/definitions/user-accounts",icon:e.jsx(y,{className:"h-4 w-4"}),label:"Kullanıcı Hesapları"},{to:"/definitions/permission-groups",icon:e.jsx(ne,{className:"h-4 w-4"}),label:"Yetki Grupları"},{to:"/definitions/buildings",icon:e.jsx(ie,{className:"h-4 w-4"}),label:"Binalar"},{to:"/definitions/internal-lines",icon:e.jsx(re,{className:"h-4 w-4"}),label:"Sabit Dahili Hatlar"},{to:"/definitions/process-flows",icon:e.jsx(le,{className:"h-4 w-4"}),label:"Süreç Akışları"},{to:"/definitions/passport-formats",icon:e.jsx(H,{className:"h-4 w-4"}),label:"Pasaport Formatları"},{to:"/definitions/countries-cities",icon:e.jsx(oe,{className:"h-4 w-4"}),label:"Ülke ve Şehirler"},{to:"/definitions/institution-types",icon:e.jsx(ae,{className:"h-4 w-4"}),label:"Kurum Tür Tanımları"},{to:"/definitions/institution-status",icon:e.jsx(K,{className:"h-4 w-4"}),label:"Kurum Statü Tanımları"},{to:"/definitions/donation-methods",icon:e.jsx(f,{className:"h-4 w-4"}),label:"Bağış Yöntemleri"},{to:"/definitions/delivery-types",icon:e.jsx(ce,{className:"h-4 w-4"}),label:"Teslimat Tür Tanımları"},{to:"/definitions/meeting-requests",icon:e.jsx(w,{className:"h-4 w-4"}),label:"Görüşme İstek Tanımları"},{to:"/definitions/gsm-codes",icon:e.jsx(X,{className:"h-4 w-4"}),label:"GSM Kod Numaraları"},{to:"/definitions/interface-languages",icon:e.jsx(de,{className:"h-4 w-4"}),label:"Arayüz Dilleri"},{to:"/definitions/translations",icon:e.jsx(me,{className:"h-4 w-4"}),label:"Tercüme"},{to:"/definitions/general-settings",icon:e.jsx(O,{className:"h-4 w-4"}),label:"Genel Ayarlar"},{to:"/definitions/module-info",icon:e.jsx(ee,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}];return e.jsxs("aside",{className:"sticky top-0 hidden h-screen w-64 shrink-0 border-r bg-sidebar-bg text-sidebar-text md:block overflow-y-auto",children:[e.jsx("div",{className:"flex h-14 items-center gap-2 border-b border-sidebar-border px-4",children:e.jsx(l,{to:"/",className:"flex items-center gap-2",children:e.jsx("span",{className:"text-base font-semibold",children:"Dernek Paneli"})})}),e.jsxs("div",{className:"space-y-4 p-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-sidebar-text-muted",children:"Genel"}),e.jsx("div",{className:"space-y-1",children:E("/",e.jsx(ie,{className:"h-4 w-4"}),"Ana Sayfa")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-sidebar-text-muted",children:"Collaboration"}),e.jsxs("div",{className:"space-y-1",children:[E("/meetings",e.jsx(_,{className:"h-4 w-4"}),"Toplantılar"),E("/internal-messages",e.jsx(w,{className:"h-4 w-4"}),"İç Mesajlar"),E("/tasks",e.jsx(he,{className:"h-4 w-4"}),"Görevler")]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-sidebar-text-muted",children:"Modüller"}),e.jsxs("div",{className:"space-y-1",children:[T(e.jsx(U,{className:"h-4 w-4"}),"Fon Yönetimi",p,()=>g(!p)),p&&e.jsx("div",{className:"space-y-1 mt-1",children:D.map((s,a)=>e.jsx("div",{children:E(s.to,s.icon,s.label,!0)},`fund-sub-${a}`))}),T(e.jsx(f,{className:"h-4 w-4"}),"Bağış Yönetimi",d,()=>m(!d)),d&&e.jsx("div",{className:"space-y-1 mt-1",children:S.map((s,a)=>e.jsx("div",{children:E(s.to,s.icon,s.label,!0)},`donations-sub-${a}`))}),T(e.jsx(Z,{className:"h-4 w-4"}),"Mesaj Yönetimi",i,()=>c(!i)),i&&e.jsx("div",{className:"space-y-1 mt-1",children:C.map((s,a)=>e.jsx("div",{children:E(s.to,s.icon,s.label,!0)},`messages-sub-${a}`))}),T(e.jsx(se,{className:"h-4 w-4"}),"Burs Yönetimi",u,()=>h(!u)),u&&e.jsx("div",{className:"space-y-1 mt-1",children:A.map((s,a)=>e.jsx("div",{children:E(s.to,s.icon,s.label,!0)},`scholarship-sub-${a}`))}),T(e.jsx(pe,{className:"h-4 w-4"}),"Yardım Yönetimi",a,()=>t(!a)),a&&e.jsx("div",{className:"space-y-1 mt-1",children:z.map((s,a)=>e.jsx("div",{children:E(s.to,s.icon,s.label,!0)},`aid-sub-${a}`))}),T(e.jsx(O,{className:"h-4 w-4"}),"Tanımlamalar",v,()=>k(!v)),v&&e.jsx("div",{className:"space-y-1 mt-1",children:R.map((s,a)=>e.jsx("div",{children:E(s.to,s.icon,s.label,!0)},`definitions-sub-${a}`))}),T(e.jsx(ne,{className:"h-4 w-4"}),"Sistem",j,()=>N(!j)),j&&e.jsx("div",{className:"space-y-1 mt-1",children:I.map((s,a)=>e.jsx("div",{children:E(s.to,s.icon,s.label,!0)},`system-sub-${a}`))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-sidebar-text-muted",children:"Demo"}),e.jsxs("div",{className:"space-y-1",children:[E("/demo/related-records",e.jsx(b,{className:"h-4 w-4"}),"Bağlantılı Kayıtlar"),E("/supabase-test",e.jsx(J,{className:"h-4 w-4"}),"Supabase Test")]})]})]})]})}function Ps({children:s,onOpenAICenter:a}){return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ls,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(Rs,{onOpenAICenter:a}),e.jsx("main",{className:"p-4 lg:p-6",children:s})]})]})})}const Bs=n.createContext(null),Ms={didCatch:!1,error:null};let Vs=class extends n.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ms}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var s,a,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];null===(s=(a=this.props).onReset)||void 0===s||s.call(a,{args:n,reason:"imperative-api"}),this.setState(Ms)}}componentDidCatch(e,s){var a,t;null===(a=(t=this.props).onError)||void 0===a||a.call(t,e,s)}componentDidUpdate(e,s){const{didCatch:a}=this.state,{resetKeys:t}=this.props;var n,i;a&&null!==s.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==s.length||e.some((e,a)=>!Object.is(e,s[a]))}(e.resetKeys,t)&&(null===(n=(i=this.props).onReset)||void 0===n||n.call(i,{next:t,prev:e.resetKeys,reason:"keys"}),this.setState(Ms))}render(){const{children:e,fallbackRender:s,FallbackComponent:a,fallback:t}=this.props,{didCatch:i,error:r}=this.state;let l=e;if(i){const e={error:r,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof s)l=s(e);else if(a)l=n.createElement(a,e);else{if(void 0===t)throw r;l=t}}return n.createElement(Bs.Provider,{value:{didCatch:i,error:r,resetErrorBoundary:this.resetErrorBoundary}},l)}};const Ks=({type:s="dashboard"})=>{switch(s){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-8 w-8 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-32 animate-pulse"})]}),e.jsx(ns,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(is,{}),e.jsx(is,{})]})]});case"table":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded w-32 animate-pulse"})]}),e.jsx(ts,{rows:8,columns:6})]});case"form":return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-64 mb-6 animate-pulse"}),e.jsxs("div",{className:"space-y-6",children:[Array.from({length:4}).map((s,a)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]})]},a)),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded w-20 animate-pulse"})]})]})]});case"stats":return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{icon:y,label:"Yararlanıcılar"},{icon:G,label:"Toplam Yardım"},{icon:b,label:"Başvurular"},{icon:P,label:"Bu Ay"}].map((s,a)=>e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20 mb-2 animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-16 animate-pulse"})]})]})},a))})});default:return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 w-8 bg-muted rounded-full animate-pulse mx-auto mb-3"}),e.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]})})}},Ys=({type:s="dashboard"})=>{switch(s){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ge,{className:"h-8 w-8 text-muted animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-40 animate-pulse"})]}),e.jsx(ns,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(is,{}),e.jsx(is,{}),e.jsx(is,{})]})]});case"table":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded w-32 animate-pulse"})]})]}),e.jsx("div",{className:"flex gap-4 mb-4",children:Array.from({length:4}).map((s,a)=>e.jsx("div",{className:"h-8 bg-muted rounded w-20 animate-pulse"},a))}),e.jsx(ts,{rows:10,columns:7})]});case"form":return e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-64 mb-6 animate-pulse"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),Array.from({length:5}).map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},a))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),Array.from({length:5}).map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},a))]})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded w-20 animate-pulse"})]})]});case"vault":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(V,{className:"h-8 w-8 text-muted animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-32 animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((s,a)=>e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20 animate-pulse"}),e.jsx("div",{className:"h-6 w-6 bg-muted rounded animate-pulse"})]}),e.jsx("div",{className:"h-8 bg-muted rounded w-24 mb-2 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-16 animate-pulse"})]},a))})]});case"tracking":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(je,{className:"h-8 w-8 text-muted animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:Array.from({length:4}).map((s,a)=>e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-16 mb-2 animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-20 animate-pulse"})]},a))}),e.jsx(ts,{rows:8,columns:5})]});default:return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge,{className:"h-8 w-8 text-muted animate-pulse mx-auto mb-3"}),e.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]})})}},$s=({type:s="dashboard"})=>{switch(s){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(se,{className:"h-8 w-8 text-muted animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-36 animate-pulse"})]}),e.jsx(ns,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),e.jsx(is,{})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),e.jsx(is,{})]})]})]});case"table":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 bg-muted rounded w-28 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded w-32 animate-pulse"})]})]}),e.jsx("div",{className:"flex gap-4 mb-4",children:["Tümü","Aktif","Beklemede","Tamamlanan"].map((s,a)=>e.jsx("div",{className:"h-8 bg-muted rounded w-20 animate-pulse"},a))}),e.jsx(ts,{rows:12,columns:8})]});case"form":return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-64 mb-6 animate-pulse"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},a))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},a))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},a))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded w-20 animate-pulse"})]})]});case"students":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(y,{className:"h-8 w-8 text-muted animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-40 animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{icon:y,label:"Toplam Öğrenci"},{icon:fe,label:"Aktif Burslar"},{icon:be,label:"Başarılı"},{icon:se,label:"Mezun"}].map((s,a)=>e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20 mb-2 animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-16 animate-pulse"})]})]})},a))}),e.jsx(ts,{rows:10,columns:7})]});case"applications":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(fe,{className:"h-8 w-8 text-muted animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:["Yeni Başvurular","İncelenen","Onaylanan"].map((s,a)=>e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 mb-2 animate-pulse"}),e.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-20 animate-pulse"})]},a))}),e.jsx(ts,{rows:8,columns:6})]});default:return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-8 w-8 text-muted animate-pulse mx-auto mb-3"}),e.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]})})}},Us=({error:s,resetErrorBoundary:a,module:t})=>e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(ue,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),e.jsxs("h2",{className:"text-lg font-semibold text-foreground mb-2",children:[t.charAt(0).toUpperCase()+t.slice(1)," Modülü Yüklenemedi"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Bir hata oluştu. Lütfen sayfayı yenilemeyi deneyin."}),e.jsxs("details",{className:"text-xs text-muted-foreground mb-4",children:[e.jsx("summary",{className:"cursor-pointer hover:text-foreground",children:"Hata detayları"}),e.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-left overflow-auto",children:s.message})]}),e.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[e.jsx(ye,{className:"h-4 w-4"}),"Tekrar Dene"]})]})}),Gs=(s,a="dashboard")=>{switch(s){case"aid":return e.jsx(Ks,{type:a});case"donations":return e.jsx(Ys,{type:a});case"scholarship":return e.jsx($s,{type:a});case"messages":return e.jsx(rs,{text:"Mesajlar yükleniyor...",size:"lg"});case"fund":return e.jsx(rs,{text:"Fon bilgileri yükleniyor...",size:"lg"});case"system":return e.jsx(rs,{text:"Sistem ayarları yükleniyor...",size:"lg"});case"definitions":return e.jsx(rs,{text:"Tanımlar yükleniyor...",size:"lg"});case"dashboard":return e.jsx(rs,{text:"Dashboard yükleniyor...",size:"lg"});case"meetings":return e.jsx(rs,{text:"Toplantılar yükleniyor...",size:"lg"});case"internal_messages":return e.jsx(rs,{text:"İç mesajlar yükleniyor...",size:"lg"});case"tasks":return e.jsx(rs,{text:"Görevler yükleniyor...",size:"lg"});default:return e.jsx(rs,{text:"Sayfa yükleniyor...",size:"lg"})}},Hs=({children:s,module:a,loadingType:t="dashboard"})=>e.jsx(Vs,{FallbackComponent:s=>e.jsx(Us,{...s,module:a}),onReset:()=>window.location.reload(),children:e.jsx(n.Suspense,{fallback:Gs(a,t),children:s})}),Fs=(s,a="dashboard")=>e.jsx(Hs,{module:"aid",loadingType:a,children:e.jsx(s,{})}),qs=(s,a="dashboard")=>e.jsx(Hs,{module:"donations",loadingType:a,children:e.jsx(s,{})}),Ws=(s,a="dashboard")=>e.jsx(Hs,{module:"scholarship",loadingType:a,children:e.jsx(s,{})}),Js=s=>e.jsx(Hs,{module:"messages",children:e.jsx(s,{})}),Qs=s=>e.jsx(Hs,{module:"fund",children:e.jsx(s,{})}),Zs=s=>e.jsx(Hs,{module:"system",children:e.jsx(s,{})}),Xs=s=>e.jsx(Hs,{module:"definitions",children:e.jsx(s,{})}),ea=(s,a="dashboard")=>e.jsx(Hs,{module:"meetings",loadingType:a,children:e.jsx(s,{})}),sa=(s,a="dashboard")=>e.jsx(Hs,{module:"internal_messages",loadingType:a,children:e.jsx(s,{})}),aa=(s,a="dashboard")=>e.jsx(Hs,{module:"tasks",loadingType:a,children:e.jsx(s,{})}),ta=n.lazy(()=>Ns(()=>import("./Login-DV29TNo5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),na=n.lazy(()=>Ns(()=>import("./NotFound-COlxh3pj.js"),__vite__mapDeps([15,1,2,5,6,7,8,9,10,11,12]))),ia=n.lazy(()=>Ns(()=>import("./donations-o5PE7GOT.js").then(e=>e.L),__vite__mapDeps([14,1,2,5,6,7,8,9,10,11,12]))),ra=n.lazy(()=>Ns(()=>import("./DonationVault-BHDtAN1W.js"),__vite__mapDeps([16,1,2,14,5,6,7,8,9,10,11,12]))),la=n.lazy(()=>Ns(()=>import("./Institutions-DQXwQk88.js"),__vite__mapDeps([17,1,2,14,5,6,7,8,9,10,11,12,13,18,19,20]))),oa=n.lazy(()=>Ns(()=>import("./CashDonations-CWv1ginM.js"),__vite__mapDeps([21,1,2,14,5,6,7,8,9,10,11,12,13,22,23]))),ca=n.lazy(()=>Ns(()=>import("./BankDonations-D-zVqFek.js"),__vite__mapDeps([24,1,2,14,5,6,7,8,9,10,11,12,13,22,23]))),da=n.lazy(()=>Ns(()=>import("./CreditCardDonations-fIpOE9tA.js"),__vite__mapDeps([25,1,2,14,5,6,7,8,9,10,11,12,13]))),ma=n.lazy(()=>Ns(()=>import("./OnlineDonations-DOYRZny2.js"),__vite__mapDeps([26,1,2,14,5,6,7,8,9,10,11,12,13,27,19,20,23]))),ua=n.lazy(()=>Ns(()=>import("./DonationNumbers-B0YHVJNW.js"),__vite__mapDeps([28,1,2,14,5,6,7,8,9,10,11,12,13,22]))),xa=n.lazy(()=>Ns(()=>import("./FundingDefinitions-IvMQtgBg.js"),__vite__mapDeps([29,1,2,14,5,6,7,8,9,10,11,12,13]))),ha=n.lazy(()=>Ns(()=>import("./SacrificePeriods-CVl3TpCE.js"),__vite__mapDeps([30,1,2,14,5,6,7,8,9,10,11,12,13]))),pa=n.lazy(()=>Ns(()=>import("./SacrificeShares-DiPlzK4B.js"),__vite__mapDeps([31,1,2,14,5,6,7,8,9,10,11,12,13]))),ga=n.lazy(()=>Ns(()=>import("./RamadanPeriods-ktWFPDi3.js"),__vite__mapDeps([32,1,2,14,5,6,7,8,9,10,11,12,13]))),ja=n.lazy(()=>Ns(()=>import("./PiggyBankTracking-BtAKykMz.js"),__vite__mapDeps([33,1,2,14,5,6,7,8,9,10,11,12,13,34,35]))),fa=n.lazy(()=>Ns(()=>import("./BulkProvisioning-hR_5r1my.js"),__vite__mapDeps([36,1,2,14,5,6,7,8,9,10,11,12,37,13]))),ba=n.lazy(()=>Ns(()=>import("./messages-Dn-JV80C.js").then(e=>e.I),__vite__mapDeps([13,1,2,6,7,8,9,10,14,5,11,12]))),ya=n.lazy(()=>Ns(()=>import("./BulkSend-B7DlVS9Y.js"),__vite__mapDeps([38,1,2,13,6,7,8,9,10,14,5,11,12]))),Na=n.lazy(()=>Ns(()=>import("./Groups-DHxXZgrx.js"),__vite__mapDeps([39,1,2,14,5,6,7,8,9,10,11,12,13]))),va=n.lazy(()=>Ns(()=>import("./Templates-BTKAMV87.js"),__vite__mapDeps([40,1,2,14,5,6,7,8,9,10,11,12,13,18,19,20]))),wa=n.lazy(()=>Ns(()=>import("./SmsDeliveries-CoIyF6_B.js"),__vite__mapDeps([41,1,2,14,5,6,7,8,9,10,11,12,13]))),ka=n.lazy(()=>Ns(()=>import("./EmailDeliveries-BlWJzOzP.js"),__vite__mapDeps([42,1,2,14,5,6,7,8,9,10,11,12,13]))),_a=n.lazy(()=>Ns(()=>import("./Analytics-BPlyhNUr.js"),__vite__mapDeps([43,1,2,13,6,7,8,9,10,14,5,11,12]))),Ea=n.lazy(()=>Ns(()=>import("./ModuleInfo-Bc4fqgDO.js"),__vite__mapDeps([44,1,2,13,6,7,8,9,10,14,5,11,12]))),Ta=n.lazy(()=>Ns(()=>import("./scholarship-YAbr5TVC.js"),__vite__mapDeps([45,1,2,5,6,7,8,9,10,11,12]))),za=n.lazy(()=>Ns(()=>import("./OrphansStudents-BH1gb0Bi.js"),__vite__mapDeps([46,1,2,14,5,6,7,8,9,10,11,12,37,13]))),Sa=n.lazy(()=>Ns(()=>import("./Reports-O0vkKjgW.js"),__vite__mapDeps([47,1,2,37,11,10,5,6,7,8,9,12,14]))),Ca=n.lazy(()=>Ns(()=>import("./VisualManagement-B2OIoZ4R.js"),__vite__mapDeps([48,1,2,5,6,7,8,9,10,11,12]))),Aa=n.lazy(()=>Ns(()=>import("./Definitions-DLsFJ2yE.js"),__vite__mapDeps([49,1,2,5,6,7,8,9,10,11,12]))),Da=n.lazy(()=>Ns(()=>import("./TrackingCategories-CompzDDP.js"),__vite__mapDeps([50,1,2,5,6,7,8,9,10,11,12]))),Ia=n.lazy(()=>Ns(()=>import("./OrphanForm-Dm_elSuV.js"),__vite__mapDeps([51,1,2,5,6,7,8,9,10,11,12]))),Oa=n.lazy(()=>Ns(()=>import("./OrphanLetters-g9S7ega8.js"),__vite__mapDeps([52,1,2,5,6,7,8,9,10,11,12]))),Ra=n.lazy(()=>Ns(()=>import("./Campaigns-D6SXgnY9.js"),__vite__mapDeps([53,1,2,5,6,7,8,9,10,11,12]))),La=n.lazy(()=>Ns(()=>import("./Schools-Bumnkz5C.js"),__vite__mapDeps([54,1,2,5,6,7,8,9,10,11,12]))),Pa=n.lazy(()=>Ns(()=>import("./FormDefinitions-hc1gBunC.js"),__vite__mapDeps([55,1,2,5,6,7,8,9,10,11,12]))),Ba=n.lazy(()=>Ns(()=>import("./PriceDefinitions-SHpzleGz.js"),__vite__mapDeps([56,1,2,5,6,7,8,9,10,11,12]))),Ma=n.lazy(()=>Ns(()=>import("./AddressLabels-CLFRXlQd.js"),__vite__mapDeps([57,1,2,5,6,7,8,9,10,11,12]))),Va=n.lazy(()=>Ns(()=>import("./DataControl-CsO9Sw-w.js"),__vite__mapDeps([58,1,2,5,6,7,8,9,10,11,12]))),Ka=n.lazy(()=>Ns(()=>import("./ModuleInfo-Evci0JDB.js"),__vite__mapDeps([59,1,2,5,6,7,8,9,10,11,12]))),Ya=n.lazy(()=>Ns(()=>import("./dashboard-Bum9Xlfr.js").then(e=>e.x),__vite__mapDeps([5,1,2,6,7,8,9,10,11,12]))),$a=n.lazy(()=>Ns(()=>import("./SupabaseTest-JZ6WgpfH.js"),__vite__mapDeps([60,1,2,5,6,7,8,9,10,11,12]))),Ua=n.lazy(()=>Ns(()=>import("./RelatedRecords-CS4Hf_DF.js"),__vite__mapDeps([61,1,2,5,6,7,8,9,10,11,12]))),Ga=n.lazy(()=>Ns(()=>import("./aid-wzZDfVvT.js").then(e=>e.I),__vite__mapDeps([37,1,2,11,10,5,6,7,8,9,12]))),Ha=n.lazy(()=>Ns(()=>import("./Beneficiaries-Dtx9J_q8.js"),__vite__mapDeps([62,1,2,14,5,6,7,8,9,10,11,12,23,13,34,27,19,20]))),Fa=n.lazy(()=>Ns(()=>import("./BeneficiariesDetail-DEU93_ae.js"),__vite__mapDeps([63,1,2,6,7,8,9,10]))),qa=n.lazy(()=>Ns(()=>import("./Reports-C-HPlWob.js"),__vite__mapDeps([64,1,2,6,7,8,9,10,5,11,12,4,3,13,14]))),Wa=n.lazy(()=>Ns(()=>import("./Applications-Bba39Y9N.js"),__vite__mapDeps([65,1,2,6,7,8,9,10,14,5,11,12,23,13,3,4,27,19,20]))),Ja=n.lazy(()=>Ns(()=>import("./CashVault-BU2n1-Fz.js"),__vite__mapDeps([66,1,2,6,7,8,9,10,14,5,11,12,13,37,3,4]))),Qa=n.lazy(()=>Ns(()=>import("./BankOrders-Uca9_2bV.js"),__vite__mapDeps([67,1,2,6,7,8,9,10,14,5,11,12,13,37,3,4]))),Za=n.lazy(()=>Ns(()=>import("./CashOperations-VXeI__kZ.js"),__vite__mapDeps([68,1,2,14,5,6,7,8,9,10,11,12,13,37,3,4]))),Xa=n.lazy(()=>Ns(()=>import("./InKindOperations-BRnCofCQ.js"),__vite__mapDeps([69,1,2,6,7,8,9,10,14,5,11,12,13,37,3,4]))),et=n.lazy(()=>Ns(()=>import("./ServiceTracking-C1jYpvL1.js"),__vite__mapDeps([70,1,2,6,7,8,9,10,14,5,11,12,13,37,3,4]))),st=n.lazy(()=>Ns(()=>import("./HospitalReferrals-B8MBEAiP.js"),__vite__mapDeps([71,1,2,6,7,8,9,10,14,5,11,12,13,37,3,4]))),at=n.lazy(()=>Ns(()=>import("./Parameters-fquuCGra.js"),__vite__mapDeps([72,1,2,14,5,6,7,8,9,10,11,12,13,37,3,4]))),tt=n.lazy(()=>Ns(()=>import("./DataControl-m9MYmUsj.js"),__vite__mapDeps([73,1,2,14,5,6,7,8,9,10,11,12,13,37,3,4]))),nt=n.lazy(()=>Ns(()=>import("./ModuleInfo-BKzkvQvo.js"),__vite__mapDeps([74,1,2,37,11,10,5,6,7,8,9,12]))),it=n.lazy(()=>Ns(()=>import("./fund-BbYV_MXc.js"),__vite__mapDeps([75,1,2,14,5,6,7,8,9,10,11,12]))),rt=n.lazy(()=>Ns(()=>import("./CompleteReport-ePfGiaAz.js"),__vite__mapDeps([76,1,2,11,10]))),lt=n.lazy(()=>Ns(()=>import("./FundRegions-BDKrJANh.js"),__vite__mapDeps([77,1,2,14,5,6,7,8,9,10,11,12]))),ot=n.lazy(()=>Ns(()=>import("./WorkAreas-BqEVvGmj.js"),__vite__mapDeps([78,1,2,14,5,6,7,8,9,10,11,12]))),ct=n.lazy(()=>Ns(()=>import("./FundDefinitions-BVkHZTDZ.js"),__vite__mapDeps([79,1,2,14,5,6,7,8,9,10,11,12]))),dt=n.lazy(()=>Ns(()=>import("./ActivityDefinitions-qi7N0eSM.js"),__vite__mapDeps([80,1,2,14,5,6,7,8,9,10,11,12]))),mt=n.lazy(()=>Ns(()=>import("./SourcesExpenses-D-j38Eqd.js"),__vite__mapDeps([81,1,2,14,5,6,7,8,9,10,11,12]))),ut=n.lazy(()=>Ns(()=>import("./AidCategories-Cnt1BLF5.js"),__vite__mapDeps([82,1,2,14,5,6,7,8,9,10,11,12]))),xt=n.lazy(()=>Ns(()=>import("./WarningMessages-1E6l5bTw.js"),__vite__mapDeps([83,1,2,14,5,6,7,8,9,10,11,12]))),ht=n.lazy(()=>Ns(()=>import("./StructuralControls-BAfDSpP6.js"),__vite__mapDeps([84,1,2,14,5,6,7,8,9,10,11,12]))),pt=n.lazy(()=>Ns(()=>import("./LocalIPs-q7ad0HCi.js"),__vite__mapDeps([85,1,2,14,5,6,7,8,9,10,11,12]))),gt=n.lazy(()=>Ns(()=>import("./IPBlocking-tf_wcqKn.js"),__vite__mapDeps([86,1,2,14,5,6,7,8,9,10,11,12]))),jt=n.lazy(()=>Ns(()=>import("./UserManagement-BL5fLhkH.js"),__vite__mapDeps([87,1,2,4,5,6,7,8,9,10,11,12,3,13,14]))),ft=n.lazy(()=>Ns(()=>import("./meetings-B8BiM5IE.js").then(e=>e.I),__vite__mapDeps([4,1,2,5,6,7,8,9,10,11,12,3,13,14]))),bt=n.lazy(()=>Ns(()=>import("./Index-uN6GIbA1.js"),__vite__mapDeps([88,1,2,5,6,7,8,9,10,11,12,13,14]))),yt=n.lazy(()=>Ns(()=>import("./tasks-OfsF_p2G.js"),__vite__mapDeps([89,1,2,5,6,7,8,9,10,11,12,3,4,13,14]))),Nt=n.lazy(()=>Ns(()=>import("./Definitions-CKRSrD5C.js"),__vite__mapDeps([90,1,2,6,7,8,9,10]))),vt=n.lazy(()=>Ns(()=>import("./UnitRoles-Bucl1Jso.js"),__vite__mapDeps([91,1,2,13,6,7,8,9,10,14,5,11,12]))),wt=n.lazy(()=>Ns(()=>import("./Units-DaSMPSUq.js"),__vite__mapDeps([92,1,2,13,6,7,8,9,10,14,5,11,12]))),kt=n.lazy(()=>Ns(()=>import("./UserAccounts-BYnpbzsT.js"),__vite__mapDeps([93,1,2,13,6,7,8,9,10,14,5,11,12,18,19,20]))),_t=n.lazy(()=>Ns(()=>import("./PermissionGroupsClean-TD_MsVNH.js"),__vite__mapDeps([94,1,2,6,7,8,9,10]))),Et=n.lazy(()=>Ns(()=>import("./definitions-BWK_s9fa.js"),__vite__mapDeps([95,1,2]))),Tt=n.lazy(()=>Ns(()=>import("./InternalLines-CfcoQWxF.js"),__vite__mapDeps([96,1,2]))),zt=n.lazy(()=>Ns(()=>import("./ProcessFlows-QeFkH2uq.js"),__vite__mapDeps([97,1,2]))),St=n.lazy(()=>Ns(()=>import("./PassportFormats-BYzgGgx7.js"),__vite__mapDeps([98,1,2]))),Ct=n.lazy(()=>Ns(()=>import("./CountriesCities-uQb5Fj-7.js"),__vite__mapDeps([99,1,2]))),At=n.lazy(()=>Ns(()=>import("./InstitutionTypes-B8TEpT3Z.js"),__vite__mapDeps([100,1,2]))),Dt=n.lazy(()=>Ns(()=>import("./InstitutionStatus-DKGoknnP.js"),__vite__mapDeps([101,1,2]))),It=n.lazy(()=>Ns(()=>import("./DonationMethods-klW-o5OZ.js"),__vite__mapDeps([102,1,2,13,6,7,8,9,10,14,5,11,12]))),Ot=n.lazy(()=>Ns(()=>import("./DeliveryTypes-DgyN3TCY.js"),__vite__mapDeps([103,1,2]))),Rt=n.lazy(()=>Ns(()=>import("./MeetingRequests-C7rYNoFk.js"),__vite__mapDeps([104,1,2]))),Lt=n.lazy(()=>Ns(()=>import("./GSMCodes-BCPttZtH.js"),__vite__mapDeps([105,1,2]))),Pt=n.lazy(()=>Ns(()=>import("./InterfaceLanguages-CRRI5ahF.js"),__vite__mapDeps([106,1,2]))),Bt=n.lazy(()=>Ns(()=>import("./Translations-Bcjn0TrJ.js"),__vite__mapDeps([107,1,2]))),Mt=n.lazy(()=>Ns(()=>import("./GeneralSettings-DnR7_JLF.js"),__vite__mapDeps([108,1,2]))),Vt=n.lazy(()=>Ns(()=>import("./ModuleInfo-DdCZf_yg.js"),__vite__mapDeps([109,1,2])));function Kt(){return e.jsxs(c,{children:[e.jsx(d,{path:"/login",element:e.jsx(ta,{})}),e.jsx(d,{path:"/",element:e.jsx(Ne,{children:(s=Ya,e.jsx(Hs,{module:"dashboard",children:e.jsx(s,{})}))})}),e.jsx(d,{path:"/donations",element:e.jsx(Ne,{children:qs(ia)})}),e.jsx(d,{path:"/donations/vault",element:e.jsx(Ne,{children:qs(ra)})}),e.jsx(d,{path:"/donations/institutions",element:e.jsx(Ne,{children:qs(la)})}),e.jsx(d,{path:"/donations/cash",element:e.jsx(Ne,{children:qs(oa)})}),e.jsx(d,{path:"/donations/bank",element:e.jsx(Ne,{children:qs(ca)})}),e.jsx(d,{path:"/donations/credit-card",element:e.jsx(Ne,{children:qs(da)})}),e.jsx(d,{path:"/donations/online",element:e.jsx(Ne,{children:qs(ma)})}),e.jsx(d,{path:"/donations/numbers",element:e.jsx(Ne,{children:qs(ua)})}),e.jsx(d,{path:"/donations/funding-definitions",element:e.jsx(Ne,{children:qs(xa)})}),e.jsx(d,{path:"/donations/sacrifice-periods",element:e.jsx(Ne,{children:qs(ha)})}),e.jsx(d,{path:"/donations/sacrifice-shares",element:e.jsx(Ne,{children:qs(pa)})}),e.jsx(d,{path:"/donations/ramadan-periods",element:e.jsx(Ne,{children:qs(ga)})}),e.jsx(d,{path:"/donations/piggy-bank",element:e.jsx(Ne,{children:qs(ja)})}),e.jsx(d,{path:"/donations/piggy-bank-tracking",element:e.jsx(Ne,{children:qs(ja)})}),e.jsx(d,{path:"/donations/bulk-provisioning",element:e.jsx(Ne,{children:qs(fa)})}),e.jsx(d,{path:"/messages",element:e.jsx(Ne,{children:Js(ba)})}),e.jsx(d,{path:"/messages/bulk-send",element:e.jsx(Ne,{children:Js(ya)})}),e.jsx(d,{path:"/messages/groups",element:e.jsx(Ne,{children:Js(Na)})}),e.jsx(d,{path:"/messages/templates",element:e.jsx(Ne,{children:Js(va)})}),e.jsx(d,{path:"/messages/sms-deliveries",element:e.jsx(Ne,{children:Js(wa)})}),e.jsx(d,{path:"/messages/email-deliveries",element:e.jsx(Ne,{children:Js(ka)})}),e.jsx(d,{path:"/messages/analytics",element:e.jsx(Ne,{children:Js(_a)})}),e.jsx(d,{path:"/messages/module-info",element:e.jsx(Ne,{children:Js(Ea)})}),e.jsx(d,{path:"/scholarship",element:e.jsx(Ne,{children:Ws(Ta)})}),e.jsx(d,{path:"/scholarship/orphans-students",element:e.jsx(Ne,{children:Ws(za)})}),e.jsx(d,{path:"/scholarship/reports",element:e.jsx(Ne,{children:Ws(Sa)})}),e.jsx(d,{path:"/scholarship/visual-management",element:e.jsx(Ne,{children:Ws(Ca)})}),e.jsx(d,{path:"/scholarship/definitions",element:e.jsx(Ne,{children:Ws(Aa)})}),e.jsx(d,{path:"/scholarship/tracking-categories",element:e.jsx(Ne,{children:Ws(Da)})}),e.jsx(d,{path:"/scholarship/orphan-form",element:e.jsx(Ne,{children:Ws(Ia)})}),e.jsx(d,{path:"/scholarship/orphan-letters",element:e.jsx(Ne,{children:Ws(Oa)})}),e.jsx(d,{path:"/scholarship/campaigns",element:e.jsx(Ne,{children:Ws(Ra)})}),e.jsx(d,{path:"/scholarship/schools",element:e.jsx(Ne,{children:Ws(La)})}),e.jsx(d,{path:"/scholarship/form-definitions",element:e.jsx(Ne,{children:Ws(Pa)})}),e.jsx(d,{path:"/scholarship/price-definitions",element:e.jsx(Ne,{children:Ws(Ba)})}),e.jsx(d,{path:"/scholarship/address-labels",element:e.jsx(Ne,{children:Ws(Ma)})}),e.jsx(d,{path:"/scholarship/data-control",element:e.jsx(Ne,{children:Ws(Va)})}),e.jsx(d,{path:"/scholarship/module-info",element:e.jsx(Ne,{children:Ws(Ka)})}),e.jsx(d,{path:"/aid",element:e.jsx(Ne,{children:Fs(Ga)})}),e.jsx(d,{path:"/aid/beneficiaries",element:e.jsx(Ne,{children:Fs(Ha)})}),e.jsx(d,{path:"/aid/beneficiaries/:id",element:e.jsx(Ne,{children:Fs(Fa)})}),e.jsx(d,{path:"/aid/reports",element:e.jsx(Ne,{children:Fs(qa)})}),e.jsx(d,{path:"/aid/applications",element:e.jsx(Ne,{children:Fs(Wa)})}),e.jsx(d,{path:"/aid/cash-vault",element:e.jsx(Ne,{children:Fs(Ja)})}),e.jsx(d,{path:"/aid/bank-orders",element:e.jsx(Ne,{children:Fs(Qa)})}),e.jsx(d,{path:"/aid/cash-operations",element:e.jsx(Ne,{children:Fs(Za)})}),e.jsx(d,{path:"/aid/in-kind-operations",element:e.jsx(Ne,{children:Fs(Xa)})}),e.jsx(d,{path:"/aid/service-tracking",element:e.jsx(Ne,{children:Fs(et)})}),e.jsx(d,{path:"/aid/hospital-referrals",element:e.jsx(Ne,{children:Fs(st)})}),e.jsx(d,{path:"/aid/parameters",element:e.jsx(Ne,{children:Fs(at)})}),e.jsx(d,{path:"/aid/data-control",element:e.jsx(Ne,{children:Fs(tt)})}),e.jsx(d,{path:"/aid/module-info",element:e.jsx(Ne,{children:Fs(nt)})}),e.jsx(d,{path:"/fund/movements",element:e.jsx(Ne,{children:Qs(it)})}),e.jsx(d,{path:"/fund/complete-report",element:e.jsx(Ne,{children:Qs(rt)})}),e.jsx(d,{path:"/fund/regions",element:e.jsx(Ne,{children:Qs(lt)})}),e.jsx(d,{path:"/fund/work-areas",element:e.jsx(Ne,{children:Qs(ot)})}),e.jsx(d,{path:"/fund/definitions",element:e.jsx(Ne,{children:Qs(ct)})}),e.jsx(d,{path:"/fund/activity-definitions",element:e.jsx(Ne,{children:Qs(dt)})}),e.jsx(d,{path:"/fund/sources-expenses",element:e.jsx(Ne,{children:Qs(mt)})}),e.jsx(d,{path:"/fund/aid-categories",element:e.jsx(Ne,{children:Qs(ut)})}),e.jsx(d,{path:"/system/warning-messages",element:e.jsx(Ne,{children:Zs(xt)})}),e.jsx(d,{path:"/system/structural-controls",element:e.jsx(Ne,{children:Zs(ht)})}),e.jsx(d,{path:"/system/local-ips",element:e.jsx(Ne,{children:Zs(pt)})}),e.jsx(d,{path:"/system/ip-blocking",element:e.jsx(Ne,{children:Zs(gt)})}),e.jsx(d,{path:"/system/user-management",element:e.jsx(Ne,{children:Zs(jt)})}),e.jsx(d,{path:"/definitions",element:e.jsx(Ne,{children:Xs(Nt)})}),e.jsx(d,{path:"/definitions/unit-roles",element:e.jsx(Ne,{children:Xs(vt)})}),e.jsx(d,{path:"/definitions/units",element:e.jsx(Ne,{children:Xs(wt)})}),e.jsx(d,{path:"/definitions/user-accounts",element:e.jsx(Ne,{children:Xs(kt)})}),e.jsx(d,{path:"/definitions/permission-groups",element:e.jsx(Ne,{children:Xs(_t)})}),e.jsx(d,{path:"/definitions/buildings",element:e.jsx(Ne,{children:Xs(Et)})}),e.jsx(d,{path:"/definitions/internal-lines",element:e.jsx(Ne,{children:Xs(Tt)})}),e.jsx(d,{path:"/definitions/process-flows",element:e.jsx(Ne,{children:Xs(zt)})}),e.jsx(d,{path:"/definitions/passport-formats",element:e.jsx(Ne,{children:Xs(St)})}),e.jsx(d,{path:"/definitions/countries-cities",element:e.jsx(Ne,{children:Xs(Ct)})}),e.jsx(d,{path:"/definitions/institution-types",element:e.jsx(Ne,{children:Xs(At)})}),e.jsx(d,{path:"/definitions/institution-status",element:e.jsx(Ne,{children:Xs(Dt)})}),e.jsx(d,{path:"/definitions/donation-methods",element:e.jsx(Ne,{children:Xs(It)})}),e.jsx(d,{path:"/definitions/delivery-types",element:e.jsx(Ne,{children:Xs(Ot)})}),e.jsx(d,{path:"/definitions/meeting-requests",element:e.jsx(Ne,{children:Xs(Rt)})}),e.jsx(d,{path:"/definitions/gsm-codes",element:e.jsx(Ne,{children:Xs(Lt)})}),e.jsx(d,{path:"/definitions/interface-languages",element:e.jsx(Ne,{children:Xs(Pt)})}),e.jsx(d,{path:"/definitions/translations",element:e.jsx(Ne,{children:Xs(Bt)})}),e.jsx(d,{path:"/definitions/general-settings",element:e.jsx(Ne,{children:Xs(Mt)})}),e.jsx(d,{path:"/definitions/module-info",element:e.jsx(Ne,{children:Xs(Vt)})}),e.jsx(d,{path:"/meetings",element:e.jsx(Ne,{children:ea(ft,"dashboard")})}),e.jsx(d,{path:"/internal-messages",element:e.jsx(Ne,{children:sa(bt,"dashboard")})}),e.jsx(d,{path:"/tasks",element:e.jsx(Ne,{children:aa(yt,"dashboard")})}),e.jsx(d,{path:"/supabase-test",element:e.jsx(Ne,{children:Zs($a)})}),e.jsx(d,{path:"/demo/related-records",element:e.jsx(Ne,{children:Zs(Ua)})}),e.jsx(d,{path:"*",element:e.jsx(na,{})})]});var s}class Yt extends n.Component{retryCount=0;maxRetries=3;constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){const a=ve.handleError(e,{category:we.SYSTEM,severity:this.getSeverityFromLevel(this.props.level||"component"),context:{component:"ErrorBoundary",action:"component_error",additionalData:{level:this.props.level,componentStack:s.componentStack,retryCount:this.retryCount}}});this.setState({error:e,errorInfo:s,errorId:a}),this.props.onError&&this.props.onError(e,s)}getSeverityFromLevel(e){switch(e){case"global":return ke.CRITICAL;case"page":return ke.HIGH;default:return ke.MEDIUM}}handleRetry=()=>{this.retryCount<this.maxRetries&&(this.retryCount++,this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}))};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportBug=()=>{const{error:e,errorId:s}=this.state,a=encodeURIComponent(`Bug Report - ${e?.message||"Unknown Error"}`),t=encodeURIComponent(`\nError ID: ${s}\nError Message: ${e?.message}\nStack Trace: ${e?.stack}\nURL: ${window.location.href}\nUser Agent: ${navigator.userAgent}\nTimestamp: ${(new Date).toISOString()}\n\nPlease describe what you were doing when this error occurred:\n\n    `.trim());window.open(`mailto:support@dernek.com?subject=${a}&body=${t}`)};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:s,errorId:a}=this.state,{level:t="component",showDetails:n=!1}=this.props;return e.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:e.jsxs(as,{className:"w-full max-w-lg p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(ue,{className:"w-8 h-8 text-red-600"})}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["global"===t&&"Uygulama Hatası","page"===t&&"Sayfa Yüklenemedi","component"===t&&"Bir Sorun Oluştu"]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["global"===t&&"Uygulamada beklenmeyen bir hata oluştu.","page"===t&&"Bu sayfa yüklenirken bir hata oluştu.","component"===t&&"Bu bölüm gösterilirken bir hata oluştu."]}),a&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Hata Kodu: ",e.jsx("code",{className:"font-mono bg-gray-200 px-1 rounded",children:a.slice(-8)})]})})]}),n&&s&&e.jsx("div",{className:"mb-6 text-left",children:e.jsxs("details",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("summary",{className:"cursor-pointer font-medium text-gray-700 mb-2",children:"Teknik Detaylar"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Hata Mesajı:"}),e.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded mt-1 break-all",children:s.message})]}),s.stack&&e.jsxs("div",{children:[e.jsx("strong",{children:"Stack Trace:"}),e.jsx("pre",{className:"font-mono bg-gray-100 p-2 rounded mt-1 text-xs overflow-auto max-h-32",children:s.stack})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[this.retryCount<this.maxRetries&&e.jsxs(ss,{onClick:this.handleRetry,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Tekrar Dene (",this.maxRetries-this.retryCount," deneme hakkı)"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:["global"===t?e.jsxs(ss,{onClick:this.handleReload,variant:"outline",className:"w-full",children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Sayfayı Yenile"]}):e.jsxs(ss,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Ana Sayfaya Dön"]}),e.jsxs(ss,{onClick:this.handleReportBug,variant:"outline",className:"w-full",children:[e.jsx(_e,{className:"w-4 h-4 mr-2"}),"Hata Bildir"]})]}),"global"===t&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Eğer sorun devam ederse:"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsx(ss,{onClick:()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()},variant:"outline",size:"sm",className:"w-full",children:"Önbelleği Temizle"}),e.jsx(ss,{onClick:()=>window.open("mailto:destek@dernek.com"),variant:"outline",size:"sm",className:"w-full",children:"Destek İletişim"})]})]})})]})]})})}return this.props.children}}function $t({onClose:s}){const{isInstallable:a,isInstalled:t,isOffline:i,needRefresh:r,install:l,updateServiceWorker:o}=function(){const[e,s]=n.useState(!1),[a,t]=n.useState(!1),[i,r]=n.useState(!navigator.onLine),[l,o]=n.useState(null),c=!1;n.useEffect(()=>{const e=e=>{e.preventDefault(),o(e),s(!0)},a=()=>{t(!0),s(!1),o(null)},n=()=>r(!1),i=()=>r(!0);return window.matchMedia("(display-mode: standalone)").matches&&t(!0),window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",a),window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",a),window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]);const d=async()=>{if(l)try{l.prompt();const{outcome:e}=await l.userChoice;"accepted"===e&&(t(!0),s(!1)),o(null)}catch(e){}};return{isInstallable:e,isInstalled:a,isOffline:i,needRefresh:c,updateAvailable:c,install:d,updateServiceWorker:async()=>{},showInstallPrompt:()=>{e&&!a&&d()}}}(),[c,d]=m.useState(!1),[u,x]=m.useState(!1);m.useEffect(()=>{a&&!t&&d(!0)},[a,t]),m.useEffect(()=>{r&&x(!0)},[r]);const h=()=>{d(!1),s?.()},p=()=>{x(!1),s?.()};return e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:"fixed bottom-4 left-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Çevrimdışı"})]}),!i&&e.jsxs("div",{className:"fixed bottom-4 left-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-bottom duration-300",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Çevrimiçi"})]}),c&&e.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Uygulamayı Yükle"})]}),e.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(j,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Bu uygulamayı cihazınıza yükleyerek daha hızlı erişim sağlayabilirsiniz."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:async()=>{await l(),d(!1),s?.()},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Yükle"}),e.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white text-sm font-medium transition-colors",children:"Şimdi Değil"})]})]}),u&&e.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-green-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Güncelleme Mevcut"})]}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(j,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Yeni bir sürüm mevcut. Güncellemek için sayfayı yenileyin."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:async()=>{await o(!0),x(!1),s?.()},className:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Güncelle"}),e.jsx("button",{onClick:p,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white text-sm font-medium transition-colors",children:"Sonra"})]})]})]})}const Ut=()=>{const[e,s]=n.useState(navigator.onLine),[a,t]=n.useState(!1);return n.useEffect(()=>{const e=()=>{s(!0),a&&(C.success("İnternet bağlantısı yeniden kuruldu"),t(!1))},n=()=>{s(!1),t(!0),C.warning("İnternet bağlantısı kesildi. Offline modda çalışıyorsunuz.")};return window.addEventListener("online",e),window.addEventListener("offline",n),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}},[a]),{isOnline:e,wasOffline:a}},Gt=()=>{const[e,s]=n.useState([]),[a,t]=n.useState(!1),{isOnline:i}=Ut(),r=e=>{s(s=>s.filter(s=>s.id!==e));const a=JSON.parse(localStorage.getItem("offline-queue")||"[]").filter(s=>s.id!==e);localStorage.setItem("offline-queue",JSON.stringify(a))},l=async()=>{if(i&&!a&&0!==e.length){t(!0);for(const a of e)try{const e=await a.mutationFn();a.onSuccess?.(e),r(a.id),C.success("Offline işlem başarıyla tamamlandı")}catch(s){a.retryCount++,a.retryCount>=3?(a.onError?.(s),r(a.id),C.error("Offline işlem başarısız oldu")):C.warning(`Offline işlem yeniden denenecek (${a.retryCount}/3)`)}t(!1)}};return n.useEffect(()=>{i&&l()},[i]),n.useEffect(()=>{const e=JSON.parse(localStorage.getItem("offline-queue")||"[]");s(e)},[]),{queue:e,addToQueue:e=>{const a={...e,id:Date.now().toString()+Math.random().toString(36).substr(2,9),retryCount:0,timestamp:Date.now()};s(e=>[...e,a]);const t=JSON.parse(localStorage.getItem("offline-queue")||"[]");localStorage.setItem("offline-queue",JSON.stringify([...t,a])),C.info("İşlem offline queue'ya eklendi")},removeFromQueue:r,processQueue:l,isProcessing:a,queueLength:e.length}},Ht=n.createContext(void 0),Ft=({children:s})=>{const{queue:a,isProcessing:t,processQueue:i}=Gt(),{isOnline:r}=(()=>{const e=fs(),{isOnline:s}=Ut(),[a,t]=n.useState(null),i=async()=>{if(s)try{await e.refetchQueries({predicate:e=>e.isStale()}),t(Date.now())}catch(a){}};return n.useEffect(()=>{if(!s)return;const e=setInterval(()=>{i()},3e5);return()=>clearInterval(e)},[s]),n.useEffect(()=>{const e=()=>{s&&i()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[s]),{performBackgroundSync:i,lastSyncTime:a,isOnline:s}})(),{saveCache:l}=(()=>{const e=fs(),{isOnline:s}=Ut(),a=()=>{try{const s=e.getQueryCache().getAll().map(e=>({queryKey:e.queryKey,data:e.state.data,dataUpdatedAt:e.state.dataUpdatedAt,error:e.state.error}));localStorage.setItem("react-query-cache",JSON.stringify(s))}catch(s){}};return n.useEffect(()=>{s||a()},[s]),{saveCache:a,loadCache:()=>{try{const s=localStorage.getItem("react-query-cache");s&&JSON.parse(s).forEach(s=>{e.setQueryData(s.queryKey,s.data)})}catch(s){}},clearCache:()=>{localStorage.removeItem("react-query-cache"),e.clear()},isOnline:s}})();n.useEffect(()=>{r&&a.length>0&&(i(),C.success("Çevrimiçi oldunuz! Bekleyen işlemler işleniyor..."))},[r,a.length,i]),n.useEffect(()=>{const e=setInterval(()=>{l()},3e4);return()=>clearInterval(e)},[l]),n.useEffect(()=>{r||C.warning("İnternet bağlantısı kesildi. Çevrimdışı modda çalışıyorsunuz.")},[r]);const o={isOnline:r,queueSize:a.length,isProcessing:t,retryQueue:()=>{i()},clearQueue:()=>{}};return e.jsx(Ht.Provider,{value:o,children:s})};async function qt(e,s,a="uploaded"){try{const t=s.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),n=`beneficiaries/${e}/${Date.now()}-${t}`,{data:i,error:r}=await h.storage.from("documents").upload(n,s,{upsert:!0,cacheControl:"3600"});if(r||!i?.path)return{success:!1,data:{filePath:""},error:r?.message||"Upload failed"};const l=i.path,{error:o}=await h.from("documents").insert({beneficiary_id:e,document_type:a,file_name:s.name,file_path:l});return o?{success:!1,data:{filePath:l},error:o.message}:{success:!0,data:{filePath:l}}}catch(t){return{success:!1,data:{filePath:""},error:t instanceof Error?t.message:"Unknown error"}}}async function Wt(e,s){const a=e.trim().toLowerCase();if(/(dashboard|anasayfa|home)/.test(a))return s.navigateTo("/"),{ok:!0,message:"Navigated to dashboard"};if(/(bağış|donation)/.test(a))return s.navigateTo("/donations"),{ok:!0,message:"Navigated to donations"};if(/(yardım|aid)/.test(a))return s.navigateTo("/aid"),{ok:!0,message:"Navigated to aid"};if(/(koyu|dark)/.test(a))return s.setTheme("dark"),{ok:!0,message:"Theme set to dark"};if(/(açık|light)/.test(a))return s.setTheme("light"),{ok:!0,message:"Theme set to light"};if(/(sistem|system)/.test(a)&&/tema|theme/.test(a))return s.setTheme("system"),{ok:!0,message:"Theme set to system"};if(/chat|sohbet/.test(a))return s.toggleChat(),{ok:!0,message:"Chat toggled"};if(/belge|dosya|yukle|yükle|upload/.test(a)){let e=function(e){const s=e.match(/id\s*[:=]\s*([a-z0-9-]+)/i);return s?s[1]:""}(a);if(!e){const s=function(e){const s=e.match(/(?:ad|name)\s*[:=]\s*([^,]+)/i)||e.match(/([^,]+)\s*(?:için|adlı|kişisi)/i);return s?s[1].trim():""}(a);s&&(e=await async function(e){const[s,...a]=e.split(/\s+/),t=a.join(" "),{data:n}=await h.from("beneficiaries").select("id, name, surname").ilike("name",`%${s}%`).ilike("surname",t?`%${t}%`:"%").limit(1).maybeSingle();return n?.id||""}(s))}if(!e)return{ok:!1,message:"Kişi ID/isim bulunamadı"};const s=await async function(){const e=document.createElement("input");return e.type="file",e.accept="*/*",await new Promise((s,a)=>{e.onchange=()=>{const t=e.files?.[0];t?s(t):a(new Error("Dosya seçilmedi"))},e.click()})}();return C.promise(qt(e,s,"uploaded"),{loading:"Belge yükleniyor...",success:"Belge yüklendi",error:"Belge yüklenemedi"}),{ok:!0}}return{ok:!1,message:"Anlaşılamadı"}}const Jt=[{id:"go:dashboard",label:"Go to Dashboard",keywords:["anasayfa","dashboard","home"],run:e=>e.navigateTo("/")},{id:"agent:run",label:"AI Agent: Run Goal",description:"Doğal dille hedef ver, agent uygulasın",keywords:["agent","ai","hedef","goal","otomasyon"],run:async(e,s)=>{const a=s?.query||"";await Wt(a,e)}},{id:"beneficiary:upload-document",label:"Beneficiary: Upload Document",description:"Belirli bir kişi/ID için belge yükle",keywords:["kişi","belge","yükle","upload","dosya"],run:async(e,s)=>{const a=(s?.query||"").toLowerCase();let t="";const n=a.match(/id\s*[:=]\s*([a-z0-9-]+)/i);if(n&&(t=n[1]),!t){const e=a.match(/(?:ad|name)\s*[:=]\s*([^,]+)/i)||a.match(/([^,]+)\s*(?:için|adlı|kişisi)/i),s=e?e[1].trim():"";if(s){const[e,...a]=s.split(/\s+/),n=a.join(" "),{data:i}=await h.from("beneficiaries").select("id, name, surname").ilike("name",`%${e}%`).ilike("surname",n?`%${n}%`:"%").limit(1).maybeSingle();i?.id&&(t=i.id)}}if(!t)throw new Error("Kişi ID bulunamadı. Lütfen komutta ID belirtin: id:xxxx");const i=document.createElement("input");i.type="file",i.accept="*/*";const r=await new Promise((e,s)=>{i.onchange=()=>{const a=i.files?.[0];a?e(a):s(new Error("Dosya seçilmedi"))},i.click()});await qt(t,r,"uploaded")}},{id:"go:donations",label:"Open Donations",keywords:["bağış","donations"],run:e=>e.navigateTo("/donations")},{id:"go:messages",label:"Open Messages",keywords:["mesaj","messages"],run:e=>e.navigateTo("/messages")},{id:"go:aid",label:"Open Aid",keywords:["yardım","aid"],run:e=>e.navigateTo("/aid")},{id:"go:definitions",label:"Open Definitions",keywords:["tanımlar","definitions"],run:e=>e.navigateTo("/definitions/units")},{id:"theme:light",label:"Theme: Light",keywords:["tema","light","açık"],run:e=>e.setTheme("light")},{id:"theme:dark",label:"Theme: Dark",keywords:["tema","dark","koyu"],run:e=>e.setTheme("dark")},{id:"theme:system",label:"Theme: System",keywords:["tema","system","sistem"],run:e=>e.setTheme("system")},{id:"chat:toggle",label:"Toggle Chat",keywords:["sohbet","chat"],run:e=>e.toggleChat()},{id:"cache:invalidate",label:"Refresh All Data (Invalidate Cache)",keywords:["refresh","cache","yenile"],run:async()=>{await ls.all()}},{id:"prefetch:dashboard",label:"Prefetch Dashboard Data",keywords:["prefetch","dashboard"],run:async()=>{await os.dashboard()}},{id:"app:reload",label:"Reload Application",keywords:["yeniden yükle","reload","refresh"],run:()=>{window.location.reload()}},{id:"go:login",label:"Go to Login",keywords:["login","giriş"],run:e=>e.navigateTo("/login")}],Qt=()=>Jt,Zt=e=>e.toLowerCase().trim();function Xt(e,s){if(!e||!s)return 0;if(e===s)return 1;const a=new Set(e.split(/\s+|[/:_-]+/g)),t=new Set(s.split(/\s+|[/:_-]+/g));let n=0;for(const r of a)t.has(r)&&n++;const i=Math.max(a.size,t.size);return i?n/i:0}function en({isOpen:s,onClose:a,toggleChat:t,onOpenAICenter:r}){const[l,o]=n.useState(""),[c,d]=n.useState(0),m=n.useRef(null),u=i(),{setTheme:x}=Cs();n.useEffect(()=>{s?setTimeout(()=>m.current?.focus(),0):(o(""),d(0))},[s]),n.useEffect(()=>{const e=e=>{if((e.metaKey||e.ctrlKey)&&"k"===e.key.toLowerCase())if(e.preventDefault(),s)a();else{const e=new CustomEvent("open-command-palette");window.dispatchEvent(e)}s&&("Escape"===e.key&&a(),"ArrowDown"===e.key&&n.startTransition(()=>{d(e=>Math.min(e+1,9))}),"ArrowUp"===e.key&&n.startTransition(()=>{d(e=>Math.max(e-1,0))}),"Enter"===e.key&&j())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,l,a]),n.useEffect(()=>{const e=()=>s?void 0:h();return window.addEventListener("open-command-palette",e),()=>window.removeEventListener("open-command-palette",e)},[s]);const h=()=>{setTimeout(()=>m.current?.focus(),0)},p=n.useMemo(()=>Qt(),[]),g=n.useMemo(()=>{const e=[...p];if(r&&e.unshift({id:"ai:command-center",label:"AI Komut Merkezi",description:"Doğal dil ile komut ver, akıllı otomasyon",keywords:["ai","yapay zeka","akıllı","otomasyon","komut"],run:()=>{r(),a()}}),!l)return e.slice(0,10);const{action:s}=function(e){const s=Zt(e);if(!s)return{action:null,confidence:0};const a=Qt(),t=a.find(e=>e.id===s);if(t)return{action:t,confidence:1};let n=null;for(const i of a){const e=i.label?Xt(s,Zt(i.label)):0,a=(i.keywords||[]).reduce((e,a)=>Math.max(e,Xt(s,Zt(a))),0),t=Math.max(e,a);(!n||t>n.score)&&(n={action:i,score:t})}return n&&n.score>=.55?{action:n.action,confidence:n.score}:{action:null,confidence:n?n.score:0}}(l);if(s)return[s,...e.filter(e=>e.id!==s.id)].slice(0,10);const t=l.toLowerCase();return e.filter(e=>e.label.toLowerCase().includes(t)||(e.keywords||[]).some(e=>e.toLowerCase().includes(t))).slice(0,10)},[p,l,r,a]),j=n.useCallback(async()=>{const e=g[c];e&&(await e.run({navigateTo:e=>u(e),setTheme:e=>x(e),toggleChat:t},{query:l}),a())},[g,c,u,x,t,a]);return s?e.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/40 p-4",onClick:a,children:e.jsxs("div",{className:"w-full max-w-xl rounded-lg bg-background shadow-xl ring-1 ring-border",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"border-b p-3",children:e.jsx("input",{ref:m,value:l,onChange:e=>{n.startTransition(()=>{o(e.target.value)})},placeholder:"Komut yazın veya ? ile yardım alın (Cmd/Ctrl+K)",className:"w-full bg-transparent outline-none"})}),e.jsx("ul",{className:"max-h-80 overflow-auto p-1",children:g.map((s,a)=>e.jsxs("li",{onMouseEnter:()=>{n.startTransition(()=>{d(a)})},onClick:j,className:"cursor-pointer rounded px-3 py-2 text-sm flex items-center gap-2 "+(a===c?"bg-accent text-accent-foreground":""),children:["ai:command-center"===s.id&&e.jsx(A,{className:"w-4 h-4 text-blue-500"}),s.id.includes("agent:")&&e.jsx(Se,{className:"w-4 h-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.label}),s.description?e.jsx("div",{className:"text-muted-foreground text-xs",children:s.description}):null,e.jsx("div",{className:"text-xs text-muted-foreground",children:s.id})]})]},s.id))}),e.jsx("div",{className:"border-t p-2 text-right text-xs text-muted-foreground",children:"Enter: Çalıştır • Esc: Kapat • ↑/↓: Seç"})]})}):null}const sn=new Set(["ve","veya","ile","için","bu","şu","o","bir","iki","üç","dört","beş","altı","yedi","sekiz","dokuz","on","ben","sen","o","biz","siz","onlar","benim","senin","onun","bizim","sizin","onların","ama","fakat","lakin","ancak","sadece","yalnız","hem","da","de","den","dan","gibi","kadar","dolayı","için","üzere","göre","karşı","doğru","yanında","önünde","arkasında","altında","üstünde","içinde","dışında","arasında","öncesinde","sonrasında","sırasında","esnasında","zamanında","vakit","saat","gün","ay","yıl","bugün","dün","yarın","şimdi","az önce","biraz sonra","çok","az","daha","en","pek","oldukça","fazla","az","küçük","büyük","uzun","kısa","geniş","dar","yüksek","alçak","kalın","ince","ağır","hafif","sıcak","soğuk","sert","yumuşak","hızlı","yavaş","erken","geç","yeni","eski","temiz","kirli","güzel","çirkin","iyi","kötü","doğru","yanlış","kolay","zor","basit","karmaşık","açık","kapalı","boş","dolu","tam","yarım","çeyrek"]),an={CURRENCY:{patterns:[/(\d+(?:\.\d+)?)\s*(?:TL|₺|lira|türk\s*lirası)/i,/(\d+(?:\.\d+)?)\s*(?:USD|\$|dolar)/i,/(\d+(?:\.\d+)?)\s*(?:EUR|€|euro)/i],type:"CURRENCY"},DATE:{patterns:[/(\d{1,2})\/(\d{1,2})\/(\d{4})/,/(\d{1,2})-(\d{1,2})-(\d{4})/,/(\d{1,2})\s+(?:ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)\s+(\d{4})/i,/(?:bugün|dün|yarın|bu\s+hafta|geçen\s+hafta|bu\s+ay|geçen\s+ay|bu\s+yıl|geçen\s+yıl)/i],type:"DATE"},NUMBER:{patterns:[/(\d+(?:\.\d+)?)/,/(?:bir|iki|üç|dört|beş|altı|yedi|sekiz|dokuz|on|yüz|bin|milyon)/i],type:"NUMBER"},MODULE:{patterns:[/(?:yardım|aid|beneficiary|ihtiyaç\s+sahibi)/i,/(?:bağış|donation|donation)/i,/(?:mesaj|message|sms|email)/i,/(?:toplantı|meeting|görüşme)/i,/(?:görev|task|iş)/i,/(?:rapor|report|analiz)/i,/(?:kullanıcı|user|personel)/i,/(?:sistem|system|ayar)/i],type:"MODULE"},ACTION:{patterns:[/(?:ekle|oluştur|kaydet|create|add)/i,/(?:listele|göster|bul|ara|list|show|find)/i,/(?:güncelle|değiştir|düzenle|update|edit|modify)/i,/(?:sil|kaldır|delete|remove)/i,/(?:rapor|analiz|report|analyze)/i,/(?:gönder|send|mail|sms)/i,/(?:onayla|approve|confirm)/i,/(?:reddet|reject|deny)/i],type:"ACTION"}},tn={positive:["iyi","güzel","harika","mükemmel","süper","muhteşem","olağanüstü","başarılı","başarı","olumlu","pozitif","gelişme","artış","yükseliş","iyileşme","düzelme","çözüm","çözüldü","tamamlandı","bitirildi"],negative:["kötü","kötüleşme","düşüş","azalma","sorun","problem","hata","hatalı","başarısız","başarısızlık","olumsuz","negatif","kötüleşme","düşüş","azalma","sorun","problem","hata","hatalı","başarısız"],neutral:["normal","standart","ortalama","genel","genelde","genellikle","çoğunlukla","bazen","ara sıra","nadiren","hiç","asla","her zaman"]};class nn{static instance;static getInstance(){return nn.instance||(nn.instance=new nn),nn.instance}tokenize(e){return e.toLowerCase().replace(/[^\w\sğüşıöçĞÜŞİÖÇ]/g," ").split(/\s+/).filter(e=>e.length>0&&!sn.has(e))}extractEntities(e){const s=[];return Object.entries(an).forEach(([,a])=>{a.patterns.forEach(t=>{const n=e.matchAll(new RegExp(t,"gi"));for(const e of n)s.push({type:a.type,value:e[0],start:e.index,end:e.index+e[0].length,confidence:.8})})}),s}analyzeSentiment(e){const s=this.tokenize(e);let a=0,t=0,n=0;s.forEach(e=>{tn.positive.includes(e)?a++:tn.negative.includes(e)?t++:tn.neutral.includes(e)&&n++});const i=a+t+n;if(0===i)return{score:0,label:"neutral",confidence:.5};const r=(a-t)/i;let l,o;return r>.1?(l="positive",o=Math.abs(r)):r<-.1?(l="negative",o=Math.abs(r)):(l="neutral",o=.5),{score:r,label:l,confidence:o}}recognizeIntent(e){const s=this.tokenize(e),a=new Map;if(s.some(e=>["ekle","oluştur","kaydet","create","add"].includes(e))&&a.set("CREATE",.9),s.some(e=>["listele","göster","bul","ara","list","show","find"].includes(e))&&a.set("LIST",.85),s.some(e=>["güncelle","değiştir","düzenle","update","edit"].includes(e))&&a.set("UPDATE",.9),s.some(e=>["sil","kaldır","delete","remove"].includes(e))&&a.set("DELETE",.95),s.some(e=>["rapor","analiz","report","analyze"].includes(e))&&a.set("REPORT",.8),0===a.size)return{primary:"UNKNOWN",confidence:.1,alternatives:[]};const t=Array.from(a.entries()).sort((e,s)=>s[1]-e[1]);return{primary:t[0][0],confidence:t[0][1],alternatives:t.slice(1).map(([e,s])=>({intent:e,confidence:s}))}}extractContext(e){const s=[];let a="low";[/(?:bugün|dün|yarın|bu\s+hafta|geçen\s+hafta|bu\s+ay|geçen\s+ay)/gi,/(\d{1,2}):(\d{2})/g,/(?:saat|vakit)/gi].forEach(a=>{const t=e.match(a);t&&s.push(...t)});return["acil","hemen","şimdi","derhal","mümkün olduğunca çabuk"].some(s=>new RegExp(s,"i").test(e))?a="high":["yakında","kısa sürede","en kısa sürede"].some(s=>new RegExp(s,"i").test(e))&&(a="medium"),{timeReferences:s,locationReferences:[],personReferences:[],urgency:a}}process(e){return{tokens:this.tokenize(e),entities:this.extractEntities(e),sentiment:this.analyzeSentiment(e),intent:this.recognizeIntent(e),context:this.extractContext(e)}}enhanceCommand(e,s){return{...e,confidence:Math.min(e.confidence*s.intent.confidence,1),metadata:{...e.metadata,nlp:{sentiment:s.sentiment,entities:s.entities,context:s.context}}}}}const rn=nn.getInstance(),ln={"sıfır":0,bir:1,iki:2,"üç":3,"dört":4,"beş":5,"altı":6,yedi:7,sekiz:8,dokuz:9,on:10,onbir:11,oniki:12,"onüç":13,"ondört":14,"onbeş":15,"onaltı":16,onyedi:17,onsekiz:18,ondokuz:19,yirmi:20,otuz:30,"kırk":40,elli:50,"altmış":60,"yetmiş":70,seksen:80,doksan:90,"yüz":100,bin:1e3,milyon:1e6,milyar:1e9},on={MONEY:{patterns:[/(\d+(?:\.\d+)?)\s*(?:TL|₺|lira|türk\s*lirası)/gi,/(\d+(?:\.\d+)?)\s*(?:USD|\$|dolar|amerikan\s*doları)/gi,/(\d+(?:\.\d+)?)\s*(?:EUR|€|euro|avrupa\s*para\s*birimi)/gi,/(bir|iki|üç|dört|beş|altı|yedi|sekiz|dokuz|on)\s*(?:bin|milyon|milyar)?\s*(?:TL|lira|dolar|euro)/gi],extract:e=>({amount:function(e){const s=e.match(/\d+(?:\.\d+)?/);if(s)return parseFloat(s[0]);let a=0;const t=e.toLowerCase().split(/\s+/);for(const n of t)ln[n]&&(a+=ln[n]);return a||0}(e),currency:e.includes("₺")||e.includes("TL")||e.includes("lira")?"TRY":e.includes("$")||e.includes("dolar")?"USD":e.includes("€")||e.includes("euro")?"EUR":"TRY"})},DATE_TIME:{patterns:[/(?:bugün|dün|yarın|öbür\s*gün|ertesi\s*gün)/gi,/(?:bu\s*(?:hafta|ay|yıl)|geçen\s*(?:hafta|ay|yıl)|gelecek\s*(?:hafta|ay|yıl))/gi,/(\d{1,2})\s*(?:ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)\s*(\d{4})?/gi,/(\d{1,2})[:.](\d{2})\s*(?:de|da)?/gi,/(?:sabah|öğle|akşam|gece)\s*(\d{1,2})(?:[:.](\d{2}))?/gi],extract:e=>function(e){const s=new Date,a=new Date(s.getFullYear(),s.getMonth(),s.getDate());return/bugün/.test(e)?a:/dün/.test(e)?new Date(a.getTime()-864e5):/yarın/.test(e)?new Date(a.getTime()+864e5):/bu hafta/.test(e)?a:/geçen hafta/.test(e)?new Date(a.getTime()-6048e5):/gelecek hafta/.test(e)?new Date(a.getTime()+6048e5):a}(e)},PERSON:{patterns:[/(?:bay|bayan|sayın|dr|doktor|prof|profesör|mühendis)\s+([A-ZÇĞŞÜÖ][a-zçğşüöı]+(?:\s+[A-ZÇĞŞÜÖ][a-zçğşüöı]+)*)/gi,/([A-ZÇĞŞÜÖ][a-zçğşüöı]+)\s+([A-ZÇĞŞÜÖ][a-zçğşüöı]+)(?:\s+(?:bey|hanım))?/gi],extract:e=>{const s=e.replace(/(?:bay|bayan|sayın|dr|doktor|prof|profesör|mühendis|bey|hanım)/gi,"").trim(),a=s.split(/\s+/);return{firstName:a[0],lastName:a.slice(1).join(" "),fullName:s}}},PHONE:{patterns:[/(?:\+90\s*)?(?:\(\d{3}\)\s*)?\d{3}\s*\d{3}\s*\d{2}\s*\d{2}/g,/(?:0)?(\d{3})\s*(\d{3})\s*(\d{2})\s*(\d{2})/g],extract:e=>e.replace(/\D/g,"")},EMAIL:{patterns:[/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g],extract:e=>e.toLowerCase()},ADDRESS:{patterns:[/(?:mahalle|mah|sokak|sk|cadde|cad|bulvar|blv|apt|apartman|no|numara)\s*[:\s]*([^,\n]+)/gi,/([\w\s]+)\s*(?:mahallesi|mah\.?)\s*([\w\s]+)\s*(?:sokağı|sk\.?)/gi],extract:e=>e.trim()},PRIORITY:{patterns:[/(?:acil|çok\s*acil|ivedi|derhal|hemen)/gi,/(?:yüksek\s*öncelik|öncelikli|önemli)/gi,/(?:düşük\s*öncelik|normal|standart)/gi],extract:e=>{const s=e.toLowerCase();return/acil|ivedi|derhal|hemen/.test(s)?"high":/yüksek|öncelik|önemli/.test(s)?"medium":"low"}}},cn={CREATE:{keywords:["ekle","oluştur","kaydet","yeni","başlat","kur","tanımla","açıl"],phrases:["yeni.*ekle","kayıt.*oluştur",".*tanımla.*","başlat.*"],confidence:.9},READ:{keywords:["göster","listele","bul","ara","getir","oku","incele"],phrases:[".*listele.*","göster.*","bul.*","neler.*var","hangi.*"],confidence:.85},UPDATE:{keywords:["güncelle","değiştir","düzenle","revize","tadil"],phrases:["güncelle.*","değiştir.*",".*düzenle.*"],confidence:.9},DELETE:{keywords:["sil","kaldır","iptal","sonlandır"],phrases:["sil.*","kaldır.*","iptal.*et"],confidence:.95},APPROVE:{keywords:["onayla","kabul","evet","onay","uygun"],phrases:["onayla.*","kabul.*et.*",".*onay.*ver.*"],confidence:.8},REJECT:{keywords:["reddet","geri çevir","hayır","ret"],phrases:["reddet.*","geri.*çevir.*",".*reddedildi"],confidence:.8},REPORT:{keywords:["rapor","analiz","istatistik","özet","durum"],phrases:["rapor.*al.*",".*analiz.*yap.*","durum.*nedir"],confidence:.7},NAVIGATE:{keywords:["git","yönlendir","aç","geç","sayfa"],phrases:[".*sayfası.*aç","git.*",".*modül.*"],confidence:.6},HELP:{keywords:["yardım","nasıl","ne yapabilirim","komutlar","öğren"],phrases:["yardım.*","nasıl.*","ne.*yapabilirim","komut.*neler"],confidence:.5}},dn={urgency:{high:["acil","derhal","hemen","çok önemli","kritik"],medium:["mümkün olduğunca","yakında","kısa sürede"]},emotion:{positive:["memnun","mutlu","başarılı","harika","süper"],negative:["sıkıntı","problem","sorun","kötü","başarısız"]},formality:{formal:["sayın","değerli","saygıdeğer","takdir ederim"],informal:["selam","merhaba","teşekkür ederim","teşekkürler"]}};class mn{static instance;static getInstance(){return mn.instance||(mn.instance=new mn),mn.instance}process(e){const s=rn.process(e),a=this.extractStructuredEntities(e),t=this.enhancedIntentRecognition(e);return{...s,originalText:e,intent:t,structuredEntities:a,contextAnalysis:this.analyzeContext(e),suggestions:this.generateSuggestions(e,t,a),confidence:this.calculateConfidence(e,t,a)}}extractStructuredEntities(e){const s={money:[],persons:[],phones:[],emails:[],addresses:[],dates:[],priorities:[]};return Object.entries(on).forEach(([a,t])=>{t.patterns.forEach(n=>{Array.from(e.matchAll(n)).forEach(e=>{const n=t.extract(e[0]);switch(a){case"MONEY":s.money.push(n);break;case"PERSON":s.persons.push(n);break;case"PHONE":s.phones.push(n);break;case"EMAIL":s.emails.push(n);break;case"ADDRESS":s.addresses.push(n);break;case"DATE_TIME":s.dates.push(n);break;case"PRIORITY":s.priorities.push(n)}})})}),s}enhancedIntentRecognition(e){const s=e.toLowerCase(),a=new Map;if(Object.entries(cn).forEach(([t,n])=>{let i=0;n.keywords.forEach(e=>{s.includes(e)&&(i+=.3)}),n.phrases.forEach(s=>{new RegExp(s,"i").test(e)&&(i+=.5)}),i*=n.confidence,i>0&&a.set(t,i)}),0===a.size)return{primary:"UNKNOWN",confidence:.1,alternatives:[]};const t=Array.from(a.entries()).sort((e,s)=>s[1]-e[1]);return{primary:t[0][0],confidence:Math.min(t[0][1],1),alternatives:t.slice(1).map(([e,s])=>({intent:e,confidence:Math.min(s,1)}))}}analyzeContext(e){const s=e.toLowerCase();let a="low";dn.urgency.high.some(e=>s.includes(e))?a="high":dn.urgency.medium.some(e=>s.includes(e))&&(a="medium");let t="neutral";const n=dn.emotion.positive.filter(e=>s.includes(e)).length,i=dn.emotion.negative.filter(e=>s.includes(e)).length;n>i?t="positive":i>n&&(t="negative");let r="neutral";dn.formality.formal.some(e=>s.includes(e))?r="formal":dn.formality.informal.some(e=>s.includes(e))&&(r="informal");const l=e.split(/\s+/).length,o=e.split(/[.!?]+/).length;let c="simple";return l>20||o>3?c="complex":(l>10||o>1)&&(c="medium"),{urgency:a,emotion:t,formality:r,complexity:c}}generateSuggestions(e,s,a){const t=[];switch(s.primary){case"CREATE":a.persons.length>0&&t.push(`${a.persons[0].fullName} için kayıt oluştur`),a.money.length>0&&t.push(`${a.money[0].amount} ${a.money[0].currency} bağış ekle`),t.push("Yeni kayıt formu aç","Gerekli alanları doldur");break;case"READ":t.push("Tümünü listele","Filtreleme uygula","Arama yap");break;case"UPDATE":t.push("Kaydı bul ve düzenle","Değişiklikleri kaydet");break;case"REPORT":t.push("Aylık rapor al","Excel olarak dışa aktar","Grafik göster");break;case"HELP":t.push("Mevcut komutları listele","Örnek komutları göster","Modül yardımını aç")}return a.phones.length>0&&t.push("SMS gönder","Telefon numarasını kaydet"),a.emails.length>0&&t.push("Email gönder","Email adresini kaydet"),t.slice(0,5)}calculateConfidence(e,s,a){let t=s.confidence;t+=.1*Object.values(a).reduce((e,s)=>e+(Array.isArray(s)?s.length:0),0);const n=e.split(/\s+/).length;return n>=3&&n<=15&&(t+=.1),n>15&&(t-=.1),/[.!?]/.test(e)&&(t+=.05),Math.min(t,1)}generateCommandSuggestions(e){const s=[],a=e.toLowerCase();return Object.entries({"hak sahibi":["Hak sahibi listele","Yeni hak sahibi ekle","Hak sahibi ara: [isim]","Hak sahibi raporu al"],"bağış":["Bağış listele","Yeni bağış ekle: [miktar] TL","Bağış raporu al","Aylık bağış özeti"],"toplantı":["Toplantı listele","Yeni toplantı oluştur","Bugünün toplantıları","Toplantı ajandası"],"görev":["Görev listele","Yeni görev oluştur","Benim görevlerim","Geciken görevler"]}).forEach(([e,t])=>{(a.includes(e)||e.includes(a))&&s.push(...t)}),(a.includes("rapor")||a.includes("analiz"))&&s.push("Bu ay raporu al","Yıllık analiz raporu","Performans raporu"),(a.includes("durum")||a.includes("özet"))&&s.push("Sistem durumu göster","Günlük özet","Genel durum raporu"),s.slice(0,8)}}const un=mn.getInstance();class xn{static instance;static getInstance(){return xn.instance||(xn.instance=new xn),xn.instance}async processSmartCommand(e,s,a){const t=un.process(e),n=this.createProcessedCommand(t,a),i=this.createExecutionPlan(t,n),r=this.calculateConfidence(t,n);return{originalText:e,nlpResult:t,processedCommand:n,executionPlan:i,confidence:r,requiredConfirmation:r<.8,estimatedDuration:this.estimateExecutionTime(i)}}async executeSmartCommand(e,s){try{const s={success:!0,status:"ok",message:"Command executed successfully",data:{},executionSteps:e.executionPlan,followUpActions:[],learnedPatterns:[],timestamp:new Date},a=await this.performExecution(e);return a&&(s.success=!0,s.status="ok",s.message="Command completed successfully",s.data=a),s}catch(a){return{success:!1,status:"error",message:a instanceof Error?a.message:"Unknown error",error:a instanceof Error?a.message:"Unknown error",executionSteps:[],followUpActions:[],learnedPatterns:[],timestamp:new Date}}}createProcessedCommand(e,s){return{command:{id:Date.now().toString(),text:e.originalText||"",timestamp:new Date,userId:"anonymous"},intent:{type:e.intent.primary,confidence:e.intent.confidence,entities:{}},confidence:e.confidence,metadata:{entities:e.entities,sentiment:e.sentiment}}}createExecutionPlan(e,s){return[{id:"validation",type:"validation",description:"Validate command parameters"},{id:"execution",type:"execution",description:"Execute the command"}]}calculateConfidence(e,s){return.85}estimateExecutionTime(e){return 2}async performExecution(e){return{success:!0,message:"Command executed"}}}const hn=xn.getInstance();const pn={voiceEnabled:!0,autoSuggestions:!0,commandHistory:!0,maxHistoryItems:20,responseDelay:500,language:"tr",theme:"light",soundEffects:!0};function gn({isOpen:s,onClose:a}){const[t,i]=n.useState(()=>{const e=localStorage.getItem("ai-settings");if(e)try{const s=JSON.parse(e);return{...pn,...s}}catch{return pn}return pn}),[r,l]=n.useState(!1),o=(e,s)=>{i(a=>({...a,[e]:s})),l(!0)};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx(as,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold",children:"AI Ayarları"})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Ses Ayarları"]}),e.jsxs("div",{className:"space-y-3 pl-6",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Sesli komut desteği"}),e.jsx("input",{type:"checkbox",checked:t.voiceEnabled,onChange:e=>o("voiceEnabled",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Ses efektleri"}),e.jsx("input",{type:"checkbox",checked:t.soundEffects,onChange:e=>o("soundEffects",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Komut Ayarları"]}),e.jsxs("div",{className:"space-y-3 pl-6",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Otomatik öneriler"}),e.jsx("input",{type:"checkbox",checked:t.autoSuggestions,onChange:e=>o("autoSuggestions",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Komut geçmişi"}),e.jsx("input",{type:"checkbox",checked:t.commandHistory,onChange:e=>o("commandHistory",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Maksimum geçmiş sayısı"}),e.jsx("input",{type:"number",min:"5",max:"100",value:t.maxHistoryItems,onChange:e=>o("maxHistoryItems",parseInt(e.target.value)),className:"w-20 px-2 py-1 border rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Yanıt gecikmesi (ms)"}),e.jsx("input",{type:"number",min:"0",max:"2000",step:"100",value:t.responseDelay,onChange:e=>o("responseDelay",parseInt(e.target.value)),className:"w-20 px-2 py-1 border rounded focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Genel Ayarlar"]}),e.jsxs("div",{className:"space-y-3 pl-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Dil"}),e.jsxs("select",{value:t.language,onChange:e=>o("language",e.target.value),className:"px-3 py-1 border rounded focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"tr",children:"Türkçe"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Tema"}),e.jsxs("select",{value:t.theme,onChange:e=>o("theme",e.target.value),className:"px-3 py-1 border rounded focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"light",children:"Açık"}),e.jsx("option",{value:"dark",children:"Koyu"}),e.jsx("option",{value:"auto",children:"Otomatik"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6 border-t mt-6",children:[e.jsx(ss,{variant:"outline",onClick:()=>{i(pn),l(!0),C.success("Ayarlar sıfırlandı")},className:"text-red-600 border-red-300 hover:bg-red-50",children:"Sıfırla"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ss,{variant:"outline",onClick:a,children:"İptal"}),e.jsxs(ss,{onClick:()=>{try{localStorage.setItem("ai-settings",JSON.stringify(t)),C.success("Ayarlar kaydedildi"),l(!1),a()}catch(e){C.error("Ayarlar kaydedilemedi")}},disabled:!r,className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Kaydet"]})]})]})]})})}):null}function jn({isOpen:s,onClose:a,onSelectCommand:t}){const[i,r]=n.useState([]),[l,o]=n.useState(""),[c,d]=n.useState([]);n.useEffect(()=>{if(s){const s=localStorage.getItem("ai-command-history");if(s)try{const e=JSON.parse(s).map(e=>{const s=e;return{...s,timestamp:new Date(s.timestamp)}});r(e)}catch(e){r([])}}},[s]),n.useEffect(()=>{if(""===l.trim())d(i);else{const e=i.filter(e=>e.command.toLowerCase().includes(l.toLowerCase())||e.response&&e.response.toLowerCase().includes(l.toLowerCase()));d(e)}},[i,l]);const m=e=>{const s=(new Date).getTime()-e.getTime(),a=Math.floor(s/6e4),t=Math.floor(s/36e5),n=Math.floor(s/864e5);return a<1?"Az önce":a<60?`${a} dakika önce`:t<24?`${t} saat önce`:n<7?`${n} gün önce`:e.toLocaleDateString("tr-TR")};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs(as,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Komut Geçmişi"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",c.length," komut)"]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Komutlarda ara...",value:l,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs(ss,{variant:"outline",onClick:()=>{r([]),localStorage.removeItem("ai-command-history"),C.success("Tüm geçmiş temizlendi")},disabled:0===i.length,className:"text-red-600 border-red-300 hover:bg-red-50",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Tümünü Sil"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:0===c.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(w,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:l?"Arama kriterinize uygun komut bulunamadı":"Henüz komut geçmişi yok"})]}):e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:m(s.timestamp)}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(s.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:s.success?"Başarılı":"Hatalı"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Komut:"}),e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm block",children:s.command})]}),s.response&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Yanıt:"}),e.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded max-h-20 overflow-y-auto",children:s.response})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsxs(ss,{size:"sm",variant:"outline",onClick:()=>{return e=s.command,navigator.clipboard.writeText(e),void C.success("Komut kopyalandı");var e},className:"text-xs",children:[e.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Kopyala"]}),t&&e.jsxs(ss,{size:"sm",onClick:()=>{return e=s.command,void(t&&(t(e),a(),C.success("Komut seçildi")));var e},className:"text-xs bg-blue-500 hover:bg-blue-600",children:[e.jsx(Re,{className:"h-3 w-3 mr-1"}),"Kullan"]}),e.jsx(ss,{size:"sm",variant:"outline",onClick:()=>(e=>{const s=i.filter(s=>s.id!==e);r(s),localStorage.setItem("ai-command-history",JSON.stringify(s)),C.success("Komut silindi")})(s.id),className:"text-xs text-red-600 border-red-300 hover:bg-red-50",children:e.jsx(Ie,{className:"h-3 w-3"})})]})]})},s.id))})}),e.jsx("div",{className:"p-6 border-t bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[e.jsx("span",{children:"Komutlar otomatik olarak kaydedilir ve yerel depolamada saklanır."}),e.jsx(ss,{variant:"outline",onClick:a,children:"Kapat"})]})})]})}):null}function fn({isOpen:s,onClose:a,userId:t}){const[i,r]=n.useState(null),[l,o]=n.useState(!1);n.useEffect(()=>{s&&c()},[s,t]);const c=async()=>{o(!0);try{const e=[{command:"Hak sahibi listele",timestamp:new Date,result:{success:!0,message:"Başarılı"}},{command:"Bağış ekle",timestamp:new Date,result:{success:!0,message:"Başarılı"}},{command:"Rapor oluştur",timestamp:new Date,result:{success:!1,message:"Hata"}}];r({totalCommands:e.length,successRate:.85,mostUsedCommands:[{command:"Hak sahibi listele",count:15},{command:"Bağış ekle",count:12},{command:"Rapor oluştur",count:8}],learnedPatterns:[{pattern:"Bağış işlemleri",successRate:.92,usageCount:25,lastUsed:new Date},{pattern:"Rapor oluşturma",successRate:.78,usageCount:18,lastUsed:new Date}],recentHistory:e,trends:d(e)})}catch(e){}o(!1)},d=e=>{const s=new Date;s.setDate(s.getDate()-7);const a=e.filter(e=>new Date(e.timestamp)>s),t=new Map;return a.forEach(e=>{const s=new Date(e.timestamp).toDateString();t.set(s,(t.get(s)||0)+1)}),{weeklyTotal:a.length,dailyAverage:a.length/7,dailyBreakdown:Array.from(t.entries())}};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-6 h-6 text-purple-500"}),e.jsx("h2",{className:"text-lg font-semibold",children:"AI Asistan Analitikleri"})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(j,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Toplam Komut"})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-700 mt-1",children:i.totalCommands})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Başarı Oranı"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-700 mt-1",children:[Math.round(100*i.successRate),"%"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Öğrenilen Pattern"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-700 mt-1",children:i.learnedPatterns.length})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-600",children:"Haftalık Kullanım"})]}),e.jsx("div",{className:"text-2xl font-bold text-orange-700 mt-1",children:i.trends.weeklyTotal})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),"En Çok Kullanılan Komutlar"]}),e.jsx("div",{className:"space-y-2",children:i.mostUsedCommands.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium",children:s.command}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:s.count/i.mostUsedCommands[0].count*100+"%"}})}),e.jsx("span",{className:"text-sm text-gray-600 min-w-[2rem]",children:s.count})]})]},a))})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5"}),"Öğrenilen AI Paternleri"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.learnedPatterns.map((s,a)=>e.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-purple-700",children:s.pattern}),e.jsxs("span",{className:"text-xs text-purple-600",children:[Math.round(100*s.successRate),"% başarı"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600",children:[e.jsxs("span",{children:[s.usageCount," kullanım"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Son: ",new Date(s.lastUsed).toLocaleDateString("tr-TR")]})]})]},a))})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5"}),"Son Komut Geçmişi"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:i.recentHistory.map((s,a)=>e.jsxs("div",{className:"p-3 rounded border-l-4 "+(s.result.success?"bg-green-50 border-green-400":"bg-red-50 border-red-400"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s.command}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 rounded "+(s.result.success?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:s.result.success?"✅ Başarılı":"❌ Başarısız"}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString("tr-TR")})]})]}),s.result.message&&e.jsx("div",{className:"mt-1 text-sm text-gray-600",children:s.result.message})]},a))})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Son 7 Gün Kullanım Trendi"]}),e.jsx("div",{className:"space-y-2",children:i.trends.dailyBreakdown.map(([s,a],t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:new Date(s).toLocaleDateString("tr-TR")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-purple-500 transition-all duration-300",style:{width:`${Math.max(a/Math.max(...i.trends.dailyBreakdown.map(([,e])=>e))*100,5)}%`}})}),e.jsx("span",{className:"text-sm min-w-[2rem]",children:a})]})]},t))}),e.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Günlük ortalama: ",Math.round(10*i.trends.dailyAverage)/10," komut"]})]})]}):e.jsx("div",{className:"text-center text-gray-500 mt-8",children:"Analitik verisi bulunamadı"})})]})}):null}function bn({isOpen:s,onClose:a,context:t,userId:i}){const[r,l]=n.useState([{id:"1",type:"ai",content:"Merhaba! 👋 Size nasıl yardımcı olabilirim? Tüm modülleri kontrol edebilir, raporlar oluşturabilir ve otomatik işlemler yapabilirim.",timestamp:new Date,suggestions:["Hak sahibi listele","Yeni bağış ekle: 1000 TL","Bu ay bağış raporu al","Toplantı oluştur: Yönetim toplantısı","Görevlerimi göster"]}]),[o,c]=n.useState(""),[d,m]=n.useState(!1),[u,x]=n.useState(!1),[h,p]=n.useState([]),[g,j]=n.useState([]),[f,b]=n.useState(-1),[y,N]=n.useState(!1),[v,w]=n.useState(!1),[k,_]=n.useState(!1),[E,T]=n.useState(null),z=n.useRef(null),S=n.useRef(null),D=n.useRef(null);n.useEffect(()=>{s&&S.current&&S.current.focus()},[s]),n.useEffect(()=>{z.current?.scrollIntoView({behavior:"smooth"})},[r]),n.useEffect(()=>{if(o.trim()){const e=function(e){const s=[];return e.toLowerCase().includes("create")&&(s.push("Create new user"),s.push("Create new meeting"),s.push("Create new task")),e.toLowerCase().includes("show")&&(s.push("Show users"),s.push("Show meetings"),s.push("Show tasks")),e.toLowerCase().includes("update")&&(s.push("Update user profile"),s.push("Update meeting details"),s.push("Update task status")),s.slice(0,5)}(o),s=un.process(o);T(s),n.startTransition(()=>{p(e)})}else n.startTransition(()=>{p([]),T(null)})},[o]),n.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=window.webkitSpeechRecognition||window.SpeechRecognition;D.current=new e,D.current.continuous=!1,D.current.interimResults=!1,D.current.lang="tr-TR",D.current.onresult=e=>{const s=e.results[0][0].transcript;n.startTransition(()=>{c(s),x(!1)})},D.current.onerror=()=>{n.startTransition(()=>{x(!1)}),C.error("Ses tanıma hatası")},D.current.onend=()=>{n.startTransition(()=>{x(!1)})}}},[]);const R=e=>{const s={...e,id:Date.now().toString(),timestamp:new Date};n.startTransition(()=>{l(e=>[...e,s])})},L=e=>{n.startTransition(()=>{c(e)}),S.current?.focus()};return s?e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-lg font-semibold",children:"AI Komut Merkezi"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Aktif"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"AI Analitikleri",children:e.jsx(Se,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ayarlar",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Komut Geçmişi",children:e.jsx(Be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"✕"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(s=>{const a="user"===s.type,t="system"===s.type;return e.jsx("div",{className:`flex ${a?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{className:`flex max-w-[80%] ${a?"flex-row-reverse":"flex-row"} items-start gap-2`,children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(a?"bg-blue-500":t?"bg-gray-500":"bg-green-500"),children:a?e.jsx(I,{className:"w-4 h-4 text-white"}):t?e.jsx(Se,{className:"w-4 h-4 text-white"}):e.jsx(A,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"rounded-lg p-3 "+(a?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"),children:[e.jsx("div",{className:"whitespace-pre-wrap",children:s.content}),s.data?e.jsx("div",{className:"mt-2 p-2 bg-white bg-opacity-20 rounded text-xs",children:Array.isArray(s.data)?e.jsx("div",{children:s.data.map((s,a)=>e.jsx("div",{className:"mb-1",children:"object"==typeof s&&null!==s?JSON.stringify(s,null,2):String(s)},a))}):e.jsx("pre",{children:JSON.stringify(s.data,null,2)})}):null,s.suggestions&&s.suggestions.length>0&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("div",{className:"text-xs opacity-75",children:"Öneriler:"}),s.suggestions.map((s,a)=>e.jsx("button",{onClick:()=>L(s),className:"block w-full text-left p-1 text-xs bg-white bg-opacity-20 rounded hover:bg-opacity-30 transition-colors",children:s},a))]}),E&&"user"===s.type&&e.jsxs("div",{className:"mt-2 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded border border-blue-200",children:[e.jsx("div",{className:"text-xs text-blue-700 font-medium mb-2",children:"🧠 Gelişmiş AI Analizi:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Intent:"})," ",E.intent.primary,e.jsxs("span",{className:"text-blue-600",children:[" (",Math.round(100*E.intent.confidence),"%)"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Sentiment:"}),e.jsx("span",{className:"ml-1 px-1 py-0.5 rounded "+("positive"===E.sentiment.label?"bg-green-100 text-green-700":"negative"===E.sentiment.label?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:"positive"===E.sentiment.label?"😊 Pozitif":"negative"===E.sentiment.label?"😟 Negatif":"😐 Nötr"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Güven:"}),e.jsxs("span",{className:"ml-1 px-1 py-0.5 rounded "+(E.confidence>.8?"bg-green-100 text-green-700":E.confidence>.6?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:[Math.round(100*E.confidence),"%"]})]})]}),e.jsxs("div",{className:"space-y-1",children:["low"!==E.contextAnalysis.urgency&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Aciliyet:"}),e.jsx("span",{className:"ml-1 px-1 py-0.5 rounded text-xs "+("high"===E.contextAnalysis.urgency?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:"high"===E.contextAnalysis.urgency?"🚨 Yüksek":"⚡ Orta"})]}),"simple"!==E.contextAnalysis.complexity&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Karmaşıklık:"}),e.jsx("span",{className:"ml-1 px-1 py-0.5 rounded text-xs "+("complex"===E.contextAnalysis.complexity?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"),children:"complex"===E.contextAnalysis.complexity?"🔬 Karmaşık":"⚙️ Orta"})]})]})]}),E.structuredEntities&&e.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.structuredEntities.money?.map((s,a)=>e.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs",children:["💰 ",s.amount," ",s.currency]},a)),E.structuredEntities.persons?.map((s,a)=>e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:["👤 ",s.fullName]},a)),E.structuredEntities.phones?.map((s,a)=>e.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:["📞 ",s]},a)),E.structuredEntities.emails?.map((s,a)=>e.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs",children:["📧 ",s]},a))]})})]}),e.jsx("div",{className:"text-xs opacity-50 mt-1",children:(s.timestamp instanceof Date?s.timestamp:new Date(s.timestamp)).toLocaleTimeString("tr-TR")})]})]})},s.id)}),d&&e.jsx("div",{className:"flex justify-start mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(Me,{className:"w-4 h-4 text-white animate-spin"})}),e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"İşleniyor..."})]})})]})}),e.jsx("div",{ref:z})]}),e.jsxs("div",{className:"border-t p-4",children:[h.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Öneriler:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((s,a)=>e.jsx("button",{onClick:()=>L(s),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm transition-colors",children:s},a))})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!o.trim()||d)return;const s=o.trim();R({type:"user",content:s}),n.startTransition(()=>{j(e=>[s,...e.slice(0,19)]),b(-1),c(""),m(!0)});try{R({type:"system",content:"🤖 Komutunuz işleniyor..."});const e=await hn.processSmartCommand(s,i,t);if(e.requiredConfirmation)return R({type:"ai",content:`⚠️ Bu işlem onay gerektiriyor. Devam etmek istiyor musunuz?\n\nTahmini süre: ${e.estimatedDuration} saniye`,suggestions:["Evet, devam et","Hayır, iptal et","Detayları göster"]}),m(!1),{success:!0,message:"Onay bekleniyor",data:{requiresConfirmation:!0,smartCommand:e}};const a=await hn.executeSmartCommand(e,i);n.startTransition(()=>{l(e=>e.slice(0,-1))}),"ok"===a.status?(R({type:"ai",content:`✅ ${a.message}`,data:a.data,suggestions:a.nextSteps}),a.data&&(Array.isArray(a.data)?R({type:"system",content:`📊 ${a.data.length} kayıt bulundu`,data:a.data.slice(0,5)}):"object"==typeof a.data&&R({type:"system",content:"📋 İşlem detayları:",data:a.data}))):R({type:"ai",content:`❌ ${a.message}`,suggestions:a.suggestions})}catch(a){const e=a instanceof Error?a.message:"Bilinmeyen hata";n.startTransition(()=>{l(e=>e.slice(0,-1))}),R({type:"ai",content:`🚨 Beklenmeyen hata: ${e}`,suggestions:["Lütfen komutu kontrol edip tekrar deneyin"]})}finally{n.startTransition(()=>{m(!1)})}},className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{ref:S,type:"text",value:o,onChange:e=>c(e.target.value),onKeyDown:e=>{if("ArrowUp"===e.key){if(e.preventDefault(),f<g.length-1){const e=f+1;b(e),c(g[e])}}else if("ArrowDown"===e.key)if(e.preventDefault(),f>0){const e=f-1;b(e),c(g[e])}else 0===f&&(b(-1),c(""))},placeholder:"Komutunuzu yazın... (örn: 'Hak sahibi listele', 'Yeni bağış ekle: 1000 TL')",disabled:d,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),D.current&&e.jsx("button",{type:"button",onClick:()=>{D.current?u?(D.current.stop(),x(!1)):(D.current.start(),x(!0),C.success("Dinliyorum... Konuşabilirsiniz")):C.error("Ses tanıma desteklenmiyor")},className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded "+(u?"text-red-500":"text-gray-400 hover:text-gray-600"),title:u?"Dinlemeyi durdur":"Sesli komut",children:u?e.jsx(Ve,{className:"w-4 h-4"}):e.jsx(Ke,{className:"w-4 h-4"})})]}),e.jsx("button",{type:"submit",disabled:!o.trim()||d,className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?e.jsx(Me,{className:"w-4 h-4 animate-spin"}):e.jsx(Q,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>L("Sistem durumu göster"),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm hover:bg-blue-200 transition-colors",children:"📊 Sistem Durumu"}),e.jsx("button",{onClick:()=>L("Bu ay raporu al"),className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm hover:bg-green-200 transition-colors",children:"📈 Aylık Rapor"}),e.jsx("button",{onClick:()=>L("Bekleyen görevler"),className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm hover:bg-orange-200 transition-colors",children:"⏰ Bekleyen Görevler"}),e.jsx("button",{onClick:()=>L("Yardım"),className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm hover:bg-purple-200 transition-colors",children:"❓ Yardım"})]})]})]}),e.jsx(gn,{isOpen:y,onClose:()=>N(!1)}),e.jsx(jn,{isOpen:v,onClose:()=>w(!1),onSelectCommand:e=>c(e)}),e.jsx(fn,{isOpen:k,onClose:()=>_(!1),userId:i})]}):null}var yn=function(){return null};const Nn=()=>{const{isOnline:s,queueLength:a,showIndicator:t,indicatorText:n,indicatorColor:i}=(()=>{const{isOnline:e,wasOffline:s}=Ut(),{queueLength:a}=Gt();return{isOnline:e,wasOffline:s,queueLength:a,showIndicator:!e||a>0,indicatorText:e?a>0?`${a} işlem bekliyor`:"Online":"Offline",indicatorColor:e?a>0?"orange":"green":"red"}})();if(!t)return null;return e.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:e.jsxs("div",{className:cs("flex items-center gap-2 px-3 py-2 rounded-lg border shadow-lg transition-all duration-300",(()=>{switch(i){case"red":return"bg-red-500 text-white border-red-600";case"orange":return"bg-orange-500 text-white border-orange-600";case"green":return"bg-green-500 text-white border-green-600";default:return"bg-gray-500 text-white border-gray-600"}})(),"animate-in slide-in-from-bottom-2"),children:[s?a>0?e.jsx(Ae,{className:"w-4 h-4"}):e.jsx(Te,{className:"w-4 h-4"}):e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:n}),a>0&&e.jsxs("div",{className:"flex items-center gap-1 ml-2 px-2 py-1 bg-white/20 rounded text-xs",children:[e.jsx(Ae,{className:"w-3 h-3"}),e.jsx("span",{children:a})]})]})})},vn=n.forwardRef(({className:t,value:n,...i},r)=>e.jsx(s,{ref:r,className:cs("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:e.jsx(a,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));function wn({isOpen:s,onClose:a,onComplete:t,steps:i}){const{t:r}=qe(),[l,o]=n.useState(0),[c,d]=n.useState(new Set),[m,u]=n.useState(!1),[x,h]=n.useState(!1);n.useEffect(()=>{if(s){const e=setTimeout(()=>h(!0),3e3);return()=>clearTimeout(e)}},[s]);const p=(l+1)/i.length*100,g=()=>{d(new Set(i.map(e=>e.id))),t()};if(!s)return null;const f=i[l];return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(as,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:l+1})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r(f.title)}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r("common.step")," ",l+1," / ",i.length]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[x&&e.jsxs(ss,{variant:"ghost",size:"sm",onClick:()=>{window.confirm(r("onboarding.skip")+"?")&&t()},className:"text-gray-500 hover:text-gray-700",children:[e.jsx(Ye,{className:"w-4 h-4 mr-1"}),r("onboarding.skip")]}),e.jsx(ss,{variant:"ghost",size:"sm",onClick:()=>{a()},className:"text-gray-500 hover:text-gray-700",children:e.jsx(j,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-6 py-3 bg-gray-50",children:e.jsx(vn,{value:p,className:"h-2"})}),e.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:f.description})}),f.video&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:[e.jsxs("video",{className:"w-full h-64 object-cover",controls:!0,onPlay:()=>u(!0),onPause:()=>u(!1),children:[e.jsx("source",{src:f.video,type:"video/mp4"}),r("common.videoNotSupported")]}),e.jsx("div",{className:"absolute top-4 right-4",children:m?e.jsx($e,{className:"w-6 h-6 text-white bg-black/50 rounded-full p-1"}):e.jsx(Ue,{className:"w-6 h-6 text-white bg-black/50 rounded-full p-1"})})]})}),e.jsx("div",{className:"mb-6",children:f.content}),f.interactive&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:r("onboarding.stepCompleted")}),e.jsx(ss,{size:"sm",onClick:()=>{return e=f.id,void d(s=>new Set([...s,e]));var e},disabled:c.has(f.id),className:"bg-blue-600 hover:bg-blue-700",children:c.has(f.id)?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-4 h-4 mr-1"}),r("onboarding.completed")]}):r("onboarding.complete")})]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[e.jsxs(ss,{variant:"outline",onClick:()=>{l>0&&o(l-1)},disabled:0===l,className:"flex items-center",children:[e.jsx(He,{className:"w-4 h-4 mr-1"}),r("onboarding.previous")]}),e.jsx("div",{className:"flex items-center space-x-2",children:i.map((s,a)=>e.jsx("div",{className:"w-3 h-3 rounded-full transition-colors "+(a===l?"bg-blue-600":a<l?"bg-green-500":"bg-gray-300")},s.id))}),e.jsx(ss,{onClick:()=>{l<i.length-1?o(l+1):g()},className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",children:l===i.length-1?r("onboarding.complete"):e.jsxs(e.Fragment,{children:[r("onboarding.next"),e.jsx(L,{className:"w-4 h-4 ml-1"})]})})]})]})})}vn.displayName=s.displayName;const kn=[{id:"welcome",title:"onboarding.welcome",description:"onboarding.welcomeDescription",content:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(V,{className:"w-10 h-10 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dernek Yönetim Paneli"}),e.jsx("p",{className:"text-gray-600",children:"Modern, güvenli ve kullanıcı dostu dernek yönetim sistemi"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(y,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Kullanıcı Yönetimi"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx(ge,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Yardım Sistemi"})]})]})]}),interactive:!1},{id:"dashboard",title:"onboarding.dashboardTitle",description:"onboarding.dashboardDescription",content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(as,{className:"p-4 text-center",children:[e.jsx(B,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"İstatistikler"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Güncel veriler ve grafikler"})]}),e.jsxs(as,{className:"p-4 text-center",children:[e.jsx(w,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Aktiviteler"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Son aktiviteler ve bildirimler"})]}),e.jsxs(as,{className:"p-4 text-center",children:[e.jsx(he,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Görevler"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Bekleyen görevler ve öncelikler"})]})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"İpucu:"})," Dashboard'da widget'ları düzenleyebilir ve kişiselleştirebilirsiniz."]})})]}),interactive:!0},{id:"modules",title:"onboarding.modulesTitle",description:"onboarding.modulesDescription",content:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx(y,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Yardım Modülü"}),e.jsx("p",{className:"text-xs text-gray-600",children:"İhtiyaç sahipleri ve başvurular"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(ge,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Bağış Modülü"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Bağış takibi ve yönetimi"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx(w,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Mesajlaşma"}),e.jsx("p",{className:"text-xs text-gray-600",children:"İletişim ve bildirimler"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-orange-50 rounded-lg",children:[e.jsx(_,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Toplantılar"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ajanda ve toplantı yönetimi"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-red-50 rounded-lg",children:[e.jsx(he,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Görevler"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Proje ve görev takibi"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(O,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sistem"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ayarlar ve yönetim"})]})]})]})]})}),interactive:!0},{id:"navigation",title:"Navigasyon - Sistemde Gezinme",description:"Sol menüden tüm modüllere erişebilir, üst menüden hızlı işlemler yapabilirsiniz.",content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Sol Menü"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Dashboard - Ana sayfa"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Yardım - İhtiyaç sahipleri"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{children:"Bağışlar - Bağış yönetimi"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Mesajlar - İletişim"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Üst Menü"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:["🔍 ",e.jsx("strong",{children:"Arama"})," - Hızlı arama yapın"]}),e.jsxs("li",{children:["🔔 ",e.jsx("strong",{children:"Bildirimler"})," - Yeni mesajlar ve uyarılar"]}),e.jsxs("li",{children:["👤 ",e.jsx("strong",{children:"Profil"})," - Hesap ayarları"]}),e.jsxs("li",{children:["🎨 ",e.jsx("strong",{children:"Tema"})," - Açık/koyu tema değiştirme"]})]})]})]}),interactive:!0},{id:"ai-assistant",title:"AI Asistan - Akıllı Yardımcı",description:"AI Asistan ile doğal dil kullanarak sistemde işlemler yapabilir, sorular sorabilirsiniz.",content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"AI Asistan Özellikleri"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"💬 Doğal Dil:"})," Türkçe konuşun"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"🎯 Hızlı İşlemler:"})," Komutlarla işlem yapın"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"📊 Raporlar:"})," Otomatik rapor oluşturun"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"🔍 Arama:"})," Akıllı arama yapın"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"📈 Analiz:"})," Veri analizi yapın"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"⚡ Otomasyon:"})," Tekrarlayan işlemler"]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Örnek Komutlar"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:['"',e.jsx("strong",{children:"Hak sahibi listele"}),'" - Tüm ihtiyaç sahiplerini göster']}),e.jsxs("p",{children:['"',e.jsx("strong",{children:"Yeni bağış ekle: 1000 TL"}),'" - Bağış kaydı oluştur']}),e.jsxs("p",{children:['"',e.jsx("strong",{children:"Bu ay bağış raporu al"}),'" - Aylık rapor oluştur']}),e.jsxs("p",{children:['"',e.jsx("strong",{children:"Toplantı oluştur: Yönetim toplantısı"}),'" - Toplantı planla']})]})]})]}),interactive:!0},{id:"permissions",title:"Yetkiler ve Güvenlik",description:"Sistem, rol tabanlı yetkilendirme kullanır. Her kullanıcının belirli yetkileri vardır.",content:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Kullanıcı Rolleri"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:"Super Admin"}),e.jsx("span",{className:"text-xs text-red-600",children:"Tam yetki"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:"Admin"}),e.jsx("span",{className:"text-xs text-orange-600",children:"Yönetim"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:"Manager"}),e.jsx("span",{className:"text-xs text-yellow-600",children:"Operasyon"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:"Coordinator"}),e.jsx("span",{className:"text-xs text-green-600",children:"Koordinasyon"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:"Operator"}),e.jsx("span",{className:"text-xs text-blue-600",children:"İşlem"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:"Viewer"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Görüntüleme"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Güvenlik Özellikleri"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"JWT tabanlı kimlik doğrulama"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Row Level Security (RLS)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"İki faktörlü doğrulama"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Otomatik oturum sonlandırma"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Şifre politikaları"})]})]})]})]})}),interactive:!0},{id:"completion",title:"Tebrikler! 🎉",description:"Onboarding rehberini tamamladınız. Artık sistemi kullanmaya başlayabilirsiniz.",content:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(he,{className:"w-12 h-12 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Hazırsınız!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Artık Dernek Yönetim Paneli'nin tüm özelliklerini kullanabilirsiniz."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(b,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Dokümantasyon"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Detaylı kullanım kılavuzu"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(w,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Destek"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Yardım ve destek"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(O,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Ayarlar"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Kişiselleştirme"})]})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"İpucu:"})," Herhangi bir sorunuz olduğunda AI Asistan'ı kullanabilir veya destek ekibimizle iletişime geçebilirsiniz."]})})]}),interactive:!1}];function _n({user:s,resetOnboarding:a,setShowOnboarding:t}){const[r,l]=n.useState(!1),[o,c]=n.useState(!1),{isOpen:d,openCommandCenter:m,closeCommandCenter:u,actionContext:x,userId:h}=function(){const[e,s]=n.useState(!1),a=i(),{user:t}=S(),{setTheme:r}=Cs(),l=n.useCallback(()=>{const e=new CustomEvent("toggle-chat");window.dispatchEvent(e)},[]),o={navigateTo:n.useCallback(e=>{a(e),s(!1)},[a]),setTheme:n.useCallback(e=>{r(e)},[r]),toggleChat:n.useCallback(()=>{l()},[l])};n.useEffect(()=>{const a=a=>{(a.metaKey||a.ctrlKey)&&"k"===a.key&&(a.preventDefault(),s(e=>!e)),"Escape"===a.key&&e&&s(!1)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e]);const c=n.useCallback(()=>{s(!0)},[]),d=n.useCallback(()=>{s(!1)},[]);return{isOpen:e,openCommandCenter:c,closeCommandCenter:d,actionContext:o,userId:t?.id}}();n.useEffect(()=>{const e=()=>{n.startTransition(()=>{c(!0)})};return window.addEventListener("open-command-palette",e),()=>window.removeEventListener("open-command-palette",e)},[]);const p=()=>{n.startTransition(()=>{l(!r)})};return e.jsxs(Ps,{onOpenAICenter:m,children:[e.jsx(Yt,{level:"page",children:e.jsx(Kt,{})}),e.jsx(Fe,{position:"top-right",expand:!0,richColors:!0,closeButton:!0}),e.jsx($t,{}),e.jsx(Nn,{}),s&&e.jsx(gs,{currentUserId:s.id,isOpen:r,onToggle:p}),e.jsx(en,{isOpen:o,onClose:()=>c(!1),toggleChat:p,onOpenAICenter:m}),e.jsx(bn,{isOpen:d,onClose:u,context:x,userId:h}),!1]})}function En(){const{initializing:s,initialize:a}=S(),{user:t}=S(),{showOnboarding:i,completeOnboarding:r,resetOnboarding:l,setShowOnboarding:o,closeOnboarding:c}=function(){const{user:e}=S(),[s,a]=n.useState({isCompleted:!1,currentStep:0,completedSteps:[]}),[t,i]=n.useState(!1);n.useEffect(()=>{if(e){const t=localStorage.getItem(`onboarding_${e.id}`);if(t)try{const e=JSON.parse(t);n.startTransition(()=>{a(e)})}catch(s){}}},[e]),n.useEffect(()=>{if(e){const a=localStorage.getItem(`onboarding_${e.id}`);if(a)try{const e=JSON.parse(a);n.startTransition(()=>{e.isCompleted?i(!1):i(!0)})}catch(s){n.startTransition(()=>{i(!0)})}else n.startTransition(()=>{i(!0)})}},[e]);const r=()=>{if(!e)return;const s={isCompleted:!0,currentStep:0,completedSteps:[],lastCompletedAt:(new Date).toISOString()};n.startTransition(()=>{a(s),i(!1)}),localStorage.setItem(`onboarding_${e.id}`,JSON.stringify(s))};return{showOnboarding:t,onboardingState:s,markStepComplete:s=>{e&&n.startTransition(()=>{a(a=>{const t={...a,completedSteps:[...a.completedSteps,s],currentStep:a.currentStep+1};return localStorage.setItem(`onboarding_${e.id}`,JSON.stringify(t)),t})})},completeOnboarding:r,resetOnboarding:()=>{if(!e)return;const s={isCompleted:!1,currentStep:0,completedSteps:[]};n.startTransition(()=>{a(s),i(!0)}),localStorage.removeItem(`onboarding_${e.id}`)},skipOnboarding:()=>{r()},setShowOnboarding:i,closeOnboarding:()=>{n.startTransition(()=>{i(!1)})}}}();return n.useEffect(()=>{a()},[a]),n.useEffect(()=>{ds.loadFromStorage();const e=()=>{ds.saveToStorage()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[]),s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Uygulama yükleniyor..."})]})}):e.jsx(Yt,{level:"global",showDetails:!1,children:e.jsx(As,{children:e.jsx(ms,{children:e.jsxs(bs,{client:us,children:[e.jsx(Ft,{children:e.jsxs(ps,{children:[e.jsx(_n,{user:t,resetOnboarding:l,setShowOnboarding:o}),e.jsx(wn,{isOpen:i,onClose:c,onComplete:r,steps:kn})]})}),e.jsx(yn,{initialIsOpen:!1})]})})})})}const Tn=document.getElementById("root");if(!Tn)throw new Error("Root element not found");vs(Tn).render(e.jsx(m.StrictMode,{children:e.jsx(u,{children:e.jsx(En,{})})}));export{ks as g};
