import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r as t}from"./react-vendor-DCtPEfzS.js";import{e as s,D as l}from"./donations-DMDPGCBk.js";import{l as a,E as r,m as d,n}from"./auth-aCCa6xWs.js";import"./state-vendor-rPBjJaR_.js";import"./supabase-vendor-AMUhAiAi.js";import"./file-vendor-D5NpndWQ.js";import"./utils-vendor-DxpoukG0.js";const i=[{id:"1",name:"Genel Bağış Fonu",code:"GEN-001",description:"Genel amaçlı bağış toplama fonu",type:"Genel",currency:"TRY",minAmount:10,maxAmount:null,isActive:!0,createdDate:"2023-01-15",totalCollected:125e3},{id:"2",name:"Eğitim Bursu Fonu",code:"EDU-001",description:"Öğrenci burs destekleri için özel fon",type:"Özel",currency:"TRY",minAmount:100,maxAmount:1e4,isActive:!0,createdDate:"2023-03-20",totalCollected:85e3},{id:"3",name:"Ramazan Paketi Projesi",code:"RAM-2024",description:"2024 Ramazan ayı gıda paketi dağıtım projesi",type:"Proje",currency:"TRY",minAmount:50,maxAmount:500,isActive:!0,createdDate:"2024-01-10",totalCollected:65e3},{id:"4",name:"Deprem Yardım Fonu",code:"ACL-DEP-001",description:"Deprem mağdurları için acil yardım fonu",type:"Acil Durum",currency:"TRY",minAmount:1,maxAmount:null,isActive:!1,createdDate:"2023-02-06",totalCollected:235e3}];function c(){const[c,o]=t.useState(""),[m,x]=t.useState(!1),[u,p]=t.useState("all"),[h,j]=t.useState(null),b=t.useMemo(()=>{let e=i;return"all"!==u&&(e=e.filter(e=>e.type===u)),c&&(e=e.filter(e=>JSON.stringify(e).toLowerCase().includes(c.toLowerCase()))),e},[c,u]),g=[{key:"code",header:"Fon Kodu"},{key:"name",header:"Fon Adı"},{key:"type",header:"Tip",render:t=>{const s={Genel:"bg-blue-100 text-blue-700","Özel":"bg-purple-100 text-purple-700",Proje:"bg-green-100 text-green-700","Acil Durum":"bg-red-100 text-red-700"},l=t;return e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${s[l]||s.Genel}`,children:t})}},{key:"minAmount",header:"Min. Tutar",render:e=>`₺${Number(e??0).toLocaleString()}`},{key:"maxAmount",header:"Max. Tutar",render:e=>e?`₺${Number(e).toLocaleString()}`:"Sınırsız"},{key:"totalCollected",header:"Toplanan (TL)",render:e=>`₺${Number(e??0).toLocaleString()}`},{key:"isActive",header:"Durum",render:t=>e.jsx("span",{className:"rounded-full px-2 py-1 text-xs "+(t?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:t?"Aktif":"Pasif"})},{key:"createdDate",header:"Oluşturma Tarihi"},{key:"actions",header:"İşlemler",render:(t,s)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>j(s),className:"rounded p-1 text-gray-600 hover:bg-gray-50",title:"Detay",children:e.jsx(r,{className:"h-4 w-4"})}),e.jsx("button",{className:"rounded p-1 text-blue-600 hover:bg-blue-50",title:"Düzenle",children:e.jsx(d,{className:"h-4 w-4"})}),e.jsx("button",{className:"rounded p-1 text-red-600 hover:bg-red-50",title:"Sil",children:e.jsx(n,{className:"h-4 w-4"})})]})}],f=["Genel","Özel","Proje","Acil Durum"];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto rounded border p-2",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 rounded bg-green-600 px-3 py-1 text-sm text-white",children:[e.jsx(a,{className:"h-4 w-4"}),"Yeni Fon"]}),e.jsxs("select",{value:u,onChange:e=>p(e.target.value),className:"rounded border bg-background px-2 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"Tüm Tipler"}),f.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("input",{value:c,onChange:e=>o(e.target.value),className:"min-w-64 flex-1 rounded border px-2 py-1 text-sm",placeholder:"Fon tanımı ara..."}),e.jsx("button",{className:"rounded bg-blue-600 px-3 py-1 text-sm text-white",children:"Ara"}),e.jsx("button",{className:"rounded border px-3 py-1 text-sm",children:"Filtre"}),e.jsx("button",{onClick:()=>s("fon-tanimlari.csv",b),className:"rounded bg-gray-600 px-3 py-1 text-sm text-white",children:"İndir"}),e.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:[b.length," Fon | ₺",b.reduce((e,t)=>e+t.totalCollected,0).toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Fon"}),e.jsx("p",{className:"text-2xl font-bold",children:b.length})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Aktif Fon"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.filter(e=>e.isActive).length})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["₺",b.reduce((e,t)=>e+t.totalCollected,0).toLocaleString()]})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Ortalama Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["₺",Math.round(b.reduce((e,t)=>e+t.totalCollected,0)/b.length).toLocaleString()]})]})]}),e.jsx(l,{columns:g,data:b}),m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-full max-w-lg rounded-lg bg-white p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Yeni Fon Tanımı Ekle"}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Fon Kodu"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded border px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Fon Adı"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded border px-3 py-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Açıklama"}),e.jsx("textarea",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Tip"}),e.jsx("select",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",children:f.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Para Birimi"}),e.jsxs("select",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Minimum Tutar"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded border px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Maksimum Tutar"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded border px-3 py-2 text-sm",placeholder:"Sınırsız için boş bırakın"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 rounded border px-4 py-2 text-sm",children:"İptal"}),e.jsx("button",{type:"submit",className:"flex-1 rounded bg-green-600 px-4 py-2 text-sm text-white",children:"Kaydet"})]})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Fon Detayları"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Fon Kodu"}),e.jsx("p",{className:"text-sm",children:h.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Fon Adı"}),e.jsx("p",{className:"text-sm",children:h.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Açıklama"}),e.jsx("p",{className:"text-sm",children:h.description})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Tip"}),e.jsx("p",{className:"text-sm",children:h.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Para Birimi"}),e.jsx("p",{className:"text-sm",children:h.currency})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Durum"}),e.jsx("p",{className:"text-sm",children:h.isActive?"Aktif":"Pasif"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Min. Tutar"}),e.jsxs("p",{className:"text-sm",children:["₺",h.minAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Max. Tutar"}),e.jsx("p",{className:"text-sm",children:h.maxAmount?`₺${h.maxAmount.toLocaleString()}`:"Sınırsız"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Toplanan Tutar"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["₺",h.totalCollected.toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Oluşturma Tarihi"}),e.jsx("p",{className:"text-sm",children:h.createdDate})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:()=>j(null),className:"rounded bg-gray-600 px-4 py-2 text-sm text-white",children:"Kapat"})})]})})]})}export{c as default};
