import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r as a}from"./react-vendor-DCtPEfzS.js";import{e as t,D as r}from"./donations-Cc8AcqVz.js";import{M as s}from"./messages-C4gZlbNu.js";import"./dashboard-CJXjh513.js";import"./auth-9wZfjiou.js";import"./state-vendor-rPBjJaR_.js";import"./supabase-vendor-AMUhAiAi.js";import"./file-vendor-D5NpndWQ.js";import"./utils-vendor-DxpoukG0.js";import"./chart-vendor-BDEFy5qM.js";const n=[{id:"1",name:"Ramazan 2024",year:2024,startDate:"2024-03-11",endDate:"2024-04-09",targetAmount:5e5,collectedAmount:387500,currency:"TRY",donationCount:1250,averageDonation:310,topDonation:25e3,fitrAmount:150,fitrCount:850,fitrCollected:127500,iftar:{targetCount:5e3,sponsoredCount:3200,pricePerIftar:25,totalRevenue:8e4},sahur:{targetCount:2e3,sponsoredCount:1100,pricePerSahur:15,totalRevenue:16500},foodPackage:{targetCount:1e3,distributedCount:750,pricePerPackage:200,totalRevenue:15e4},distributionAreas:["Türkiye","Suriye","Yemen","Somali"],campaigns:["Ramazan Bereketinizi Paylaşın","İftar Sofrası","Gıda Kolisi"],status:"tamamlandı",responsiblePerson:"Ahmet Yılmaz",description:"2024 Ramazan ayı bağış kampanyası",specialPrograms:["Yetim İftarı","Yaşlı Bakımevi Ziyareti","Sokak İftarı"],partnerOrganizations:["Belediye","Diyanet","Kızılay"],createdDate:"2024-02-01",createdBy:"Admin",lastModified:"2024-04-10",modifiedBy:"Admin"},{id:"2",name:"Ramazan 2023",year:2023,startDate:"2023-03-23",endDate:"2023-04-21",targetAmount:4e5,collectedAmount:42e4,currency:"TRY",donationCount:980,averageDonation:428,topDonation:3e4,fitrAmount:120,fitrCount:720,fitrCollected:86400,iftar:{targetCount:4e3,sponsoredCount:4200,pricePerIftar:20,totalRevenue:84e3},sahur:{targetCount:1500,sponsoredCount:1300,pricePerSahur:12,totalRevenue:15600},foodPackage:{targetCount:800,distributedCount:850,pricePerPackage:180,totalRevenue:153e3},distributionAreas:["Türkiye","Suriye","Filistin"],campaigns:["Ramazan Yardımı","İftar Sponsorluğu"],status:"tamamlandı",responsiblePerson:"Mehmet Özkan",description:"2023 Ramazan ayı bağış kampanyası",specialPrograms:["Cami İftarı","Ev Ziyaretleri"],partnerOrganizations:["Belediye","Diyanet"],createdDate:"2023-02-15",createdBy:"Admin",lastModified:"2023-04-22",modifiedBy:"Admin"},{id:"3",name:"Ramazan 2025",year:2025,startDate:"2025-02-28",endDate:"2025-03-29",targetAmount:6e5,collectedAmount:0,currency:"TRY",donationCount:0,averageDonation:0,topDonation:0,fitrAmount:180,fitrCount:0,fitrCollected:0,iftar:{targetCount:6e3,sponsoredCount:0,pricePerIftar:30,totalRevenue:0},sahur:{targetCount:2500,sponsoredCount:0,pricePerSahur:18,totalRevenue:0},foodPackage:{targetCount:1200,distributedCount:0,pricePerPackage:250,totalRevenue:0},distributionAreas:["Türkiye","Suriye","Yemen","Somali","Bangladeş"],campaigns:["Ramazan 2025 Hazırlık"],status:"planlama",responsiblePerson:"Zeynep Kaya",description:"2025 Ramazan ayı bağış kampanyası planlaması",specialPrograms:["Dijital İftar","Gençlik Programları"],partnerOrganizations:["Belediye","Diyanet","Üniversiteler"],createdDate:"2024-12-01",createdBy:"Admin",lastModified:"2024-12-01",modifiedBy:"Admin"}],i=[{id:"1",periodId:"1",donorName:"Ali Veli",donorPhone:"+90 532 123 4567",donorEmail:"ali.veli@email.com",donationType:"iftar",amount:500,currency:"TRY",quantity:20,paymentMethod:"Kredi Kartı",paymentStatus:"ödendi",paymentDate:"2024-03-15",distributionArea:"Türkiye",onBehalfOf:"Ailesi adına",isAnonymous:!1,receiptNumber:"RM-2024-001",createdDate:"2024-03-15"},{id:"2",periodId:"1",donorName:"Fatma Yılmaz",donorPhone:"+90 533 987 6543",donationType:"fitr",amount:600,currency:"TRY",quantity:4,paymentMethod:"Nakit",paymentStatus:"ödendi",paymentDate:"2024-04-08",distributionArea:"Suriye",isAnonymous:!1,receiptNumber:"RM-2024-002",createdDate:"2024-04-08"},{id:"3",periodId:"1",donorName:"Anonim Bağışçı",donorPhone:"+90 534 111 2233",donationType:"gida-paketi",amount:2e3,currency:"TRY",quantity:10,paymentMethod:"Havale",paymentStatus:"ödendi",paymentDate:"2024-03-20",distributionArea:"Yemen",isAnonymous:!0,receiptNumber:"RM-2024-003",notes:"Anonim bağış talebi",createdDate:"2024-03-20"}];function l(){const[l,d]=a.useState(n),[o]=a.useState(i),[c,m]=a.useState(""),[u,x]=a.useState(""),[g,p]=a.useState(""),[h,j]=a.useState(!1),[b,f]=a.useState(!1),[y,N]=a.useState(!1),[v,k]=a.useState(null),[C,P]=a.useState(null),[T,S]=a.useState("periods"),[A,D]=a.useState({name:"",year:(new Date).getFullYear(),startDate:"",endDate:"",targetAmount:"",currency:"TRY",fitrAmount:"",iftarTargetCount:"",iftarPrice:"",sahurTargetCount:"",sahurPrice:"",foodPackageTargetCount:"",foodPackagePrice:"",distributionAreas:[],campaigns:[],responsiblePerson:"",description:"",specialPrograms:[],partnerOrganizations:[]}),R=a.useMemo(()=>l.filter(e=>{const a=JSON.stringify(e).toLowerCase().includes(c.toLowerCase()),t=!u||e.status===u,r=!g||e.year.toString()===g;return a&&t&&r}),[l,c,u,g]),w=a.useMemo(()=>o.filter(e=>JSON.stringify(e).toLowerCase().includes(c.toLowerCase())),[o,c]),B=R.length,z=R.filter(e=>"aktif"===e.status).length,L=R.filter(e=>"tamamlandı"===e.status).length,Y=R.reduce((e,a)=>e+a.targetAmount,0),M=R.reduce((e,a)=>e+a.collectedAmount,0),O=Y>0?M/Y*100:0,F=R.reduce((e,a)=>e+a.donationCount,0),I=R.reduce((e,a)=>e+a.fitrCollected,0),G=R.reduce((e,a)=>e+a.iftar.totalRevenue,0),K=R.reduce((e,a)=>e+a.foodPackage.totalRevenue,0),H=[{key:"name",header:"Dönem Adı"},{key:"year",header:"Yıl"},{key:"startDate",header:"Tarih Aralığı",render:(a,t)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:new Date(t.startDate).toLocaleDateString("tr-TR")}),e.jsx("div",{className:"text-gray-500",children:new Date(t.endDate).toLocaleDateString("tr-TR")})]})},{key:"targetAmount",header:"Hedef/Toplanan",render:(a,t)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[t.targetAmount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-green-600",children:[t.collectedAmount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["%",t.targetAmount>0?Math.round(t.collectedAmount/t.targetAmount*100):0]})]})},{key:"donationCount",header:"Bağış Sayısı",render:(a,t)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:t.donationCount}),e.jsxs("div",{className:"text-gray-500",children:["Ort: ",t.averageDonation.toLocaleString("tr-TR")," ₺"]})]})},{key:"fitrCollected",header:"Fıtır",render:(a,t)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[t.fitrCount," adet"]}),e.jsxs("div",{className:"text-green-600",children:[t.fitrCollected.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.fitrAmount," ₺/adet"]})]})},{key:"iftar",header:"İftar",render:(a,t)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[t.iftar.sponsoredCount,"/",t.iftar.targetCount]}),e.jsxs("div",{className:"text-green-600",children:[t.iftar.totalRevenue.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.iftar.pricePerIftar," ₺/iftar"]})]})},{key:"foodPackage",header:"Gıda Paketi",render:(a,t)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[t.foodPackage.distributedCount,"/",t.foodPackage.targetCount]}),e.jsxs("div",{className:"text-green-600",children:[t.foodPackage.totalRevenue.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.foodPackage.pricePerPackage," ₺/paket"]})]})},{key:"status",header:"Durum",render:(a,t)=>e.jsx("span",{className:"px-2 py-1 rounded text-xs "+("aktif"===t.status?"bg-green-100 text-green-800":"tamamlandı"===t.status?"bg-blue-100 text-blue-800":"planlama"===t.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:t.status})},{key:"responsiblePerson",header:"Sorumlu"},{key:"id",header:"İşlemler",render:(a,t)=>e.jsxs("div",{className:"flex gap-1 text-xs",children:[e.jsx("button",{onClick:()=>E(t),className:"text-blue-600 hover:text-blue-800 px-2 py-1 rounded",children:"Düzenle"}),e.jsx("button",{onClick:()=>Z(t),className:"text-green-600 hover:text-green-800 px-2 py-1 rounded",children:"Bağışlar"}),e.jsx("button",{onClick:()=>U(t),className:"text-purple-600 hover:text-purple-800 px-2 py-1 rounded",children:"Analitik"})]})}],q=[{key:"donorName",header:"Bağışçı"},{key:"donorPhone",header:"Telefon"},{key:"donationType",header:"Bağış Tipi",render:(a,t)=>e.jsx("span",{className:"px-2 py-1 rounded text-xs "+("fitr"===t.donationType?"bg-green-100 text-green-800":"iftar"===t.donationType?"bg-blue-100 text-blue-800":"sahur"===t.donationType?"bg-purple-100 text-purple-800":"gida-paketi"===t.donationType?"bg-orange-100 text-orange-800":"fidye"===t.donationType?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"gida-paketi"===t.donationType?"Gıda Paketi":"fidye"===t.donationType?"Fidye":"iftar"===t.donationType?"İftar":"sahur"===t.donationType?"Sahur":"fitr"===t.donationType?"Fıtır":"Genel"})},{key:"amount",header:"Tutar/Adet",render:(a,t)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[t.amount.toLocaleString("tr-TR")," ₺"]}),t.quantity&&e.jsxs("div",{className:"text-gray-500",children:[t.quantity," adet"]})]})},{key:"paymentMethod",header:"Ödeme Yöntemi"},{key:"paymentStatus",header:"Durum",render:(a,t)=>e.jsx("span",{className:"px-2 py-1 rounded text-xs "+("ödendi"===t.paymentStatus?"bg-green-100 text-green-800":"beklemede"===t.paymentStatus?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:t.paymentStatus})},{key:"distributionArea",header:"Dağıtım Alanı"},{key:"isAnonymous",header:"Anonim",render:(e,a)=>a.isAnonymous?"✓":"-"},{key:"receiptNumber",header:"Makbuz No"},{key:"createdDate",header:"Tarih",render:(e,a)=>new Date(a.createdDate).toLocaleDateString("tr-TR")}],E=e=>{k(e),D({name:e.name,year:e.year,startDate:e.startDate,endDate:e.endDate,targetAmount:e.targetAmount.toString(),currency:e.currency,fitrAmount:e.fitrAmount.toString(),iftarTargetCount:e.iftar.targetCount.toString(),iftarPrice:e.iftar.pricePerIftar.toString(),sahurTargetCount:e.sahur.targetCount.toString(),sahurPrice:e.sahur.pricePerSahur.toString(),foodPackageTargetCount:e.foodPackage.targetCount.toString(),foodPackagePrice:e.foodPackage.pricePerPackage.toString(),distributionAreas:e.distributionAreas,campaigns:e.campaigns,responsiblePerson:e.responsiblePerson,description:e.description||"",specialPrograms:e.specialPrograms,partnerOrganizations:e.partnerOrganizations}),j(!0)},Z=e=>{P(e),f(!0)},U=e=>{P(e),N(!0)},J=()=>{D({name:"",year:(new Date).getFullYear(),startDate:"",endDate:"",targetAmount:"",currency:"TRY",fitrAmount:"",iftarTargetCount:"",iftarPrice:"",sahurTargetCount:"",sahurPrice:"",foodPackageTargetCount:"",foodPackagePrice:"",distributionAreas:[],campaigns:[],responsiblePerson:"",description:"",specialPrograms:[],partnerOrganizations:[]})},$=(e,a,t)=>{const r=A[e];D(t?{...A,[e]:[...r,a]}:{...A,[e]:r.filter(e=>e!==a)})},V=Array.from({length:10},(e,a)=>(new Date).getFullYear()-5+a);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ramazan Dönemleri"}),e.jsxs("div",{className:"flex border rounded",children:[e.jsx("button",{onClick:()=>S("periods"),className:"px-4 py-2 text-sm "+("periods"===T?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Dönemler"}),e.jsx("button",{onClick:()=>S("donations"),className:"px-4 py-2 text-sm "+("donations"===T?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Bağışlar"}),e.jsx("button",{onClick:()=>S("analytics"),className:"px-4 py-2 text-sm "+("analytics"===T?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Genel Analitik"})]})]}),"periods"===T&&e.jsx("button",{onClick:()=>{k(null),J(),j(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Dönem"})]}),"periods"===T&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Toplam Dönem"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:B})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Aktif Dönem"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:z})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600",children:"Tamamlanan"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:L})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-orange-600",children:"Hedef Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[Y.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-indigo-600",children:"Toplanan"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-900",children:[M.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-pink-600",children:"Başarı Oranı"}),e.jsxs("p",{className:"text-2xl font-bold text-pink-900",children:[Math.round(O),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("input",{value:c,onChange:e=>m(e.target.value),className:"border rounded px-3 py-2",placeholder:"Dönem adı ile ara..."}),e.jsxs("select",{value:u,onChange:e=>x(e.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Durumlar"}),e.jsx("option",{value:"planlama",children:"Planlama"}),e.jsx("option",{value:"aktif",children:"Aktif"}),e.jsx("option",{value:"tamamlandı",children:"Tamamlandı"}),e.jsx("option",{value:"iptal",children:"İptal"})]}),e.jsxs("select",{value:g,onChange:e=>p(e.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Yıllar"}),V.map(a=>e.jsx("option",{value:a.toString(),children:a},a))]}),e.jsx("button",{onClick:()=>t("ramazan-donemleri.csv",R),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Excel İndir"})]}),e.jsx(r,{columns:H,data:R})]}),"donations"===T&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{value:c,onChange:e=>m(e.target.value),className:"border rounded px-3 py-2 w-full max-w-md",placeholder:"Bağışçı adı, telefon ile ara..."})}),e.jsx(r,{columns:q,data:w})]}),"analytics"===T&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:"Toplam Bağış"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:F}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Tüm dönemler"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Toplam Gelir"}),e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[M.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Brüt tutar"})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-purple-600 mb-2",children:"Fıtır Geliri"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:[I.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Sadece fıtır"})]}),e.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-orange-600 mb-2",children:"İftar Geliri"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-900",children:[G.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"İftar sponsorluğu"})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dönem Karşılaştırması"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Dönem"}),e.jsx("th",{className:"text-right py-2",children:"Hedef"}),e.jsx("th",{className:"text-right py-2",children:"Toplanan"}),e.jsx("th",{className:"text-right py-2",children:"Başarı %"}),e.jsx("th",{className:"text-right py-2",children:"Bağış Sayısı"}),e.jsx("th",{className:"text-right py-2",children:"Ortalama"})]})}),e.jsx("tbody",{children:R.map(a=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2",children:a.name}),e.jsxs("td",{className:"text-right py-2",children:[a.targetAmount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("td",{className:"text-right py-2",children:[a.collectedAmount.toLocaleString("tr-TR")," ₺"]}),e.jsx("td",{className:"text-right py-2",children:e.jsxs("span",{className:"px-2 py-1 rounded text-xs "+(a.collectedAmount/a.targetAmount*100>=100?"bg-green-100 text-green-800":a.collectedAmount/a.targetAmount*100>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[a.targetAmount>0?Math.round(a.collectedAmount/a.targetAmount*100):0,"%"]})}),e.jsx("td",{className:"text-right py-2",children:a.donationCount}),e.jsxs("td",{className:"text-right py-2",children:[a.averageDonation.toLocaleString("tr-TR")," ₺"]})]},a.id))})]})})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Bağış Türü Dağılımı"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Fıtır"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[I.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",M>0?Math.round(I/M*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"İftar"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[G.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",M>0?Math.round(G/M*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Sahur"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[R.reduce((e,a)=>e+a.sahur.totalRevenue,0).toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",M>0?Math.round(R.reduce((e,a)=>e+a.sahur.totalRevenue,0)/M*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Gıda Paketi"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[K.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",M>0?Math.round(K/M*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Diğer"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[(M-I-G-K-R.reduce((e,a)=>e+a.sahur.totalRevenue,0)).toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",M>0?Math.round((M-I-G-K-R.reduce((e,a)=>e+a.sahur.totalRevenue,0))/M*100):0]})]})]})]})]})]}),e.jsx(s,{isOpen:h,onClose:()=>j(!1),title:v?"Ramazan Dönemi Düzenle":"Yeni Ramazan Dönemi",children:e.jsxs("form",{onSubmit:e=>{e.preventDefault();const a=parseFloat(A.targetAmount),t=parseFloat(A.fitrAmount),r=parseInt(A.iftarTargetCount),s=parseFloat(A.iftarPrice),n=parseInt(A.sahurTargetCount),i=parseFloat(A.sahurPrice),o=parseInt(A.foodPackageTargetCount),c=parseFloat(A.foodPackagePrice);if(v)d(l.map(e=>e.id===v.id?{...e,...A,targetAmount:a,fitrAmount:t,iftar:{...e.iftar,targetCount:r,pricePerIftar:s},sahur:{...e.sahur,targetCount:n,pricePerSahur:i},foodPackage:{...e.foodPackage,targetCount:o,pricePerPackage:c},lastModified:(new Date).toISOString().split("T")[0],modifiedBy:"Admin"}:e));else{const e={id:Date.now().toString(),...A,targetAmount:a,collectedAmount:0,donationCount:0,averageDonation:0,topDonation:0,fitrAmount:t,fitrCount:0,fitrCollected:0,iftar:{targetCount:r,sponsoredCount:0,pricePerIftar:s,totalRevenue:0},sahur:{targetCount:n,sponsoredCount:0,pricePerSahur:i,totalRevenue:0},foodPackage:{targetCount:o,distributedCount:0,pricePerPackage:c,totalRevenue:0},status:"planlama",createdDate:(new Date).toISOString().split("T")[0],createdBy:"Admin",lastModified:(new Date).toISOString().split("T")[0],modifiedBy:"Admin"};d([...l,e])}j(!1),k(null),J()},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dönem Adı *"}),e.jsx("input",{type:"text",value:A.name,onChange:e=>D({...A,name:e.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"Ramazan 2024",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Yıl *"}),e.jsx("select",{value:A.year,onChange:e=>D({...A,year:parseInt(e.target.value)}),className:"w-full border rounded px-3 py-2",required:!0,children:V.map(a=>e.jsx("option",{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Başlangıç Tarihi *"}),e.jsx("input",{type:"date",value:A.startDate,onChange:e=>D({...A,startDate:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bitiş Tarihi *"}),e.jsx("input",{type:"date",value:A.endDate,onChange:e=>D({...A,endDate:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hedef Tutar *"}),e.jsx("input",{type:"number",step:"0.01",value:A.targetAmount,onChange:e=>D({...A,targetAmount:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Para Birimi"}),e.jsxs("select",{value:A.currency,onChange:e=>D({...A,currency:e.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fıtır Tutarı *"}),e.jsx("input",{type:"number",step:"0.01",value:A.fitrAmount,onChange:e=>D({...A,fitrAmount:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"İftar Hedef Sayısı"}),e.jsx("input",{type:"number",value:A.iftarTargetCount,onChange:e=>D({...A,iftarTargetCount:e.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"İftar Fiyatı"}),e.jsx("input",{type:"number",step:"0.01",value:A.iftarPrice,onChange:e=>D({...A,iftarPrice:e.target.value}),className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sahur Hedef Sayısı"}),e.jsx("input",{type:"number",value:A.sahurTargetCount,onChange:e=>D({...A,sahurTargetCount:e.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sahur Fiyatı"}),e.jsx("input",{type:"number",step:"0.01",value:A.sahurPrice,onChange:e=>D({...A,sahurPrice:e.target.value}),className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gıda Paketi Hedef Sayısı"}),e.jsx("input",{type:"number",value:A.foodPackageTargetCount,onChange:e=>D({...A,foodPackageTargetCount:e.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gıda Paketi Fiyatı"}),e.jsx("input",{type:"number",step:"0.01",value:A.foodPackagePrice,onChange:e=>D({...A,foodPackagePrice:e.target.value}),className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sorumlu Kişi *"}),e.jsx("input",{type:"text",value:A.responsiblePerson,onChange:e=>D({...A,responsiblePerson:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Dağıtım Alanları"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Türkiye","Suriye","Yemen","Somali","Bangladeş","Filistin","Afganistan","Pakistan"].map(a=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:A.distributionAreas.includes(a),onChange:e=>$("distributionAreas",a,e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kampanyalar"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Ramazan Bereketinizi Paylaşın","İftar Sofrası","Gıda Kolisi","Fıtır Kampanyası","Sahur Sponsorluğu"].map(a=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:A.campaigns.includes(a),onChange:e=>$("campaigns",a,e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Özel Programlar"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Yetim İftarı","Yaşlı Bakımevi Ziyareti","Sokak İftarı","Cami İftarı","Ev Ziyaretleri","Dijital İftar","Gençlik Programları"].map(a=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:A.specialPrograms.includes(a),onChange:e=>$("specialPrograms",a,e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Partner Kuruluşlar"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Belediye","Diyanet","Kızılay","Üniversiteler","STK'lar","Özel Sektör"].map(a=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:A.partnerOrganizations.includes(a),onChange:e=>$("partnerOrganizations",a,e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Açıklama"}),e.jsx("textarea",{value:A.description,onChange:e=>D({...A,description:e.target.value}),className:"w-full border rounded px-3 py-2",rows:3,placeholder:"Dönem hakkında açıklama..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:v?"Güncelle":"Oluştur"})]})]})}),e.jsx(s,{isOpen:b,onClose:()=>f(!1),title:`${C?.name} - Bağışlar`,children:C&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Toplam Bağış:"}),e.jsx("span",{className:"ml-2 font-medium",children:C.donationCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Toplanan:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[C.collectedAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ortalama:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[C.averageDonation.toLocaleString("tr-TR")," ₺"]})]})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx(r,{columns:q,data:o.filter(e=>e.periodId===C.id)})})]})}),e.jsx(s,{isOpen:y,onClose:()=>N(!1),title:`${C?.name} - Detaylı Analitik`,children:C&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-600",children:"Hedef Tutar"}),e.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[C.targetAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-green-600",children:"Toplanan"}),e.jsxs("p",{className:"text-xl font-bold text-green-900",children:[C.collectedAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-purple-600",children:"Başarı Oranı"}),e.jsxs("p",{className:"text-xl font-bold text-purple-900",children:[C.targetAmount>0?Math.round(C.collectedAmount/C.targetAmount*100):0,"%"]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-orange-600",children:"Bağış Sayısı"}),e.jsx("p",{className:"text-xl font-bold text-orange-900",children:C.donationCount})]})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Bağış Türü Detayları"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-green-600 mb-2",children:"Fıtır"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Adet: ",C.fitrCount]}),e.jsxs("div",{children:["Birim: ",C.fitrAmount," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",C.fitrCollected.toLocaleString("tr-TR")," ₺"]})]})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-blue-600 mb-2",children:"İftar"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Hedef: ",C.iftar.targetCount]}),e.jsxs("div",{children:["Sponsor: ",C.iftar.sponsoredCount]}),e.jsxs("div",{children:["Birim: ",C.iftar.pricePerIftar," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",C.iftar.totalRevenue.toLocaleString("tr-TR")," ₺"]})]})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-purple-600 mb-2",children:"Sahur"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Hedef: ",C.sahur.targetCount]}),e.jsxs("div",{children:["Sponsor: ",C.sahur.sponsoredCount]}),e.jsxs("div",{children:["Birim: ",C.sahur.pricePerSahur," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",C.sahur.totalRevenue.toLocaleString("tr-TR")," ₺"]})]})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-orange-600 mb-2",children:"Gıda Paketi"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Hedef: ",C.foodPackage.targetCount]}),e.jsxs("div",{children:["Dağıtılan: ",C.foodPackage.distributedCount]}),e.jsxs("div",{children:["Birim: ",C.foodPackage.pricePerPackage," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",C.foodPackage.totalRevenue.toLocaleString("tr-TR")," ₺"]})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Dağıtım Alanları"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.distributionAreas.map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:a},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Kampanyalar"}),e.jsx("div",{className:"space-y-2",children:C.campaigns.map((a,t)=>e.jsx("div",{className:"text-sm p-2 bg-gray-50 rounded",children:a},t))})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Özel Programlar"}),e.jsx("div",{className:"space-y-2",children:C.specialPrograms.map((a,t)=>e.jsx("div",{className:"text-sm p-2 bg-gray-50 rounded",children:a},t))})]})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Partner Kuruluşlar"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.partnerOrganizations.map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded text-sm",children:a},t))})]})]})})]})}export{l as default};
