const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RechartsBundle-ByKRf7rQ.js","assets/ui-vendor-B8g4ebjc.js","assets/react-vendor-DCtPEfzS.js","assets/auth-CY9yrbMl.js","assets/state-vendor-rPBjJaR_.js","assets/supabase-vendor-AMUhAiAi.js","assets/file-vendor-D5NpndWQ.js","assets/utils-vendor-DxpoukG0.js","assets/chart-vendor-CNXqmhrW.js"])))=>i.map(i=>d[i]);
import{j as e,R as s,C as a,a as t,b as i,L as l,T as n,c as r}from"./ui-vendor-B8g4ebjc.js";import{r as c,a as o,L as d}from"./react-vendor-DCtPEfzS.js";import{C as m,a as h,L as u,b as x,U as p,T as g,B as f,c as j,s as b,d as y,S as v,R as N,e as w,X as k,G as S,f as z,M as T,H as C,D as A,g as D,A as M,F as R,E as B,h as O,i as F,P as K,W as G,j as E,Q as P,k as L,l as _,m as H,n as Y,o as q,p as I,q as $,N as W,r as Q,u as U,t as V}from"./auth-CY9yrbMl.js";import{_ as J,E as Z,a as X,u as ee,w as se,F as ae}from"./file-vendor-D5NpndWQ.js";import{t as te,c as ie,a as le}from"./utils-vendor-DxpoukG0.js";import{Q as ne}from"./state-vendor-rPBjJaR_.js";import{R as re,C as ce,a as oe,X as de,Y as me,T as he,L as ue,B as xe,b as pe,P as ge,c as fe,d as je,e as be,A as ye,f as ve,g as Ne,M as we,h as ke,i as Se,j as ze,k as Te,l as Ce,u as Ae,m as De}from"./chart-vendor-CNXqmhrW.js";const Me={TR:"tr",RU:"ru",EN:"en"},Re={[Me.TR]:"Türkçe",[Me.RU]:"Русский",[Me.EN]:"English"},Be={[Me.TR]:"🇹🇷",[Me.RU]:"🇷🇺",[Me.EN]:"🇺🇸"},Oe=Me.TR,Fe={[Me.TR]:{common:{save:"Kaydet",cancel:"İptal",delete:"Sil",edit:"Düzenle",add:"Ekle",search:"Ara",filter:"Filtrele",export:"Dışa Aktar",import:"İçe Aktar",loading:"Yükleniyor...",error:"Hata",success:"Başarılı",warning:"Uyarı",info:"Bilgi",yes:"Evet",no:"Hayır",close:"Kapat",back:"Geri",next:"İleri",previous:"Önceki",complete:"Tamamla",skip:"Atla",reset:"Sıfırla",refresh:"Yenile",download:"İndir",upload:"Yükle",view:"Görüntüle",details:"Detaylar",actions:"İşlemler",status:"Durum",date:"Tarih",time:"Saat",name:"Ad",email:"E-posta",phone:"Telefon",address:"Adres",description:"Açıklama",notes:"Notlar",created:"Oluşturuldu",updated:"Güncellendi",createdBy:"Oluşturan",updatedBy:"Güncelleyen",step:"Adım",videoNotSupported:"Tarayıcınız video oynatmayı desteklemiyor."},navigation:{dashboard:"Dashboard",aid:"Yardım",donations:"Bağışlar",beneficiaries:"Yardım Alanlar",reports:"Raporlar",settings:"Ayarlar",users:"Kullanıcılar",messages:"Mesajlar",meetings:"Toplantılar",tasks:"Görevler",definitions:"Tanımlar",system:"Sistem"},dashboard:{title:"Dashboard",welcome:"Hoş Geldiniz",overview:"Genel Bakış",statistics:"İstatistikler",recentActivity:"Son Aktiviteler",quickActions:"Hızlı İşlemler",customize:"Kişiselleştir",cache:"Cache",totalBeneficiaries:"Toplam Yardım Alan",totalDonations:"Toplam Bağış",totalUsers:"Toplam Kullanıcı",pendingTasks:"Bekleyen Görevler",todayMeetings:"Bugünkü Toplantılar",unreadMessages:"Okunmamış Mesajlar"},aid:{title:"Yardım Modülü",applications:"Başvurular",beneficiaries:"Yardım Alanlar",cashOperations:"Nakit İşlemleri",inKindOperations:"Ayni İşlemler",hospitalReferrals:"Hastane Sevkleri",serviceTracking:"Hizmet Takibi",reports:"Raporlar",parameters:"Parametreler",dataControl:"Veri Kontrolü",cashVault:"Nakit Kasası",bankOrders:"Banka Emirleri"},donations:{title:"Bağış Modülü",cashDonations:"Nakit Bağışlar",bankDonations:"Banka Bağışları",inKindDonations:"Ayni Bağışlar",bulkProvisioning:"Toplu Sağlama",donorProfiles:"Bağışçı Profilleri",donationTracking:"Bağış Takibi",reports:"Raporlar",analytics:"Analitik",fundManagement:"Fon Yönetimi"},users:{title:"Kullanıcı Yönetimi",userAccounts:"Kullanıcı Hesapları",permissionGroups:"İzin Grupları",roles:"Roller",permissions:"İzinler",userProfile:"Kullanıcı Profili",changePassword:"Şifre Değiştir",twoFactorAuth:"İki Faktörlü Doğrulama",loginHistory:"Giriş Geçmişi",activityLog:"Aktivite Günlüğü"},messages:{title:"Mesajlar",inbox:"Gelen Kutusu",sent:"Gönderilen",draft:"Taslak",compose:"Yeni Mesaj",bulkSend:"Toplu Gönder",templates:"Şablonlar",analytics:"Analitik",settings:"Ayarlar"},meetings:{title:"Toplantılar",schedule:"Toplantı Planla",upcoming:"Yaklaşan",past:"Geçmiş",calendar:"Takvim",participants:"Katılımcılar",agenda:"Gündem",minutes:"Tutanak",reminders:"Hatırlatıcılar"},tasks:{title:"Görevler",myTasks:"Görevlerim",allTasks:"Tüm Görevler",createTask:"Görev Oluştur",assignTask:"Görev Ata",priority:"Öncelik",dueDate:"Bitiş Tarihi",status:"Durum",progress:"İlerleme",comments:"Yorumlar"},settings:{title:"Ayarlar",general:"Genel",appearance:"Görünüm",notifications:"Bildirimler",security:"Güvenlik",language:"Dil",timezone:"Saat Dilimi",backup:"Yedekleme",system:"Sistem"},onboarding:{welcome:"Hoş Geldiniz! 👋",welcomeDescription:"Dernek Yönetim Paneli'ne hoş geldiniz. Bu kısa rehber size sistemin temel özelliklerini tanıtacak.",dashboardTitle:"Dashboard - Ana Kontrol Paneli",dashboardDescription:"Dashboard, tüm önemli bilgileri tek yerden görebileceğiniz ana kontrol panelidir.",modulesTitle:"Modüller - Sistem Bileşenleri",modulesDescription:"Sistem, farklı işlevleri yerine getiren modüllerden oluşur. Her modülün kendine özgü özellikleri vardır.",complete:"Tamamla",skip:"Atla",next:"İleri",previous:"Önceki",completed:"Tamamlandı",stepCompleted:"Bu adımı tamamladınız mı?"},ai:{title:"AI Komut Merkezi",placeholder:"Ne yapmak istiyorsunuz?",intent:"Amaç",sentiment:"Duygu",entities:"Varlıklar",urgency:"Aciliyet",processing:"İşleniyor...",error:"Komut işlenirken hata oluştu",noResults:"Sonuç bulunamadı"},cache:{title:"Cache Monitörü",totalQueries:"Toplam Sorgu",totalSize:"Toplam Boyut",averageSize:"Ortalama Boyut",hitRate:"İsabet Oranı",performance:"Performans",optimize:"Optimize Et",clear:"Temizle",refresh:"Yenile"},reports:{title:"Raporlar",reportTitle:"Rapor Başlığı",subtitle:"Alt Başlık",enterTitle:"Rapor başlığını girin",enterSubtitle:"Alt başlık girin (opsiyonel)",settings:"Ayarlar",orientation:"Yönlendirme",portrait:"Dikey",landscape:"Yatay",pageSize:"Sayfa Boyutu",letter:"Letter",fontSize:"Yazı Boyutu",includeHeader:"Başlık Dahil Et",includeFooter:"Alt Bilgi Dahil Et",includeSummary:"Özet Dahil Et",includeFilters:"Filtreler Dahil Et",preview:"Önizleme",showPreview:"Önizleme Göster",hidePreview:"Önizleme Gizle",generatePDF:"PDF Oluştur",generateExcel:"Excel Oluştur",generating:"Oluşturuluyor...",export:"Dışa Aktar",import:"İçe Aktar",templates:"Şablonlar",scheduledReports:"Zamanlanmış Raporlar",reportHistory:"Rapor Geçmişi"}},[Me.RU]:{common:{save:"Сохранить",cancel:"Отмена",delete:"Удалить",edit:"Редактировать",add:"Добавить",search:"Поиск",filter:"Фильтр",export:"Экспорт",import:"Импорт",loading:"Загрузка...",error:"Ошибка",success:"Успешно",warning:"Предупреждение",info:"Информация",yes:"Да",no:"Нет",close:"Закрыть",back:"Назад",next:"Далее",previous:"Предыдущий",complete:"Завершить",skip:"Пропустить",reset:"Сбросить",refresh:"Обновить",download:"Скачать",upload:"Загрузить",view:"Просмотр",details:"Детали",actions:"Действия",status:"Статус",date:"Дата",time:"Время",name:"Имя",email:"Электронная почта",phone:"Телефон",address:"Адрес",description:"Описание",notes:"Заметки",created:"Создано",updated:"Обновлено",createdBy:"Создано",updatedBy:"Обновлено",step:"Шаг",videoNotSupported:"Ваш браузер не поддерживает воспроизведение видео."},navigation:{dashboard:"Панель управления",aid:"Помощь",donations:"Пожертвования",beneficiaries:"Получатели помощи",reports:"Отчеты",settings:"Настройки",users:"Пользователи",messages:"Сообщения",meetings:"Встречи",tasks:"Задачи",definitions:"Определения",system:"Система"},dashboard:{title:"Панель управления",welcome:"Добро пожаловать",overview:"Обзор",statistics:"Статистика",recentActivity:"Последняя активность",quickActions:"Быстрые действия",customize:"Настроить",cache:"Кэш",totalBeneficiaries:"Всего получателей помощи",totalDonations:"Всего пожертвований",totalUsers:"Всего пользователей",pendingTasks:"Ожидающие задачи",todayMeetings:"Сегодняшние встречи",unreadMessages:"Непрочитанные сообщения"},aid:{title:"Модуль помощи",applications:"Заявки",beneficiaries:"Получатели помощи",cashOperations:"Наличные операции",inKindOperations:"Натуральные операции",hospitalReferrals:"Направления в больницу",serviceTracking:"Отслеживание услуг",reports:"Отчеты",parameters:"Параметры",dataControl:"Контроль данных",cashVault:"Наличная касса",bankOrders:"Банковские приказы"},donations:{title:"Модуль пожертвований",cashDonations:"Наличные пожертвования",bankDonations:"Банковские пожертвования",inKindDonations:"Натуральные пожертвования",bulkProvisioning:"Массовое обеспечение",donorProfiles:"Профили доноров",donationTracking:"Отслеживание пожертвований",reports:"Отчеты",analytics:"Аналитика",fundManagement:"Управление фондами"},users:{title:"Управление пользователями",userAccounts:"Учетные записи пользователей",permissionGroups:"Группы разрешений",roles:"Роли",permissions:"Разрешения",userProfile:"Профиль пользователя",changePassword:"Изменить пароль",twoFactorAuth:"Двухфакторная аутентификация",loginHistory:"История входа",activityLog:"Журнал активности"},messages:{title:"Сообщения",inbox:"Входящие",sent:"Отправленные",draft:"Черновики",compose:"Новое сообщение",bulkSend:"Массовая отправка",templates:"Шаблоны",analytics:"Аналитика",settings:"Настройки"},meetings:{title:"Встречи",schedule:"Запланировать встречу",upcoming:"Предстоящие",past:"Прошедшие",calendar:"Календарь",participants:"Участники",agenda:"Повестка дня",minutes:"Протокол",reminders:"Напоминания"},tasks:{title:"Задачи",myTasks:"Мои задачи",allTasks:"Все задачи",createTask:"Создать задачу",assignTask:"Назначить задачу",priority:"Приоритет",dueDate:"Срок выполнения",status:"Статус",progress:"Прогресс",comments:"Комментарии"},settings:{title:"Настройки",general:"Общие",appearance:"Внешний вид",notifications:"Уведомления",security:"Безопасность",language:"Язык",timezone:"Часовой пояс",backup:"Резервное копирование",system:"Система"},onboarding:{welcome:"Добро пожаловать! 👋",welcomeDescription:"Добро пожаловать в панель управления ассоциацией. Это краткое руководство познакомит вас с основными функциями системы.",dashboardTitle:"Панель управления - Главная панель",dashboardDescription:"Панель управления - это главная панель, где вы можете видеть всю важную информацию в одном месте.",modulesTitle:"Модули - Компоненты системы",modulesDescription:"Система состоит из модулей, выполняющих различные функции. Каждый модуль имеет свои уникальные особенности.",complete:"Завершить",skip:"Пропустить",next:"Далее",previous:"Предыдущий",completed:"Завершено",stepCompleted:"Вы завершили этот шаг?"},ai:{title:"AI Центр команд",placeholder:"Что вы хотите сделать?",intent:"Намерение",sentiment:"Настроение",entities:"Сущности",urgency:"Срочность",processing:"Обработка...",error:"Ошибка при обработке команды",noResults:"Результаты не найдены"},cache:{title:"Монитор кэша",totalQueries:"Всего запросов",totalSize:"Общий размер",averageSize:"Средний размер",hitRate:"Процент попаданий",performance:"Производительность",optimize:"Оптимизировать",clear:"Очистить",refresh:"Обновить"},reports:{title:"Отчеты",reportTitle:"Название отчета",subtitle:"Подзаголовок",enterTitle:"Введите название отчета",enterSubtitle:"Введите подзаголовок (необязательно)",settings:"Настройки",orientation:"Ориентация",portrait:"Портретная",landscape:"Ландшафтная",pageSize:"Размер страницы",letter:"Letter",fontSize:"Размер шрифта",includeHeader:"Включить заголовок",includeFooter:"Включить подвал",includeSummary:"Включить сводку",includeFilters:"Включить фильтры",preview:"Предварительный просмотр",showPreview:"Показать предварительный просмотр",hidePreview:"Скрыть предварительный просмотр",generatePDF:"Создать PDF",generateExcel:"Создать Excel",generating:"Создание...",export:"Экспорт",import:"Импорт",templates:"Шаблоны",scheduledReports:"Запланированные отчеты",reportHistory:"История отчетов"}},[Me.EN]:{common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",export:"Export",import:"Import",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Info",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",complete:"Complete",skip:"Skip",reset:"Reset",refresh:"Refresh",download:"Download",upload:"Upload",view:"View",details:"Details",actions:"Actions",status:"Status",date:"Date",time:"Time",name:"Name",email:"Email",phone:"Phone",address:"Address",description:"Description",notes:"Notes",created:"Created",updated:"Updated",createdBy:"Created By",updatedBy:"Updated By",step:"Step",videoNotSupported:"Your browser does not support video playback."},navigation:{dashboard:"Dashboard",aid:"Aid",donations:"Donations",beneficiaries:"Beneficiaries",reports:"Reports",settings:"Settings",users:"Users",messages:"Messages",meetings:"Meetings",tasks:"Tasks",definitions:"Definitions",system:"System"},dashboard:{title:"Dashboard",welcome:"Welcome",overview:"Overview",statistics:"Statistics",recentActivity:"Recent Activity",quickActions:"Quick Actions",customize:"Customize",cache:"Cache",totalBeneficiaries:"Total Beneficiaries",totalDonations:"Total Donations",totalUsers:"Total Users",pendingTasks:"Pending Tasks",todayMeetings:"Today's Meetings",unreadMessages:"Unread Messages"},aid:{title:"Aid Module",applications:"Applications",beneficiaries:"Beneficiaries",cashOperations:"Cash Operations",inKindOperations:"In-Kind Operations",hospitalReferrals:"Hospital Referrals",serviceTracking:"Service Tracking",reports:"Reports",parameters:"Parameters",dataControl:"Data Control",cashVault:"Cash Vault",bankOrders:"Bank Orders"},donations:{title:"Donations Module",cashDonations:"Cash Donations",bankDonations:"Bank Donations",inKindDonations:"In-Kind Donations",bulkProvisioning:"Bulk Provisioning",donorProfiles:"Donor Profiles",donationTracking:"Donation Tracking",reports:"Reports",analytics:"Analytics",fundManagement:"Fund Management"},users:{title:"User Management",userAccounts:"User Accounts",permissionGroups:"Permission Groups",roles:"Roles",permissions:"Permissions",userProfile:"User Profile",changePassword:"Change Password",twoFactorAuth:"Two-Factor Authentication",loginHistory:"Login History",activityLog:"Activity Log"},messages:{title:"Messages",inbox:"Inbox",sent:"Sent",draft:"Draft",compose:"New Message",bulkSend:"Bulk Send",templates:"Templates",analytics:"Analytics",settings:"Settings"},meetings:{title:"Meetings",schedule:"Schedule Meeting",upcoming:"Upcoming",past:"Past",calendar:"Calendar",participants:"Participants",agenda:"Agenda",minutes:"Minutes",reminders:"Reminders"},tasks:{title:"Tasks",myTasks:"My Tasks",allTasks:"All Tasks",createTask:"Create Task",assignTask:"Assign Task",priority:"Priority",dueDate:"Due Date",status:"Status",progress:"Progress",comments:"Comments"},settings:{title:"Settings",general:"General",appearance:"Appearance",notifications:"Notifications",security:"Security",language:"Language",timezone:"Timezone",backup:"Backup",system:"System"},onboarding:{welcome:"Welcome! 👋",welcomeDescription:"Welcome to the Association Management Panel. This short guide will introduce you to the basic features of the system.",dashboardTitle:"Dashboard - Main Control Panel",dashboardDescription:"Dashboard is the main control panel where you can see all important information in one place.",modulesTitle:"Modules - System Components",modulesDescription:"The system consists of modules that perform different functions. Each module has its own unique features.",complete:"Complete",skip:"Skip",next:"Next",previous:"Previous",completed:"Completed",stepCompleted:"Did you complete this step?"},ai:{title:"AI Command Center",placeholder:"What would you like to do?",intent:"Intent",sentiment:"Sentiment",entities:"Entities",urgency:"Urgency",processing:"Processing...",error:"Error processing command",noResults:"No results found"},cache:{title:"Cache Monitor",totalQueries:"Total Queries",totalSize:"Total Size",averageSize:"Average Size",hitRate:"Hit Rate",performance:"Performance",optimize:"Optimize",clear:"Clear",refresh:"Refresh"},reports:{title:"Reports",reportTitle:"Report Title",subtitle:"Subtitle",enterTitle:"Enter report title",enterSubtitle:"Enter subtitle (optional)",settings:"Settings",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",pageSize:"Page Size",letter:"Letter",fontSize:"Font Size",includeHeader:"Include Header",includeFooter:"Include Footer",includeSummary:"Include Summary",includeFilters:"Include Filters",preview:"Preview",showPreview:"Show Preview",hidePreview:"Hide Preview",generatePDF:"Generate PDF",generateExcel:"Generate Excel",generating:"Generating...",export:"Export",import:"Import",templates:"Templates",scheduledReports:"Scheduled Reports",reportHistory:"Report History"}}},Ke=(e,s)=>{let a=e;for(const t of s){if(!a||"object"!=typeof a||!(t in a))return s.join(".");a=a[t]}return"string"==typeof a?a:s.join(".")},Ge="app_language",Ee=()=>{const[e,s]=c.useState(Oe),[a,t]=c.useState(!1);c.useEffect(()=>{const e=localStorage.getItem(Ge);e&&Object.values(Me).includes(e)&&s(e)},[]),c.useEffect(()=>{document.documentElement.dir=a?"rtl":"ltr",document.documentElement.lang=e},[e,a]);const i=c.useCallback(e=>{s(e),localStorage.setItem(Ge,e),t(!1)},[]),l=c.useCallback(s=>((e,s)=>{const a=s.split(".");let t=Fe[e];for(const i of a){if(!t||"object"!=typeof t||!(i in t)){t=Ke(Fe[Me.TR],a);break}t=t[i]}return"string"==typeof t?t:s})(e,s),[e]),n=c.useCallback(()=>{i(Oe)},[i]);return{currentLanguage:e,changeLanguage:i,resetLanguage:n,t:l,isRTL:a,availableLanguages:Object.values(Me)}},Pe=c.createContext(void 0),Le=()=>{const e=c.useContext(Pe);if(!e)throw new Error("useLanguageContext must be used within a LanguageProvider");return e},_e=({children:s})=>{const a=Ee();return e.jsx(Pe.Provider,{value:a,children:s})};function He(...e){return te(ie(e))}const Ye=c.createContext(void 0),qe=()=>{const e=c.useContext(Ye);if(!e)throw new Error("useSelect must be used within a Select");return e},Ie=({value:s,onValueChange:a,children:t,defaultValue:i=""})=>{const[l,n]=c.useState(i),[r,o]=c.useState(!1),d=c.useRef(null),m=void 0!==s?s:l;return c.useEffect(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.jsx(Ye.Provider,{value:{value:m,onValueChange:e=>{void 0===s&&n(e),a?.(e),o(!1)},open:r,setOpen:o},children:e.jsx("div",{ref:d,className:"relative",children:t})})},$e=({className:s,children:a})=>{const{open:t,setOpen:i}=qe();return e.jsxs("button",{type:"button",className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),onClick:()=>i(!t),children:[a,e.jsx(m,{className:He("h-4 w-4 opacity-50 transition-transform",t&&"rotate-180")})]})},We=({placeholder:s="Seçiniz...",className:a})=>{const{value:t}=qe();return e.jsx("span",{className:He("block truncate",!t&&"text-muted-foreground",a),children:t||s})},Qe=({className:s,children:a})=>{const{open:t}=qe();return t?e.jsx("div",{className:He("absolute top-full z-50 mt-1 w-full rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",s),children:a}):null},Ue=({value:s,className:a,children:t})=>{const{value:i,onValueChange:l}=qe(),n=i===s;return e.jsxs("div",{className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"bg-accent text-accent-foreground",a),onClick:()=>l(s),children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n&&e.jsx(h,{className:"h-4 w-4"})}),t]})},Ve=c.forwardRef(({className:s,variant:a="default",size:t="default",...i},l)=>e.jsx("button",{className:He("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===a,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===a,"border border-input hover:bg-accent hover:text-accent-foreground":"outline"===a,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===a,"hover:bg-accent hover:text-accent-foreground":"ghost"===a,"underline-offset-4 hover:underline text-primary":"link"===a},{"h-10 py-2 px-4":"default"===t,"h-9 px-3 rounded-md":"sm"===t,"h-11 px-8 rounded-md":"lg"===t,"h-10 w-10":"icon"===t},s),ref:l,...i}));Ve.displayName="Button";const Je=c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a}));Je.displayName="Card";const Ze=c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:He("flex flex-col space-y-1.5 p-6",s),...a}));Ze.displayName="CardHeader";const Xe=c.forwardRef(({className:s,...a},t)=>e.jsx("h3",{ref:t,className:He("text-2xl font-semibold leading-none tracking-tight",s),...a}));Xe.displayName="CardTitle";c.forwardRef(({className:s,...a},t)=>e.jsx("p",{ref:t,className:He("text-sm text-muted-foreground",s),...a})).displayName="CardDescription";const es=c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:He("p-6 pt-0",s),...a}));es.displayName="CardContent";c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:He("flex items-center p-6 pt-0",s),...a})).displayName="CardFooter";const ss=({size:s="md",text:a="Yükleniyor...",fullScreen:t=!1,className:i=""})=>{const l=t?"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm":`flex flex-col items-center justify-center gap-3 ${i}`;return e.jsxs("div",{className:l,children:[e.jsx(u,{className:`animate-spin text-primary ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[s]}`}),a&&e.jsx("p",{className:`text-muted-foreground ${{sm:"text-sm",md:"text-base",lg:"text-lg"}[s]}`,children:a})]})},as=()=>e.jsxs("div",{className:"rounded-lg border bg-card p-4 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2 mb-3"}),e.jsx("div",{className:"h-6 bg-muted rounded w-1/4"})]}),ts=({rows:s=5,columns:a=4})=>e.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden",children:[e.jsx("div",{className:"border-b bg-muted/50 p-4",children:e.jsx("div",{className:"flex gap-4",children:Array.from({length:a}).map((s,a)=>e.jsx("div",{className:"h-4 bg-muted rounded flex-1 animate-pulse"},a))})}),Array.from({length:s}).map((s,t)=>e.jsx("div",{className:"border-b p-4 last:border-b-0",children:e.jsx("div",{className:"flex gap-4",children:Array.from({length:a}).map((s,a)=>e.jsx("div",{className:"h-4 bg-muted rounded flex-1 animate-pulse"},a))})},t))]}),is=()=>e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((s,a)=>e.jsx("div",{className:"rounded-lg border bg-card p-4 animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-6 bg-muted rounded w-1/2"})]})]})},a))}),ls=new ne({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:(e,s)=>404!==s?.status&&(401!==s?.status&&403!==s?.status&&e<3),retryDelay:e=>Math.min(1e3*2**e,3e4),networkMode:"online"},mutations:{retry:(e,s)=>401!==s?.status&&403!==s?.status&&(400!==s?.status&&422!==s?.status&&e<2),retryDelay:e=>Math.min(1e3*2**e,1e4),networkMode:"online"}}}),ns={auth:{user:()=>["auth","user"],permissions:()=>["auth","permissions"]},users:{all:()=>["users"],lists:()=>[...ns.users.all(),"list"],list:e=>[...ns.users.lists(),{filters:e}],count:()=>[...ns.users.all(),"count"],details:()=>[...ns.users.all(),"detail"],detail:e=>[...ns.users.details(),e]},institutions:{all:()=>["institutions"],lists:()=>[...ns.institutions.all(),"list"],list:e=>[...ns.institutions.lists(),{filters:e}],count:()=>[...ns.institutions.all(),"count"],details:()=>[...ns.institutions.all(),"detail"],detail:e=>[...ns.institutions.details(),e]},messages:{all:()=>["messages"],templates:{all:()=>[...ns.messages.all(),"templates"],lists:()=>[...ns.messages.templates.all(),"list"],list:e=>[...ns.messages.templates.lists(),{filters:e}],count:()=>[...ns.messages.templates.all(),"count"],details:()=>[...ns.messages.templates.all(),"detail"],detail:e=>[...ns.messages.templates.details(),e]},deliveries:{all:()=>[...ns.messages.all(),"deliveries"],lists:()=>[...ns.messages.deliveries.all(),"list"],list:e=>[...ns.messages.deliveries.lists(),{filters:e}]}},donations:{all:()=>["donations"],lists:()=>[...ns.donations.all(),"list"],list:e=>[...ns.donations.lists(),{filters:e}],details:()=>[...ns.donations.all(),"detail"],detail:e=>[...ns.donations.details(),e],stats:()=>[...ns.donations.all(),"stats"]},aid:{all:()=>["aid"],applications:{all:()=>[...ns.aid.all(),"applications"],lists:()=>[...ns.aid.applications.all(),"list"],list:e=>[...ns.aid.applications.lists(),{filters:e}],details:()=>[...ns.aid.applications.all(),"detail"],detail:e=>[...ns.aid.applications.details(),e]},beneficiaries:{all:()=>[...ns.aid.all(),"beneficiaries"],lists:()=>[...ns.aid.beneficiaries.all(),"list"],list:e=>[...ns.aid.beneficiaries.lists(),{filters:e}],details:()=>[...ns.aid.beneficiaries.all(),"detail"],detail:e=>[...ns.aid.beneficiaries.details(),e]}},scholarship:{all:()=>["scholarship"],applications:{all:()=>[...ns.scholarship.all(),"applications"],lists:()=>[...ns.scholarship.applications.all(),"list"],list:e=>[...ns.scholarship.applications.lists(),{filters:e}],details:()=>[...ns.scholarship.applications.all(),"detail"],detail:e=>[...ns.scholarship.applications.details(),e]},students:{all:()=>[...ns.scholarship.all(),"students"],lists:()=>[...ns.scholarship.students.all(),"list"],list:e=>[...ns.scholarship.students.lists(),{filters:e}],details:()=>[...ns.scholarship.students.all(),"detail"],detail:e=>[...ns.scholarship.students.details(),e]}},dashboard:{all:()=>["dashboard"],stats:()=>[...ns.dashboard.all(),"stats"],charts:()=>[...ns.dashboard.all(),"charts"],recent:()=>[...ns.dashboard.all(),"recent"]}},rs={all:()=>ls.invalidateQueries(),users:()=>ls.invalidateQueries({queryKey:ns.users.all()}),institutions:()=>ls.invalidateQueries({queryKey:ns.institutions.all()}),messages:()=>ls.invalidateQueries({queryKey:ns.messages.all()}),donations:()=>ls.invalidateQueries({queryKey:ns.donations.all()}),aid:()=>ls.invalidateQueries({queryKey:ns.aid.all()}),scholarship:()=>ls.invalidateQueries({queryKey:ns.scholarship.all()}),dashboard:()=>ls.invalidateQueries({queryKey:ns.dashboard.all()}),auth:()=>{ls.invalidateQueries({queryKey:ns.auth.user()}),ls.invalidateQueries({queryKey:ns.auth.permissions()})}},cs={dashboard:async()=>{await Promise.all([ls.prefetchQuery({queryKey:ns.dashboard.stats(),queryFn:()=>fetch("/api/dashboard/stats").then(e=>e.json()),staleTime:12e4}),ls.prefetchQuery({queryKey:ns.dashboard.recent(),queryFn:()=>fetch("/api/dashboard/recent").then(e=>e.json()),staleTime:6e4})])}},os={saveToStorage:()=>{try{const e=ls.getQueryCache(),s=e.getAll().map(e=>({queryKey:e.queryKey,data:e.state.data,dataUpdatedAt:e.state.dataUpdatedAt}));localStorage.setItem("react-query-cache",JSON.stringify(s))}catch(e){}},loadFromStorage:()=>{try{const e=localStorage.getItem("react-query-cache");if(e){JSON.parse(e).forEach(e=>{ls.setQueryData(e.queryKey,e.data)})}}catch(e){}},clearStorage:()=>{try{localStorage.removeItem("react-query-cache")}catch(e){}}};function ds(...e){return te(ie(e))}const ms=c.forwardRef(({className:s,type:a,...t},i)=>e.jsx("input",{type:a,className:ds("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:i,...t}));function hs({data:s}){const a=Math.max(...s),t=Math.min(...s),i=a-t||1,l=s.map((e,a)=>`${a/(s.length-1)*100},${100-(e-t)/i*100}`).join(" ");return e.jsx("div",{className:"h-12 w-full",children:e.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:e.jsx("polyline",{fill:"none",stroke:"currentColor",strokeWidth:"2",points:l,className:"text-financial-primary"})})})}function us(e,s="₺"){return`${s}${e.toLocaleString("tr-TR")}`}function xs({title:s,value:a,change:t,changeType:i,period:l,icon:n,trend:r,unit:c="₺",className:d="",onSwipeLeft:m,onSwipeRight:h,swipeable:u=!1}){const x="increase"===i?"text-financial-success":"text-financial-error",p="increase"===i?e.jsx(g,{className:"h-4 w-4"}):e.jsx(j,{className:"h-4 w-4"});return e.jsxs("div",{style:{},className:`\n        bg-card\n        border-border\n        border rounded-xl shadow-sm p-4 sm:p-6\n        hover:shadow-md transition-all duration-200\n        min-h-[120px] sm:min-h-[160px]\n        group cursor-pointer\n        hover:scale-[1.02] active:scale-[0.98]\n        touch-manipulation\n        min-w-[44px] min-h-[44px]\n        swipeable-card\n        ${d}\n        ${u?"select-none":""}\n      `,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-brand-primary/10 rounded-lg text-brand-primary",children:n&&o.createElement(n,{className:"h-5 w-5"})}),e.jsx("h3",{className:"text-sm font-medium text-foreground",children:s})]}),t&&e.jsxs("div",{className:`flex items-center space-x-1 text-sm ${x}`,children:[p,e.jsxs("span",{children:[Math.abs(t),"%"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-3xl font-bold text-foreground",children:"₺"===c?us(a,c):`${a.toLocaleString("tr-TR")}${c}`}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l})]}),r&&r.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx(hs,{data:r})})]})}function ps({totalDonations:s,monthlyChange:a,trend:t}){return e.jsx(xs,{title:"Toplam Bağış",value:s,change:a,changeType:a>=0?"increase":"decrease",period:"Bu ay",icon:x,trend:t,unit:"₺",className:"bg-gradient-to-br from-financial-success-light to-financial-success-light border-financial-success/20 sm:min-h-[140px]"})}function gs({growthRate:s,period:a}){return e.jsx(xs,{title:"Aylık Büyüme",value:s,change:Math.abs(s),changeType:s>=0?"increase":"decrease",period:a,icon:g,unit:"%",className:"sm:min-h-[140px]"})}function fs({count:s,monthlyChange:a}){return e.jsx(xs,{title:"Aktif Yararlanıcı",value:s,change:a,changeType:a>=0?"increase":"decrease",period:"Bu ay",icon:p,unit:"",className:"sm:min-h-[140px]"})}function js({distributionRate:s,target:a}){return e.jsx(xs,{title:"Fon Dağılım Oranı",value:s,change:(s-a)/a*100,changeType:s>=a?"increase":"decrease",period:`Hedef: %${a}`,icon:f,unit:"%",className:"sm:min-h-[140px]"})}ms.displayName="Input";const bs=[{month:"Oca",donations:45e3,beneficiaries:120},{month:"Şub",donations:52e3,beneficiaries:135},{month:"Mar",donations:48e3,beneficiaries:128},{month:"Nis",donations:61e3,beneficiaries:145},{month:"May",donations:55e3,beneficiaries:138},{month:"Haz",donations:67e3,beneficiaries:156}],ys=[{name:"Nakdi Yardım",value:45,color:"#0F3A7A"},{name:"Ayni Yardım",value:25,color:"#1D8348"},{name:"Eğitim Desteği",value:20,color:"#B7950B"},{name:"Sağlık Yardımı",value:10,color:"#C0392B"}],vs=[{day:"Pzt",applications:12,donations:8500},{day:"Sal",applications:8,donations:6200},{day:"Çar",applications:15,donations:9800},{day:"Per",applications:20,donations:12400},{day:"Cum",applications:18,donations:11200},{day:"Cmt",applications:6,donations:4500},{day:"Paz",applications:4,donations:3200}],Ns=[{region:"İstanbul",beneficiaries:450,amount:125e3},{region:"Ankara",beneficiaries:320,amount:89e3},{region:"İzmir",beneficiaries:280,amount:76e3},{region:"Bursa",beneficiaries:180,amount:51e3},{region:"Antalya",beneficiaries:150,amount:42e3},{region:"Diğer",beneficiaries:220,amount:61e3}],ws=c.lazy(()=>J(()=>import("./RechartsBundle-ByKRf7rQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),ks=()=>{const[s,a]=c.useState({totalBeneficiaries:0,totalDonations:0,totalAid:0,activeApplications:0,monthlyGrowth:0,loading:!0}),[t,i]=c.useState("month");c.useEffect(()=>{l();const e=b.channel("beneficiaries-changes").on("postgres_changes",{event:"*",schema:"public",table:"beneficiaries"},()=>l()).subscribe(),s=b.channel("applications-changes").on("postgres_changes",{event:"*",schema:"public",table:"applications"},()=>l()).subscribe();return()=>{e.unsubscribe(),s.unsubscribe()}},[]);const l=async()=>{try{const[e,s]=await Promise.all([b.from("beneficiaries").select("*",{count:"exact"}),b.from("applications").select("*",{count:"exact"})]);a({totalBeneficiaries:e.count||0,totalDonations:45e4,totalAid:38e4,activeApplications:s.count||0,monthlyGrowth:12.5,loading:!1})}catch(e){a(e=>({...e,loading:!1}))}};return s.loading?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(as,{}),e.jsx(as,{}),e.jsx(as,{}),e.jsx(as,{})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"İstatistik ve Analizler"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("select",{value:t,onChange:e=>i(e.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"week",children:"Bu Hafta"}),e.jsx("option",{value:"month",children:"Bu Ay"}),e.jsx("option",{value:"year",children:"Bu Yıl"})]})]})]}),e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Loading chart..."}),children:e.jsx(ws,{donationTrend:bs,aidDistribution:ys,weeklyStats:vs,regionalData:Ns})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ortalama Bağış"}),e.jsx("p",{className:"text-2xl font-bold",children:"₺2,450"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+8.2%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Başvuru/Onay Oranı"}),e.jsx("p",{className:"text-2xl font-bold",children:"87%"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+2.1%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktif Bağışçı"}),e.jsx("p",{className:"text-2xl font-bold",children:"1,247"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+15.3%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hedef Tamamlama"}),e.jsx("p",{className:"text-2xl font-bold",children:"76%"})]}),e.jsx("div",{className:"text-blue-600 text-sm",children:"Bu ay"})]})})]})]})},Ss=le("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zs({className:s,variant:a,...t}){return e.jsx("div",{className:He(Ss({variant:a}),s),...t})}const Ts=[{id:"total-donations",title:"Toplam Bağışlar",description:"Toplam bağış miktarı ve değişim oranı",icon:e.jsx(f,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:0,size:"small",color:"bg-blue-500"},{id:"active-beneficiaries",title:"Aktif İhtiyaç Sahipleri",description:"Aktif yardım alan kişi sayısı",icon:e.jsx(p,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:1,size:"small",color:"bg-green-500"},{id:"monthly-growth",title:"Aylık Büyüme",description:"Aylık büyüme oranı ve trend",icon:e.jsx(f,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:2,size:"small",color:"bg-purple-500"},{id:"fund-distribution",title:"Fon Dağılımı",description:"Fonların dağılım oranı",icon:e.jsx(C,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:3,size:"small",color:"bg-orange-500"},{id:"recent-activities",title:"Son Aktiviteler",description:"Son sistem aktiviteleri",icon:e.jsx(y,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:4,size:"medium",color:"bg-indigo-500"},{id:"pending-tasks",title:"Bekleyen Görevler",description:"Tamamlanmamış görevler",icon:e.jsx(z,{className:"w-5 h-5"}),category:"management",enabled:!0,position:5,size:"medium",color:"bg-red-500"},{id:"messages",title:"Mesajlar",description:"Son mesajlar ve bildirimler",icon:e.jsx(T,{className:"w-5 h-5"}),category:"communication",enabled:!0,position:6,size:"medium",color:"bg-teal-500"},{id:"donation-chart",title:"Bağış Grafiği",description:"Bağış trendleri ve analizi",icon:e.jsx(f,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:7,size:"large",color:"bg-blue-600"},{id:"beneficiary-chart",title:"İhtiyaç Sahibi Analizi",description:"İhtiyaç sahipleri dağılımı",icon:e.jsx(p,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:8,size:"large",color:"bg-green-600"}],Cs={financial:"bg-blue-50 border-blue-200",activity:"bg-green-50 border-green-200",communication:"bg-purple-50 border-purple-200",management:"bg-orange-50 border-orange-200"},As={financial:e.jsx(f,{className:"w-4 h-4"}),activity:e.jsx(p,{className:"w-4 h-4"}),communication:e.jsx(T,{className:"w-4 h-4"}),management:e.jsx(z,{className:"w-4 h-4"})};function Ds({isOpen:s,onClose:a,onSave:t,currentWidgets:i}){const[l,n]=c.useState(i),[r,o]=c.useState("all"),[d,m]=c.useState(null);c.useEffect(()=>{n(i)},[i]);const h=()=>{m(null)},u="all"===r?l:l.filter(e=>e.category===r);return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(Je,{className:"w-full max-w-6xl max-h-[90vh] overflow-hidden bg-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dashboard Kişiselleştirme"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Widget'ları düzenleyin ve dashboard'ınızı özelleştirin"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>{n(Ts)},children:[e.jsx(N,{className:"w-4 h-4 mr-1"}),"Sıfırla"]}),e.jsxs(Ve,{size:"sm",onClick:()=>{t(l),a()},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"Kaydet"]}),e.jsx(Ve,{variant:"ghost",size:"sm",onClick:a,children:e.jsx(k,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[e.jsxs("div",{className:"w-64 border-r bg-gray-50 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Kategoriler"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>o("all"),className:"w-full text-left p-3 rounded-lg transition-colors "+("all"===r?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-gray-100"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Tümü"}),e.jsx(zs,{variant:"secondary",className:"ml-auto",children:l.length})]})}),Object.entries(Cs).map(([s,a])=>e.jsx("button",{onClick:()=>o(s),className:`w-full text-left p-3 rounded-lg transition-colors ${r===s?a:"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[As[s],e.jsx("span",{className:"font-medium capitalize",children:"financial"===s?"Finansal":"activity"===s?"Aktivite":"communication"===s?"İletişim":"Yönetim"}),e.jsx(zs,{variant:"secondary",className:"ml-auto",children:l.filter(e=>e.category===s).length})]})},s))]})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((s,a)=>e.jsxs("div",{draggable:!0,onDragStart:()=>(e=>{m(e)})(a),onDragOver:e=>((e,s)=>{if(e.preventDefault(),null!==d&&d!==s){const e=[...l],a=e[d];e.splice(d,1),e.splice(s,0,a),n(e),m(s)}})(e,a),onDragEnd:h,className:`p-4 border rounded-lg cursor-move transition-all ${d===a?"opacity-50 scale-95":""} ${s.enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-200 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${s.color}`,children:e.jsx("div",{className:"text-white",children:s.icon})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-gray-600",children:s.description})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:()=>{return e=s.id,void n(s=>s.map(s=>s.id===e?{...s,enabled:!s.enabled}:s));var e},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Boyut:"}),e.jsxs("select",{value:s.size,onChange:e=>{return a=s.id,t=e.target.value,void n(e=>e.map(e=>e.id===a?{...e,size:t}:e));var a,t},className:"text-xs border rounded px-2 py-1",disabled:!s.enabled,children:[e.jsx("option",{value:"small",children:"Küçük"}),e.jsx("option",{value:"medium",children:"Orta"}),e.jsx("option",{value:"large",children:"Büyük"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Kategori:"}),e.jsx(zs,{variant:"outline",className:"text-xs",children:"financial"===s.category?"Finansal":"activity"===s.category?"Aktivite":"communication"===s.category?"İletişim":"Yönetim"})]})]})]},s.id))})})]})]})}):null}const Ms={user:{name:"User Data",description:"Kullanıcı profili ve yetkileri - uzun süreli cache",staleTime:18e5,gcTime:36e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:2},list:{name:"List Data",description:"Tablo listeleri - orta süreli cache",staleTime:3e5,gcTime:9e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:3},detail:{name:"Detail Data",description:"Detay sayfaları - kısa süreli cache",staleTime:12e4,gcTime:6e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:2},report:{name:"Report Data",description:"Raporlar ve analizler - uzun süreli cache",staleTime:9e5,gcTime:18e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:1},realtime:{name:"Real-time Data",description:"Gerçek zamanlı veriler - minimum cache",staleTime:3e4,gcTime:12e4,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:1},static:{name:"Static Data",description:"Statik veriler - çok uzun süreli cache",staleTime:864e5,gcTime:6048e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:1},search:{name:"Search Results",description:"Arama sonuçları - kısa süreli cache",staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:1}};class Rs{queryClient;cacheStats=new Map;constructor(e){this.queryClient=e,this.initializeCacheStats()}initializeCacheStats(){Object.keys(Ms).forEach(e=>{this.cacheStats.set(e,{hits:0,misses:0,size:0})})}getCacheConfig(e){return Ms[e]||null}applyCacheStrategy(e,s){const a=this.getCacheConfig(s);a&&this.queryClient.setQueryDefaults(e,{staleTime:a.staleTime,gcTime:a.gcTime,refetchOnWindowFocus:a.refetchOnWindowFocus,refetchOnReconnect:a.refetchOnReconnect,refetchOnMount:a.refetchOnMount,retry:a.retry,retryDelay:a.retryDelay})}clearCache(e){e?this.queryClient.removeQueries({queryKey:[e]}):this.queryClient.clear()}invalidateQuery(e){this.queryClient.invalidateQueries({queryKey:e})}getCacheSize(){return this.queryClient.getQueryCache().getAll().length}getCacheStats(){return Object.fromEntries(this.cacheStats)}recordCacheHit(e){const s=this.cacheStats.get(e);s&&(s.hits++,this.cacheStats.set(e,s))}recordCacheMiss(e){const s=this.cacheStats.get(e);s&&(s.misses++,this.cacheStats.set(e,s))}getCachePerformanceReport(){const e={};return Object.entries(this.cacheStats).forEach(([s,a])=>{const t=a.hits+a.misses,i=t>0?a.hits/t*100:0;e[s]={hits:a.hits,misses:a.misses,hitRate:`${i.toFixed(2)}%`,size:a.size}}),e}async prefetchQuery(e,s="list"){const a=this.getCacheConfig(s);if(a)try{await this.queryClient.prefetchQuery({queryKey:e,staleTime:a.staleTime,gcTime:a.gcTime})}catch(t){}}async backgroundSync(e){try{await this.queryClient.refetchQueries({queryKey:e})}catch(s){}}optimizeCache(){const e=this.queryClient.getQueryCache().getAll(),s=Date.now();e.forEach(e=>{const a=e.state.dataUpdatedAt;s-a>36e5&&this.queryClient.removeQueries({queryKey:e.queryKey})})}getMemoryUsage(){const e=this.queryClient.getQueryCache().getAll();let s=0;return e.forEach(e=>{e.state.data&&(s+=JSON.stringify(e.state.data).length)}),{queryCount:e.length,totalSize:s,averageSize:e.length>0?s/e.length:0}}}function Bs({isOpen:s,onClose:a}){const t=function(e){return new Rs(e)}(ls),[i,l]=c.useState(null),[n,r]=c.useState(null),[o,d]=c.useState(!1);c.useEffect(()=>{if(s&&(m(),o)){const e=setInterval(m,5e3);return()=>clearInterval(e)}},[s,o]);const m=()=>{l(t.getCachePerformanceReport()),r(t.getMemoryUsage())},h=e=>{if(0===e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB"][s]};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(Je,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cache Performans Monitörü"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cache performansı ve bellek kullanımı"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>d(!o),className:o?"bg-blue-50 border-blue-200":"",children:[e.jsx(D,{className:"w-4 h-4 mr-1 "+(o?"animate-spin":"")}),o?"Otomatik":"Manuel"]}),e.jsxs(Ve,{variant:"outline",size:"sm",onClick:m,children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),"Yenile"]}),e.jsx(Ve,{variant:"ghost",size:"sm",onClick:a,children:"✕"})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[n&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bellek Kullanımı"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Je,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Query"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.queryCount})]}),e.jsx(A,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx(Je,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Boyut"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(n.totalSize)})]}),e.jsx(f,{className:"w-8 h-8 text-green-500"})]})}),e.jsx(Je,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ortalama Boyut"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(n.averageSize)})]}),e.jsx(g,{className:"w-8 h-8 text-purple-500"})]})})]})]}),i&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cache Performansı"}),e.jsx("div",{className:"space-y-4",children:Object.entries(i).map(([s,a])=>e.jsxs(Je,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:s}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.hits+a.misses," toplam istek"]})]}),e.jsxs(zs,{variant:parseFloat(a.hitRate)>80?"default":parseFloat(a.hitRate)>60?"secondary":"destructive",children:[a.hitRate," Hit Rate"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Hits"}),e.jsx("p",{className:"font-semibold text-green-600",children:a.hits})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Misses"}),e.jsx("p",{className:"font-semibold text-red-600",children:a.misses})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Size"}),e.jsx("p",{className:"font-semibold text-blue-600",children:a.size})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"Hit Rate"}),e.jsx("span",{children:a.hitRate})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(parseFloat(a.hitRate)>80?"bg-green-500":parseFloat(a.hitRate)>60?"bg-yellow-500":"bg-red-500"),style:{width:a.hitRate}})})]})]},s))})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Cache Yönetimi"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cache performansını optimize edin"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Ve,{variant:"outline",onClick:()=>{t.optimizeCache(),m()},className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[e.jsx(g,{className:"w-4 h-4 mr-1"}),"Optimize Et"]}),e.jsxs(Ve,{variant:"outline",onClick:()=>{window.confirm("Tüm cache'i temizlemek istediğinizden emin misiniz?")&&(t.clearCache(),m())},className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:[e.jsx(j,{className:"w-4 h-4 mr-1"}),"Cache Temizle"]})]})]})]})]})}):null}const Os=le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fs=c.forwardRef(({className:a,...t},i)=>e.jsx(s,{ref:i,className:He(Os(),a),...t}));Fs.displayName=s.displayName;const Ks=c.forwardRef(({className:s,...i},l)=>e.jsx(a,{ref:l,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...i,children:e.jsx(t,{className:He("flex items-center justify-center text-current"),children:e.jsx(h,{className:"h-4 w-4"})})}));Ks.displayName=a.displayName;const Gs=new class{defaultConfig={orientation:"portrait",pageSize:"A4",fontSize:12,includeHeader:!0,includeFooter:!0,includeSummary:!0,includeFilters:!0};async generatePDF(e,s={}){const a={...this.defaultConfig,...s},t=new Z({orientation:a.orientation,unit:"mm",format:a.pageSize});let i=20;if(a.includeHeader&&(t.setFontSize(18),t.setFont("helvetica","bold"),t.text(e.title,20,i),i+=10,e.subtitle&&(t.setFontSize(14),t.setFont("helvetica","normal"),t.text(e.subtitle,20,i),i+=10)),a.includeFilters&&e.filters&&(i+=5,t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Filtreler:",20,i),i+=5,t.setFont("helvetica","normal"),Object.entries(e.filters).forEach(([e,s])=>{s&&(t.text(`${e}: ${s}`,25,i),i+=5)}),i+=5),X(t,{head:[e.headers],body:e.data,startY:i,styles:{fontSize:a.fontSize,cellPadding:3},headStyles:{fillColor:[66,139,202],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),a.includeSummary&&e.summary){const s=t.lastAutoTable.finalY+10;t.setFontSize(12),t.setFont("helvetica","bold"),t.text("Özet:",20,s),t.setFont("helvetica","normal");let a=s+5;Object.entries(e.summary).forEach(([e,s])=>{void 0!==s&&(t.text(`${e}: ${s}`,25,a),a+=5)})}if(a.includeFooter){const e=t.getNumberOfPages();for(let s=1;s<=e;s++)t.setPage(s),t.setFontSize(8),t.setFont("helvetica","normal"),t.text(`Sayfa ${s} / ${e} - Oluşturulma: ${(new Date).toLocaleString("tr-TR")}`,20,t.internal.pageSize.height-10)}return t.output("blob")}async generateExcel(e){const s=ee.book_new(),a=ee.aoa_to_sheet([[e.title],e.subtitle?[e.subtitle]:[],[],e.headers,...e.data]);a.A1={v:e.title,t:"s"},a.A1.s={font:{bold:!0,size:16},alignment:{horizontal:"center"}},e.subtitle&&(a.A2={v:e.subtitle,t:"s"},a.A2.s={font:{italic:!0,size:12},alignment:{horizontal:"center"}});const t=3+(e.subtitle?1:0);e.headers.forEach((e,s)=>{const i=ee.encode_cell({r:t,c:s});a[i]={v:e,t:"s"},a[i].s={font:{bold:!0},fill:{fgColor:{rgb:"4285CA"}},alignment:{horizontal:"center"}}});const i=e.headers.map(e=>Math.max(1.2*e.length,10));if(a["!cols"]=i.map(e=>({width:e})),ee.book_append_sheet(s,a,"Rapor"),e.summary){const a=Object.entries(e.summary).map(([e,s])=>[e,s]),t=ee.aoa_to_sheet([["Özet"],[],["Metrik","Değer"],...a]);t.A1.s={font:{bold:!0,size:14}},t.A3.s={font:{bold:!0}},t.B3.s={font:{bold:!0}},ee.book_append_sheet(s,t,"Özet")}if(e.filters){const a=Object.entries(e.filters).map(([e,s])=>[e,s]),t=ee.aoa_to_sheet([["Filtreler"],[],["Filtre","Değer"],...a]);t.A1.s={font:{bold:!0,size:14}},t.A3.s={font:{bold:!0}},t.B3.s={font:{bold:!0}},ee.book_append_sheet(s,t,"Filtreler")}const l=se(s,{bookType:"xlsx",type:"array"});return new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}async downloadPDF(e,s,a){const t=await this.generatePDF(e,a);ae.saveAs(t,`${s}.pdf`)}async downloadExcel(e,s){const a=await this.generateExcel(e);ae.saveAs(a,`${s}.xlsx`)}generateSampleData(){return{title:"Yardım Raporu",subtitle:"Ocak 2024 - Aralık 2024",headers:["ID","Ad Soyad","Kategori","Tutar","Tarih","Durum"],data:[["001","Ahmet Yılmaz","Nakit","1000 TL","2024-01-15","Tamamlandı"],["002","Fatma Demir","Ayni","500 TL","2024-01-20","Beklemede"],["003","Mehmet Kaya","Nakit","750 TL","2024-01-25","Tamamlandı"],["004","Ayşe Özkan","Ayni","300 TL","2024-02-01","İptal"],["005","Ali Çelik","Nakit","1200 TL","2024-02-05","Tamamlandı"]],summary:{total:3750,count:5,average:750},filters:{dateRange:"01.01.2024 - 31.12.2024",category:"Tümü",status:"Tümü"}}}},Es=({data:s})=>{const{t:a}=Le(),[t,i]=c.useState(s||Gs.generateSampleData()),[l,n]=c.useState({orientation:"portrait",pageSize:"A4",fontSize:12,includeHeader:!0,includeFooter:!0,includeSummary:!0,includeFilters:!0}),[r,o]=c.useState(!1),[d,m]=c.useState(!1),h=(e,s)=>{n(a=>({...a,[e]:s}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Je,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:a("reports.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Fs,{htmlFor:"title",children:a("reports.reportTitle")}),e.jsx(ms,{id:"title",value:t.title,onChange:e=>i(s=>({...s,title:e.target.value})),placeholder:a("reports.enterTitle")})]}),e.jsxs("div",{children:[e.jsx(Fs,{htmlFor:"subtitle",children:a("reports.subtitle")}),e.jsx(ms,{id:"subtitle",value:t.subtitle||"",onChange:e=>i(s=>({...s,subtitle:e.target.value})),placeholder:a("reports.enterSubtitle")})]})]})]})}),e.jsx(Je,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:a("reports.settings")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(Fs,{children:a("reports.orientation")}),e.jsxs(Ie,{value:l.orientation,onValueChange:e=>h("orientation",e),children:[e.jsx($e,{children:e.jsx(We,{})}),e.jsxs(Qe,{children:[e.jsx(Ue,{value:"portrait",children:a("reports.portrait")}),e.jsx(Ue,{value:"landscape",children:a("reports.landscape")})]})]})]}),e.jsxs("div",{children:[e.jsx(Fs,{children:a("reports.pageSize")}),e.jsxs(Ie,{value:l.pageSize,onValueChange:e=>h("pageSize",e),children:[e.jsx($e,{children:e.jsx(We,{})}),e.jsxs(Qe,{children:[e.jsx(Ue,{value:"A4",children:"A4"}),e.jsx(Ue,{value:"A3",children:"A3"}),e.jsx(Ue,{value:"letter",children:a("reports.letter")})]})]})]}),e.jsxs("div",{children:[e.jsx(Fs,{children:a("reports.fontSize")}),e.jsxs(Ie,{value:l.fontSize?.toString(),onValueChange:e=>h("fontSize",parseInt(e)),children:[e.jsx($e,{children:e.jsx(We,{})}),e.jsxs(Qe,{children:[e.jsx(Ue,{value:"10",children:"10"}),e.jsx(Ue,{value:"12",children:"12"}),e.jsx(Ue,{value:"14",children:"14"}),e.jsx(Ue,{value:"16",children:"16"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{id:"includeHeader",checked:l.includeHeader,onCheckedChange:e=>h("includeHeader",e)}),e.jsx(Fs,{htmlFor:"includeHeader",children:a("reports.includeHeader")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{id:"includeFooter",checked:l.includeFooter,onCheckedChange:e=>h("includeFooter",e)}),e.jsx(Fs,{htmlFor:"includeFooter",children:a("reports.includeFooter")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{id:"includeSummary",checked:l.includeSummary,onCheckedChange:e=>h("includeSummary",e)}),e.jsx(Fs,{htmlFor:"includeSummary",children:a("reports.includeSummary")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{id:"includeFilters",checked:l.includeFilters,onCheckedChange:e=>h("includeFilters",e)}),e.jsx(Fs,{htmlFor:"includeFilters",children:a("reports.includeFilters")})]})]})]})}),d&&e.jsx(Je,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:a("reports.preview")})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-lg",children:t.title}),t.subtitle&&e.jsx("p",{className:"text-gray-600",children:t.subtitle}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-blue-600 text-white",children:t.headers.map((s,a)=>e.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left",children:s},a))})}),e.jsx("tbody",{children:t.data.slice(0,3).map((s,a)=>e.jsx("tr",{className:a%2==0?"bg-white":"bg-gray-50",children:s.map((s,a)=>e.jsx("td",{className:"border border-gray-300 px-3 py-2",children:s},a))},a))})]}),t.data.length>3&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["... ve ",t.data.length-3," satır daha"]})]})]})]})}),e.jsx(Je,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(Ve,{onClick:()=>{m(!d)},variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:a(d?"reports.hidePreview":"reports.showPreview")})]}),e.jsxs(Ve,{onClick:async()=>{o(!0);try{await Gs.downloadPDF(t,`rapor_${Date.now()}`,l)}catch(e){}finally{o(!1)}},disabled:r,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:a("reports.generatePDF")})]}),e.jsxs(Ve,{onClick:async()=>{o(!0);try{await Gs.downloadExcel(t,`rapor_${Date.now()}`)}catch(e){}finally{o(!1)}},disabled:r,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:a("reports.generateExcel")})]}),r&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:a("reports.generating")})]})]})})]})},Ps=["#0F3A7A","#1D8348","#B7950B","#C0392B","#7D3C98","#1ABC9C","#E67E22","#E74C3C"],Ls=Ps,_s=({data:s,title:a,dataKey:t,stroke:i=Ps[0],height:l=300,showGrid:n=!0,showLegend:r=!0})=>e.jsxs(Je,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a}),e.jsx(re,{width:"100%",height:l,children:e.jsxs(Ne,{data:s,children:[n&&e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(de,{dataKey:"name"}),e.jsx(me,{}),e.jsx(he,{}),r&&e.jsx(ue,{}),e.jsx(pe,{type:"monotone",dataKey:t,stroke:i,strokeWidth:2,dot:{fill:i,strokeWidth:2,r:4},activeDot:{r:6}})]})})]}),Hs=({data:s,title:a,dataKey:t,fill:i=Ps[0],stroke:l=Ps[0],height:n=300,showGrid:r=!0,showLegend:c=!0})=>e.jsxs(Je,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a}),e.jsx(re,{width:"100%",height:n,children:e.jsxs(ye,{data:s,children:[r&&e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(de,{dataKey:"name"}),e.jsx(me,{}),e.jsx(he,{}),c&&e.jsx(ue,{}),e.jsx(ve,{type:"monotone",dataKey:t,stroke:l,fill:i,fillOpacity:.6})]})})]}),Ys=({data:s,title:a,dataKey:t,fill:i=Ps[0],height:l=300,showGrid:n=!0,showLegend:r=!0})=>e.jsxs(Je,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a}),e.jsx(re,{width:"100%",height:l,children:e.jsxs(be,{data:s,children:[n&&e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(de,{dataKey:"name"}),e.jsx(me,{}),e.jsx(he,{}),r&&e.jsx(ue,{}),e.jsx(xe,{dataKey:t,fill:i,radius:[4,4,0,0]})]})})]}),qs=({data:s,title:a,height:t=300,showLegend:i=!0})=>e.jsxs(Je,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a}),e.jsx(re,{width:"100%",height:t,children:e.jsxs(ge,{children:[e.jsx(fe,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,outerRadius:80,fill:Ps[0],dataKey:"value",children:s.map((s,a)=>e.jsx(je,{fill:Ls[a%Ls.length]},`cell-${a}`))}),e.jsx(he,{}),i&&e.jsx(ue,{})]})})]}),Is=({data:s,title:a,lineDataKey:t,barDataKey:i,height:l=300,showGrid:n=!0,showLegend:r=!0})=>e.jsxs(Je,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a}),e.jsx(re,{width:"100%",height:l,children:e.jsxs(ce,{data:s,children:[n&&e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(de,{dataKey:"name"}),e.jsx(me,{}),e.jsx(he,{}),r&&e.jsx(ue,{}),e.jsx(xe,{dataKey:i,fill:Ps[0],radius:[4,4,0,0]}),e.jsx(pe,{type:"monotone",dataKey:t,stroke:Ps[3],strokeWidth:2})]})})]}),$s=()=>{const[s,a]=c.useState(["line","bar","pie"]),[t,i]=c.useState("30d"),[l,n]=c.useState(!1),r={line:{type:"line",title:"Bağış Trendi",dataKey:"value",timeRange:t,showGrid:!0,showLegend:!0},area:{type:"area",title:"Yardım Alanlar Trendi",dataKey:"beneficiaries",timeRange:t,showGrid:!0,showLegend:!0},bar:{type:"bar",title:"Aylık Bağışlar",dataKey:"donations",timeRange:t,showGrid:!0,showLegend:!0},pie:{type:"pie",title:"Bağış Dağılımı",dataKey:"value",timeRange:t,showGrid:!1,showLegend:!0},composed:{type:"composed",title:"Bağış vs Yardım Alanlar",dataKey:"value",timeRange:t,showGrid:!0,showLegend:!0}},o=s=>{const a=r[s],t="pie"===s?[{name:"Nakit Bağış",value:400},{name:"Ayni Bağış",value:300},{name:"Banka Bağışı",value:300},{name:"Diğer",value:200}]:[{name:"Ocak",value:4e3,donations:2400,beneficiaries:1800},{name:"Şubat",value:3e3,donations:1398,beneficiaries:2210},{name:"Mart",value:2e3,donations:9800,beneficiaries:2290},{name:"Nisan",value:2780,donations:3908,beneficiaries:2e3},{name:"Mayıs",value:1890,donations:4800,beneficiaries:2181},{name:"Haziran",value:2390,donations:3800,beneficiaries:2500},{name:"Temmuz",value:3490,donations:4300,beneficiaries:2100}];switch(s){case"line":return e.jsx(_s,{data:t,title:a.title,dataKey:a.dataKey,showGrid:a.showGrid,showLegend:a.showLegend});case"area":return e.jsx(Hs,{data:t,title:a.title,dataKey:a.dataKey,showGrid:a.showGrid,showLegend:a.showLegend});case"bar":return e.jsx(Ys,{data:t,title:a.title,dataKey:a.dataKey,showGrid:a.showGrid,showLegend:a.showLegend});case"pie":return e.jsx(qs,{data:t,title:a.title,showLegend:a.showLegend});case"composed":return e.jsx(Is,{data:t,title:a.title,lineDataKey:"value",barDataKey:"donations",showGrid:a.showGrid,showLegend:a.showLegend});default:return null}},d=[{value:"line",label:"Çizgi Grafik",icon:e.jsx(g,{className:"w-4 h-4"})},{value:"area",label:"Alan Grafik",icon:e.jsx(M,{className:"w-4 h-4"})},{value:"bar",label:"Sütun Grafik",icon:e.jsx(f,{className:"w-4 h-4"})},{value:"pie",label:"Pasta Grafik",icon:e.jsx(K,{className:"w-4 h-4"})},{value:"composed",label:"Karma Grafik",icon:e.jsx(f,{className:"w-4 h-4"})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Je,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Grafik Dashboard"}),e.jsxs(Ie,{value:t,onValueChange:e=>i(e),children:[e.jsx($e,{className:"w-32",children:e.jsx(We,{})}),e.jsxs(Qe,{children:[e.jsx(Ue,{value:"7d",children:"Son 7 Gün"}),e.jsx(Ue,{value:"30d",children:"Son 30 Gün"}),e.jsx(Ue,{value:"90d",children:"Son 90 Gün"}),e.jsx(Ue,{value:"1y",children:"Son 1 Yıl"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(Ve,{variant:"outline",size:"sm",onClick:async()=>{n(!0),await new Promise(e=>setTimeout(e,1e3)),n(!1)},disabled:l,children:[e.jsx(D,{className:"w-4 h-4 mr-1 "+(l?"animate-spin":"")}),"Yenile"]}),e.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>{},children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Grafik Türleri"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(t=>e.jsxs(Ve,{variant:s.includes(t.value)?"default":"outline",size:"sm",onClick:()=>{s.includes(t.value)?a(s.filter(e=>e!==t.value)):a([...s,t.value])},className:"flex items-center space-x-1",children:[t.icon,e.jsx("span",{children:t.label})]},t.value))})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(s=>e.jsx("div",{children:o(s)},s))}),0===s.length&&e.jsxs(Je,{className:"p-12 text-center",children:[e.jsx(f,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Grafik Seçilmedi"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Görüntülemek istediğiniz grafik türlerini seçin"}),e.jsxs(Ve,{onClick:()=>a(["line","bar"]),className:"flex items-center space-x-1",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Varsayılan Grafikleri Göster"})]})]})]})},Ws=c.forwardRef(({className:s,...a},t)=>e.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a}));Ws.displayName="Textarea";const Qs=i,Us=c.forwardRef(({className:s,...a},t)=>e.jsx(l,{ref:t,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a}));Us.displayName=l.displayName;const Vs=c.forwardRef(({className:s,...a},t)=>e.jsx(n,{ref:t,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a}));Vs.displayName=n.displayName;const Js=c.forwardRef(({className:s,...a},t)=>e.jsx(r,{ref:t,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a}));Js.displayName=r.displayName;const Zs=new class{isReady=!1;messageTemplates=[];scheduledMessages=[];messageHistory=[];constructor(){this.loadTemplates(),this.loadMockData()}loadMockData(){this.messageTemplates=[{id:"template_1",name:"Hoş Geldiniz",content:"Merhaba {{name}}, derneğimize hoş geldiniz!",variables:["name"],category:"notification",isActive:!0},{id:"template_2",name:"Bağış Hatırlatması",content:"Sayın {{name}}, {{amount}} TL bağışınız için teşekkürler.",variables:["name","amount"],category:"reminder",isActive:!0},{id:"template_3",name:"Etkinlik Duyurusu",content:"{{eventName}} etkinliğimiz {{date}} tarihinde gerçekleşecektir.",variables:["eventName","date"],category:"marketing",isActive:!0}],this.messageHistory=[{id:"msg_1",from:"905551234567",to:"905559876543",body:"Merhaba, yardım hakkında bilgi alabilir miyim?",timestamp:new Date(Date.now()-36e5),type:"text",status:"delivered"},{id:"msg_2",from:"905559876543",to:"905551234567",body:"Tabii, size nasıl yardımcı olabilirim?",timestamp:new Date(Date.now()-18e5),type:"text",status:"read"}],this.scheduledMessages=[{id:"scheduled_1",to:"905551234567",templateId:"template_2",variables:{name:"Ahmet Yılmaz",amount:"1000"},scheduledAt:new Date(Date.now()+864e5),status:"pending"}]}getConnectionStatus(){return{isReady:this.isReady,isConnected:this.isReady}}async initialize(){return new Promise(e=>{setTimeout(()=>{this.isReady=!0,e(!0)},2e3)})}async destroy(){this.isReady=!1}async sendMessage(e,s,a){if(!this.isReady)return!1;await new Promise(e=>setTimeout(e,1e3));const t={id:`msg_${Date.now()}`,from:"905559876543",to:e,body:s,timestamp:new Date,type:a?"media":"text",status:"sent",mediaUrl:a};return this.messageHistory.push(t),!0}async sendBulkMessage(e,s,a=1e3){let t=0,i=0;for(const n of e)try{await this.sendMessage(n,s)?t++:i++,await new Promise(e=>setTimeout(e,a))}catch(l){i++}return{success:t,failed:i}}async sendTemplateMessage(e,s,a){const t=this.messageTemplates.find(e=>e.id===s&&e.isActive);if(!t)return!1;let i=t.content;for(const[l,n]of Object.entries(a))i=i.replace(new RegExp(`{{${l}}}`,"g"),n);return await this.sendMessage(e,i)}addTemplate(e){const s=`template_${Date.now()}`,a={...e,id:s};return this.messageTemplates.push(a),this.saveTemplates(),s}updateTemplate(e,s){const a=this.messageTemplates.findIndex(s=>s.id===e);return-1!==a&&(this.messageTemplates[a]={...this.messageTemplates[a],...s},this.saveTemplates(),!0)}deleteTemplate(e){const s=this.messageTemplates.findIndex(s=>s.id===e);return-1!==s&&(this.messageTemplates.splice(s,1),this.saveTemplates(),!0)}getTemplates(){return[...this.messageTemplates]}scheduleMessage(e){const s=`scheduled_${Date.now()}`,a={...e,id:s,status:"pending"};return this.scheduledMessages.push(a),s}cancelScheduledMessage(e){const s=this.scheduledMessages.findIndex(s=>s.id===e);return-1!==s&&(this.scheduledMessages[s].status="cancelled",!0)}getScheduledMessages(){return[...this.scheduledMessages]}getMessageHistory(e=100){return this.messageHistory.slice(-e)}getMessageHistoryByPhone(e,s=50){return this.messageHistory.filter(s=>s.from===e||s.to===e).slice(-s)}getStatistics(){const e=new Date,s=new Date(e.getTime()-864e5),a=new Date(e.getTime()-6048e5),t=this.messageHistory.filter(e=>e.timestamp>s),i=this.messageHistory.filter(e=>e.timestamp>a);return{totalMessages:this.messageHistory.length,messages24h:t.length,messages7d:i.length,sentMessages:this.messageHistory.filter(e=>"sent"===e.status).length,deliveredMessages:this.messageHistory.filter(e=>"delivered"===e.status).length,failedMessages:this.messageHistory.filter(e=>"failed"===e.status).length,pendingScheduled:this.scheduledMessages.filter(e=>"pending"===e.status).length}}saveTemplates(){try{localStorage.setItem("whatsapp_templates",JSON.stringify(this.messageTemplates))}catch(e){}}loadTemplates(){try{const e=localStorage.getItem("whatsapp_templates");e&&(this.messageTemplates=JSON.parse(e))}catch(e){}}},Xs=()=>{const[s,a]=c.useState("connection"),[t,i]=c.useState({isReady:!1,isConnected:!1}),[l,n]=c.useState(""),[r,o]=c.useState(""),[d,m]=c.useState(!1),[h,u]=c.useState([]),[x,p]=c.useState([]),[g,f]=c.useState([]),[j,b]=c.useState({totalMessages:0,messages24h:0,messages7d:0,sentMessages:0,deliveredMessages:0,failedMessages:0,pendingScheduled:0});c.useEffect(()=>{y();const e=setInterval(y,5e3);return()=>clearInterval(e)},[]);const y=()=>{i(Zs.getConnectionStatus()),u(Zs.getTemplates()),p(Zs.getScheduledMessages()),f(Zs.getMessageHistory()),b(Zs.getStatistics())},v=e=>e.replace("@c.us","").replace("@s.whatsapp.net",""),N=e=>new Date(e).toLocaleString("tr-TR");return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Je,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full "+(t.isConnected?"bg-green-500":"bg-red-500")}),e.jsx("h2",{className:"text-xl font-semibold",children:"WhatsApp Bağlantısı"}),e.jsx(zs,{variant:t.isReady?"default":"secondary",children:t.isReady?"Bağlı":"Bağlantı Yok"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Ve,{variant:"outline",size:"sm",onClick:async()=>{try{await Zs.initialize(),y()}catch(e){}},disabled:t.isConnected,children:[e.jsx(G,{className:"w-4 h-4 mr-1"}),"Bağlan"]}),e.jsxs(Ve,{variant:"outline",size:"sm",onClick:async()=>{try{await Zs.destroy(),y()}catch(e){}},disabled:!t.isConnected,children:[e.jsx(E,{className:"w-4 h-4 mr-1"}),"Bağlantıyı Kes"]}),e.jsxs(Ve,{variant:"outline",size:"sm",onClick:y,children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),"Yenile"]})]})]})}),e.jsxs(Qs,{value:s,onValueChange:a,children:[e.jsxs(Us,{className:"grid w-full grid-cols-6",children:[e.jsx(Vs,{value:"connection",children:"Bağlantı"}),e.jsx(Vs,{value:"send",children:"Mesaj Gönder"}),e.jsx(Vs,{value:"templates",children:"Şablonlar"}),e.jsx(Vs,{value:"scheduled",children:"Zamanlanmış"}),e.jsx(Vs,{value:"history",children:"Geçmiş"}),e.jsx(Vs,{value:"stats",children:"İstatistikler"})]}),e.jsx(Js,{value:"connection",className:"space-y-4",children:e.jsxs(Je,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"QR Kod Tarama"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(P,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"QR kod bekleniyor..."})]})]})}),e.jsx(Js,{value:"send",className:"space-y-4",children:e.jsxs(Je,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mesaj Gönder"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alıcı Numarası"}),e.jsx(ms,{placeholder:"905xxxxxxxxx",value:l,onChange:e=>n(e.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mesaj"}),e.jsx(Ws,{placeholder:"Mesajınızı yazın...",value:r,onChange:e=>o(e.target.value),rows:4})]}),e.jsxs(Ve,{onClick:async()=>{if(l&&r){m(!0);try{await Zs.sendMessage(l,r)&&(o(""),y())}catch(e){}finally{m(!1)}}},disabled:d||!l||!r,className:"w-full",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),d?"Gönderiliyor...":"Gönder"]})]})]})}),e.jsx(Js,{value:"templates",className:"space-y-4",children:e.jsxs(Je,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Mesaj Şablonları"}),e.jsxs(Ve,{size:"sm",children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Yeni Şablon"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(s=>e.jsxs(Je,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsx(zs,{variant:s.isActive?"default":"secondary",children:s.isActive?"Aktif":"Pasif"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(zs,{variant:"outline",children:s.category}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(Ve,{size:"sm",variant:"ghost",children:e.jsx(H,{className:"w-4 h-4"})}),e.jsx(Ve,{size:"sm",variant:"ghost",children:e.jsx(Y,{className:"w-4 h-4"})})]})]})]},s.id))})]})}),e.jsx(Js,{value:"scheduled",className:"space-y-4",children:e.jsxs(Je,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Zamanlanmış Mesajlar"}),e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsx(Je,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v(s.to)}),e.jsx("p",{className:"text-sm text-gray-600",children:N(s.scheduledAt)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{variant:"pending"===s.status?"default":"sent"===s.status?"secondary":"destructive",children:s.status}),"pending"===s.status&&e.jsx(Ve,{size:"sm",variant:"ghost",onClick:()=>{return e=s.id,Zs.cancelScheduledMessage(e),void y();var e},children:e.jsx(Y,{className:"w-4 h-4"})})]})]})},s.id))})]})}),e.jsx(Js,{value:"history",className:"space-y-4",children:e.jsxs(Je,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mesaj Geçmişi"}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:g.map(s=>e.jsx(Je,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v(s.from)}),e.jsx("p",{className:"text-sm text-gray-600",children:s.body}),e.jsx("p",{className:"text-xs text-gray-500",children:N(s.timestamp)})]}),e.jsx(zs,{variant:"sent"===s.status?"default":"delivered"===s.status?"secondary":"destructive",children:s.status})]})},s.id))})]})}),e.jsx(Js,{value:"stats",className:"space-y-4",children:e.jsxs(Je,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"İstatistikler"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.totalMessages}),e.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Mesaj"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.messages24h}),e.jsx("div",{className:"text-sm text-gray-600",children:"Son 24 Saat"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j.sentMessages}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gönderilen"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.failedMessages}),e.jsx("div",{className:"text-sm text-gray-600",children:"Başarısız"})]})]})]})})]})]})};function ea({center:e}){const s=Ae();return c.useEffect(()=>{s.setView(e)},[e,s]),null}delete De.Icon.Default.prototype._getIconUrl,De.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const sa=({center:s,zoom:a,locations:t=[],routes:i=[],areas:l=[],onLocationClick:n,onMarkerDrag:r,showRoutes:o=!0,showAreas:d=!0,height:m="500px"})=>{const h=c.useRef(null);return e.jsx("div",{style:{height:m,width:"100%",position:"relative"},children:e.jsxs(we,{ref:h,center:s,zoom:a,style:{height:"100%",width:"100%"},zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,touchZoom:!0,children:[e.jsx(ea,{center:s}),e.jsx(ke,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(s=>{return e.jsx(Se,{position:[s.lat,s.lng],icon:(a=s.type,De.divIcon({className:"custom-marker",html:`\n      <div style="\n        width: 20px;\n        height: 20px;\n        background-color: ${{help_center:"#3B82F6",distribution_center:"#10B981",user_location:"#F59E0B",event_location:"#EF4444"}[a]};\n        border: 2px solid white;\n        border-radius: 50%;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-size: 10px;\n        font-weight: bold;\n      ">\n        ${"help_center"===a?"H":"distribution_center"===a?"D":"user_location"===a?"U":"E"}\n      </div>\n    `,iconSize:[20,20],iconAnchor:[10,10]})),draggable:"user_location"===s.type,eventHandlers:{click:()=>(e=>{n&&n(e)})(s),dragend:e=>((e,s)=>{if(r){const a=[s.target.getLatLng().lat,s.target.getLatLng().lng];r(e,a)}})(s,e)},children:e.jsx(ze,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),s.address&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"Adres:"})," ",s.address]}),s.phone&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"Telefon:"})," ",s.phone]}),s.email&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"E-posta:"})," ",s.email]}),s.capacity&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"Kapasite:"})," ",s.currentOccupancy||0,"/",s.capacity]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full "+("active"===s.status?"bg-green-100 text-green-800":"inactive"===s.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"active"===s.status?"Aktif":"inactive"===s.status?"Pasif":"Geçici"})})]})})},s.id);var a}),o&&i.map(s=>e.jsx(Te,{positions:s.points,color:s.color,weight:3,opacity:.8,children:e.jsx(ze,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),s.distance&&e.jsxs("p",{className:"text-sm",children:["Mesafe: ",s.distance," km"]}),s.duration&&e.jsxs("p",{className:"text-sm",children:["Süre: ",s.duration," dk"]})]})})},s.id)),d&&l.map(s=>e.jsx(Ce,{center:s.center,radius:s.radius,pathOptions:{color:s.color,fillColor:s.color,fillOpacity:.2},children:e.jsx(ze,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm",children:s.description}),e.jsxs("p",{className:"text-sm",children:["Yarıçap: ",s.radius," m"]})]})})},s.id))]})})},aa=()=>{const[s,a]=c.useState("map"),[t]=c.useState([41.0082,28.9784]),[i]=c.useState(12),[l]=c.useState(!1),[n]=c.useState(!0),[r]=c.useState(!0),[o,d]=c.useState(null),[m,h]=c.useState(""),[u,x]=c.useState("all"),[g,f]=c.useState([{id:"1",name:"Merkez Yardım Noktası",lat:41.0082,lng:28.9784,type:"help_center",description:"Ana yardım dağıtım merkezi",address:"Sultanahmet, İstanbul",phone:"0212 555 0123",email:"merkez@dernek.org",status:"active",capacity:1e3,currentOccupancy:750},{id:"2",name:"Kadıköy Dağıtım Merkezi",lat:40.9909,lng:29.0303,type:"distribution_center",description:"Doğu yakası dağıtım merkezi",address:"Kadıköy, İstanbul",phone:"0216 555 0456",email:"kadikoy@dernek.org",status:"active",capacity:500,currentOccupancy:300},{id:"3",name:"Ahmet Yılmaz",lat:41.0151,lng:28.9795,type:"user_location",description:"Yardım alan kişi",phone:"0532 555 0789",status:"active"},{id:"4",name:"Yılbaşı Etkinliği",lat:41.0082,lng:28.9784,type:"event_location",description:"Yılbaşı yardım etkinliği",address:"Taksim Meydanı, İstanbul",status:"temporary"}]),[j]=c.useState([{id:"route_1",name:"Merkez - Kadıköy Rota",points:[[41.0082,28.9784],[40.9909,29.0303]],color:"#3B82F6",distance:12.5,duration:25},{id:"route_2",name:"Dağıtım Rota 1",points:[[41.0082,28.9784],[41.0151,28.9795],[41.02,28.985]],color:"#10B981",distance:8.2,duration:15}]),[b]=c.useState([{id:"area_1",name:"Merkez Hizmet Alanı",center:[41.0082,28.9784],radius:5e3,color:"#3B82F6",description:"5km yarıçapında hizmet alanı"},{id:"area_2",name:"Kadıköy Hizmet Alanı",center:[40.9909,29.0303],radius:3e3,color:"#10B981",description:"3km yarıçapında hizmet alanı"}]),[y,v]=c.useState({name:"",lat:0,lng:0,type:"help_center",description:"",address:"",phone:"",email:"",status:"active",capacity:0}),N=g.filter(e=>{const s=e.name.toLowerCase().includes(m.toLowerCase())||e.description?.toLowerCase().includes(m.toLowerCase()),a="all"===u||e.type===u;return s&&a}),w=e=>{d(e),a("details")},k=s=>{switch(s){case"help_center":return e.jsx(Q,{className:"w-4 h-4"});case"distribution_center":return e.jsx(W,{className:"w-4 h-4"});case"user_location":return e.jsx(p,{className:"w-4 h-4"});case"event_location":return e.jsx($,{className:"w-4 h-4"});default:return e.jsx(q,{className:"w-4 h-4"})}},S=e=>{switch(e){case"help_center":return"bg-blue-100 text-blue-800";case"distribution_center":return"bg-green-100 text-green-800";case"user_location":return"bg-yellow-100 text-yellow-800";case"event_location":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Je,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Harita Yönetimi"}),e.jsxs(zs,{variant:"outline",children:[g.length," Lokasyon"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(ms,{placeholder:"Lokasyon ara...",value:m,onChange:e=>h(e.target.value),className:"pl-10 w-64"})]}),e.jsxs(Ie,{value:u,onValueChange:x,children:[e.jsx($e,{className:"w-32",children:e.jsx(We,{})}),e.jsxs(Qe,{children:[e.jsx(Ue,{value:"all",children:"Tümü"}),e.jsx(Ue,{value:"help_center",children:"Yardım Merkezi"}),e.jsx(Ue,{value:"distribution_center",children:"Dağıtım Merkezi"}),e.jsx(Ue,{value:"user_location",children:"Kullanıcı"}),e.jsx(Ue,{value:"event_location",children:"Etkinlik"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Je,{className:"p-4",children:e.jsx("div",{className:"relative",children:e.jsx(sa,{center:t,zoom:i,locations:N,routes:j,areas:b,onLocationClick:w,onMarkerDrag:(e,s)=>{f(a=>a.map(a=>a.id===e.id?{...a,lat:s[0],lng:s[1]}:a))},showHeatmap:l,showRoutes:n,showAreas:r,height:"600px"})})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Je,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Lokasyonlar"}),e.jsxs(Ve,{size:"sm",onClick:()=>a("add"),children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Ekle"]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:N.map(s=>e.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>w(s),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[k(s.type),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-gray-600",children:s.description})]})]}),e.jsx(zs,{className:S(s.type),children:"help_center"===s.type?"Yardım":"distribution_center"===s.type?"Dağıtım":"user_location"===s.type?"Kullanıcı":"Etkinlik"})]})},s.id))})]}),e.jsxs(Je,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"İstatistikler"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Toplam Lokasyon:"}),e.jsx("span",{className:"font-semibold",children:g.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Aktif Lokasyon:"}),e.jsx("span",{className:"font-semibold text-green-600",children:g.filter(e=>"active"===e.status).length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Toplam Rota:"}),e.jsx("span",{className:"font-semibold",children:j.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Hizmet Alanı:"}),e.jsx("span",{className:"font-semibold",children:b.length})]})]})]})]})]}),e.jsxs(Qs,{value:s,onValueChange:a,children:[e.jsxs(Us,{className:"grid w-full grid-cols-3",children:[e.jsx(Vs,{value:"map",children:"Harita"}),e.jsx(Vs,{value:"details",children:"Detaylar"}),e.jsx(Vs,{value:"add",children:"Yeni Ekle"})]}),e.jsx(Js,{value:"details",className:"space-y-4",children:o?e.jsxs(Je,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:o.name}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Ve,{size:"sm",variant:"outline",children:[e.jsx(H,{className:"w-4 h-4 mr-1"}),"Düzenle"]}),e.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>{return e=o.id,f(s=>s.filter(s=>s.id!==e)),void(o?.id===e&&d(null));var e},children:[e.jsx(Y,{className:"w-4 h-4 mr-1"}),"Sil"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Temel Bilgiler"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Tür:"})," ",o.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Açıklama:"})," ",o.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Durum:"}),e.jsx(zs,{className:"ml-2 "+("active"===o.status?"bg-green-100 text-green-800":"inactive"===o.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"active"===o.status?"Aktif":"inactive"===o.status?"Pasif":"Geçici"})]}),o.capacity&&e.jsxs("p",{children:[e.jsx("strong",{children:"Kapasite:"})," ",o.currentOccupancy||0,"/",o.capacity]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"İletişim Bilgileri"}),e.jsxs("div",{className:"space-y-2",children:[o.address&&e.jsxs("p",{children:[e.jsx("strong",{children:"Adres:"})," ",o.address]}),o.phone&&e.jsxs("p",{children:[e.jsx("strong",{children:"Telefon:"})," ",o.phone]}),o.email&&e.jsxs("p",{children:[e.jsx("strong",{children:"E-posta:"})," ",o.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Koordinatlar:"})," ",o.lat.toFixed(6),", ",o.lng.toFixed(6)]})]})]})]})]}):e.jsxs(Je,{className:"p-6 text-center",children:[e.jsx(q,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Detayları görüntülemek için bir lokasyon seçin"})]})}),e.jsx(Js,{value:"add",className:"space-y-4",children:e.jsxs(Je,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Yeni Lokasyon Ekle"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lokasyon Adı"}),e.jsx(ms,{value:y.name,onChange:e=>v(s=>({...s,name:e.target.value})),placeholder:"Lokasyon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tür"}),e.jsxs(Ie,{value:y.type,onValueChange:e=>v(s=>({...s,type:e})),children:[e.jsx($e,{children:e.jsx(We,{})}),e.jsxs(Qe,{children:[e.jsx(Ue,{value:"help_center",children:"Yardım Merkezi"}),e.jsx(Ue,{value:"distribution_center",children:"Dağıtım Merkezi"}),e.jsx(Ue,{value:"user_location",children:"Kullanıcı Lokasyonu"}),e.jsx(Ue,{value:"event_location",children:"Etkinlik Lokasyonu"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enlem"}),e.jsx(ms,{type:"number",step:"any",value:y.lat,onChange:e=>v(s=>({...s,lat:parseFloat(e.target.value)||0})),placeholder:"41.0082"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Boylam"}),e.jsx(ms,{type:"number",step:"any",value:y.lng,onChange:e=>v(s=>({...s,lng:parseFloat(e.target.value)||0})),placeholder:"28.9784"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Açıklama"}),e.jsx(ms,{value:y.description,onChange:e=>v(s=>({...s,description:e.target.value})),placeholder:"Lokasyon açıklaması"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Adres"}),e.jsx(ms,{value:y.address,onChange:e=>v(s=>({...s,address:e.target.value})),placeholder:"Adres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefon"}),e.jsx(ms,{value:y.phone,onChange:e=>v(s=>({...s,phone:e.target.value})),placeholder:"Telefon"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"E-posta"}),e.jsx(ms,{type:"email",value:y.email,onChange:e=>v(s=>({...s,email:e.target.value})),placeholder:"E-posta"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kapasite"}),e.jsx(ms,{type:"number",value:y.capacity,onChange:e=>v(s=>({...s,capacity:parseInt(e.target.value)||0})),placeholder:"Kapasite"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(Ve,{onClick:()=>{if(!y.name||0===y.lat||0===y.lng)return;const e={id:`location_${Date.now()}`,...y,currentOccupancy:0};f(s=>[...s,e]),v({name:"",lat:0,lng:0,type:"help_center",description:"",address:"",phone:"",email:"",status:"active",capacity:0})},disabled:!y.name,children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Lokasyon Ekle"]})})]})})]})]})},ta={widgets:[{id:"total-donations",title:"Toplam Bağışlar",description:"Toplam bağış miktarı ve değişim oranı",icon:null,category:"financial",enabled:!0,position:0,size:"small",color:"bg-blue-500"},{id:"active-beneficiaries",title:"Aktif İhtiyaç Sahipleri",description:"Aktif yardım alan kişi sayısı",icon:null,category:"activity",enabled:!0,position:1,size:"small",color:"bg-green-500"},{id:"monthly-growth",title:"Aylık Büyüme",description:"Aylık büyüme oranı ve trend",icon:null,category:"financial",enabled:!0,position:2,size:"small",color:"bg-purple-500"},{id:"fund-distribution",title:"Fon Dağılımı",description:"Fonların dağılım oranı",icon:null,category:"financial",enabled:!0,position:3,size:"small",color:"bg-orange-500"},{id:"recent-activities",title:"Son Aktiviteler",description:"Son sistem aktiviteleri",icon:null,category:"activity",enabled:!0,position:4,size:"medium",color:"bg-indigo-500"},{id:"pending-tasks",title:"Bekleyen Görevler",description:"Tamamlanmamış görevler",icon:null,category:"management",enabled:!0,position:5,size:"medium",color:"bg-red-500"},{id:"messages",title:"Mesajlar",description:"Son mesajlar ve bildirimler",icon:null,category:"communication",enabled:!0,position:6,size:"medium",color:"bg-teal-500"},{id:"donation-chart",title:"Bağış Grafiği",description:"Bağış trendleri ve analizi",icon:null,category:"financial",enabled:!0,position:7,size:"large",color:"bg-blue-600"},{id:"beneficiary-chart",title:"İhtiyaç Sahibi Analizi",description:"İhtiyaç sahipleri dağılımı",icon:null,category:"activity",enabled:!0,position:8,size:"large",color:"bg-green-600"}],layout:"grid",theme:"auto",showWelcomeMessage:!0,autoRefresh:!1,refreshInterval:5};function ia({title:s,description:a,icon:t,color:i,link:l}){return e.jsx(d,{to:l,className:"group block",children:e.jsxs("div",{className:"rounded-lg border bg-card p-4 transition-all hover:border-primary hover:shadow-md",children:[e.jsx("div",{className:`mb-3 inline-flex h-10 w-10 items-center justify-center rounded-lg ${i} text-white`,children:t}),e.jsx("h3",{className:"font-semibold group-hover:text-primary",children:s}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a})]})})}function la({title:s,subtitle:a,time:t}){return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})]})}function na({title:s,current:a,target:t,unit:i}){const l=Math.round(a/t*100);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[i,a.toLocaleString("tr-TR")," / ",i,t.toLocaleString("tr-TR")]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-muted",children:e.jsx("div",{className:"h-2 rounded-full bg-primary transition-all duration-300",style:{width:`${Math.min(l,100)}%`}})}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["%",l," tamamlandı"]})]})}function ra({title:s,date:a,time:t}){return e.jsxs("div",{className:"flex items-center gap-3 rounded border p-2",children:[e.jsxs("div",{className:"flex h-12 w-12 flex-col items-center justify-center rounded bg-primary/10 text-primary",children:[e.jsx("span",{className:"text-xs font-medium",children:a.split(" ")[0]}),e.jsx("span",{className:"text-xs",children:a.split(" ")[1]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})]})}const ca=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[s,a]=c.useState(!1),[t,i]=c.useState(!1),[l,n]=c.useState(!1),[r,o]=c.useState(!1),[m,h]=c.useState(!1),[u,x]=c.useState(!1),{settings:p,updateWidgets:j}=function(){const{user:e}=U(),[s,a]=c.useState(ta),[t,i]=c.useState(!0);c.useEffect(()=>{if(e){const t=localStorage.getItem(`dashboard_settings_${e.id}`);if(t)try{const e=JSON.parse(t);a({...ta,...e})}catch(s){a(ta)}i(!1)}},[e]);const l=s=>{e&&(a(s),localStorage.setItem(`dashboard_settings_${e.id}`,JSON.stringify(s)))},n=e=>{l({...s,widgets:e})};return{settings:s,isLoading:t,updateWidgets:n,toggleWidget:e=>{const a=s.widgets.map(s=>s.id===e?{...s,enabled:!s.enabled}:s);n(a)},updateWidgetSize:(e,a)=>{const t=s.widgets.map(s=>s.id===e?{...s,size:a}:s);n(t)},reorderWidgets:(e,a)=>{const t=[...s.widgets],[i]=t.splice(e,1);t.splice(a,0,i);const l=t.map((e,s)=>({...e,position:s}));n(l)},updateLayout:e=>{l({...s,layout:e})},updateTheme:e=>{l({...s,theme:e})},toggleWelcomeMessage:()=>{l({...s,showWelcomeMessage:!s.showWelcomeMessage})},toggleAutoRefresh:()=>{l({...s,autoRefresh:!s.autoRefresh})},updateRefreshInterval:e=>{l({...s,refreshInterval:e})},resetToDefaults:()=>{l(ta)},getEnabledWidgets:()=>s.widgets.filter(e=>e.enabled).sort((e,s)=>e.position-s.position),getWidgetsByCategory:e=>s.widgets.filter(s=>s.category===e)}}();return e.jsxs("div",{className:"min-h-screen bg-neutral-50 space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-600 rounded-xl p-6 sm:p-8 text-white shadow-lg relative",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-3 tracking-tight",children:"Hoş Geldiniz!"}),e.jsx("p",{className:"text-base sm:text-lg text-white/90 leading-relaxed",children:"Dernek finansal yönetim panelinize hoş geldiniz. Güncel durumu aşağıdan takip edebilirsiniz."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>i(!0),className:"text-white hover:bg-white/10",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),"Cache"]}),e.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"text-white hover:bg-white/10",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),"Kişiselleştir"]}),e.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"text-white hover:bg-white/10",children:[e.jsx(R,{className:"w-4 h-4 mr-1"}),"Rapor"]}),e.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"text-white hover:bg-white/10",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),"Grafikler"]}),e.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"text-white hover:bg-white/10",children:[e.jsx(T,{className:"w-4 h-4 mr-1"}),"WhatsApp"]}),e.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"text-white hover:bg-white/10",children:[e.jsx(q,{className:"w-4 h-4 mr-1"}),"Harita"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx(ps,{totalDonations:45230,monthlyChange:8.2,trend:[42e3,43500,44200,45230]}),e.jsx(fs,{count:1234,monthlyChange:12}),e.jsx(gs,{growthRate:15.4,period:"Son 30 gün"}),e.jsx(js,{distributionRate:87,target:85})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ia,{title:"Yeni Başvuru",description:"İhtiyaç sahibi başvurusu oluştur",icon:e.jsx(R,{className:"h-6 w-6"}),color:"bg-brand-primary",link:"/aid/applications"}),e.jsx(ia,{title:"Bağış Kabul",description:"Yeni bağış kaydı oluştur",icon:e.jsx(V,{className:"h-6 w-6"}),color:"bg-financial-success",link:"/donations/cash"}),e.jsx(ia,{title:"Mesaj Gönder",description:"Toplu mesaj gönderimi yap",icon:e.jsx(T,{className:"h-6 w-6"}),color:"bg-chart-5",link:"/messages/bulk-send"}),e.jsx(ia,{title:"Rapor Oluştur",description:"Yardım raporu hazırla",icon:e.jsx(K,{className:"h-6 w-6"}),color:"bg-chart-7",link:"/aid/reports"})]}),e.jsx(ks,{}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Son Aktiviteler"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(la,{title:"Yeni başvuru onaylandı",subtitle:"Ayşe Yılmaz - Nakdi Yardım",time:"2 saat önce"}),e.jsx(la,{title:"Bağış alındı",subtitle:"₺500 - Ahmet Demir",time:"4 saat önce"}),e.jsx(la,{title:"Toplu mesaj gönderildi",subtitle:"142 kişiye SMS gönderildi",time:"6 saat önce"}),e.jsx(la,{title:"Yardım dağıtıldı",subtitle:"₺1,200 - 3 aile",time:"1 gün önce"})]}),e.jsx(d,{to:"/aid",className:"mt-4 block text-sm text-primary hover:underline",children:"Tüm aktiviteleri gör →"})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Bu Ayki Hedefler"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(na,{title:"Bağış Hedefi",current:45670,target:6e4,unit:"₺"}),e.jsx(na,{title:"Yardım Dağıtımı",current:38240,target:45e3,unit:"₺"}),e.jsx(na,{title:"Yeni Başvuru",current:12,target:20,unit:""}),e.jsx(na,{title:"Burs Öğrenci",current:85,target:100,unit:""})]})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Yaklaşan Etkinlikler"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ra,{title:"Yönetim Kurulu Toplantısı",date:"15 Ocak 2024",time:"14:00"}),e.jsx(ra,{title:"Bağış Kampanyası Lansmanı",date:"20 Ocak 2024",time:"10:00"}),e.jsx(ra,{title:"İhtiyaç Sahipleri Ziyareti",date:"25 Ocak 2024",time:"09:00"}),e.jsx(ra,{title:"Burs Öğrenci Buluşması",date:"30 Ocak 2024",time:"15:00"})]}),e.jsx(d,{to:"/messages",className:"mt-4 block text-sm text-primary hover:underline",children:"Takvimi gör →"})]})]}),e.jsx(Ds,{isOpen:s,onClose:()=>a(!1),onSave:j,currentWidgets:p.widgets}),e.jsx(Bs,{isOpen:t,onClose:()=>i(!1)}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Rapor Oluşturucu"}),e.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>n(!1),children:e.jsx(k,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(Es,{})})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Grafik Dashboard"}),e.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:e.jsx(k,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx($s,{})})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"WhatsApp Yöneticisi"}),e.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:e.jsx(k,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(Xs,{})})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Harita Yönetimi"}),e.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:e.jsx(k,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(aa,{})})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{Ve as B,Je as C,ms as I,Be as L,Ie as S,Qs as T,$e as a,Re as b,He as c,Qe as d,Ue as e,ts as f,is as g,as as h,ss as i,rs as j,os as k,_e as l,Ze as m,Xe as n,es as o,cs as p,ls as q,We as r,Us as s,Vs as t,Le as u,Js as v,ca as w};
