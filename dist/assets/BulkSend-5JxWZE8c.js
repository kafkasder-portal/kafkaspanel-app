import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r as s}from"./react-vendor-DCtPEfzS.js";import{M as a}from"./messages-BBXjWSN2.js";import{F as l,k as r,x as i,X as n,aY as t}from"./auth-aCCa6xWs.js";import"./utils-vendor-DxpoukG0.js";import"./donations-DMDPGCBk.js";import"./state-vendor-rPBjJaR_.js";import"./supabase-vendor-AMUhAiAi.js";import"./file-vendor-D5NpndWQ.js";function d(){const[d,c]=s.useState("notification"),[o,m]=s.useState(""),[u,x]=s.useState([]),[h,g]=s.useState([]),[j,b]=s.useState(""),[p,v]=s.useState(""),[N,f]=s.useState("normal"),[y,w]=s.useState("now"),[k,C]=s.useState(""),[S,M]=s.useState(""),[z,T]=s.useState(!1),[B,G]=s.useState(""),[A,D]=s.useState(""),Y=[{id:1,name:"Hoş Geldiniz Mesajı",subject:"Derneğimize Hoş Geldiniz",content:"Sayın {firstName}, derneğimize hoş geldiniz..."},{id:2,name:"Toplantı Daveti",subject:"Aylık Genel Toplantı",content:"Toplantı tarihi: {meetingDate}..."},{id:3,name:"Yardım Onayı",subject:"Yardım Başvurunuz Onaylandı",content:"Başvurunuz onaylanmıştır..."}],K=[{id:1,name:"Tüm Üyeler",memberCount:156},{id:2,name:"Yönetim Kurulu",memberCount:8},{id:3,name:"Yardım Başvuru Sahipleri",memberCount:45},{id:4,name:"Öğrenciler",memberCount:32},{id:5,name:"Kafkasya Bölgesi",memberCount:89}],E=()=>u.reduce((e,s)=>{const a=K.find(e=>e.id===s);return e+(a?.memberCount||0)},0)+h.length,O=()=>{alert("Mesaj başarıyla gönderildi!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Toplu Mesaj Gönderimi"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Birden fazla alıcıya aynı anda mesaj gönderin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(l,{className:"h-4 w-4"}),"Önizleme"]}),e.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(r,{className:"h-4 w-4"}),"Gönder"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj Türü"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>c("notification"),className:"p-4 rounded-lg border-2 transition-colors "+("notification"===d?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:[e.jsx(i,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:"Bildirim"})]}),e.jsxs("button",{onClick:()=>c("sms"),className:"p-4 rounded-lg border-2 transition-colors "+("sms"===d?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"),children:[e.jsx(r,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:"SMS"})]}),e.jsxs("button",{onClick:()=>c("email"),className:"p-4 rounded-lg border-2 transition-colors "+("email"===d?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"),children:[e.jsx(l,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:"E-posta"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj Şablonu"}),e.jsxs("select",{value:o,onChange:e=>(e=>{m(e);const s=Y.find(s=>s.id===Number(e));s&&(b(s.subject),v(s.content))})(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Şablon seçin (isteğe bağlı)"}),Y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj İçeriği"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konu"}),e.jsx("input",{type:"text",value:j,onChange:e=>b(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İçerik"}),e.jsx("textarea",{value:p,onChange:e=>v(e.target.value),rows:6,className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj içeriğini yazın..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",p.length]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Öncelik"}),e.jsxs("select",{value:N,onChange:e=>f(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Düşük"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"Yüksek"}),e.jsx("option",{value:"urgent",children:"Acil"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gönderim Zamanı"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"now",checked:"now"===y,onChange:e=>w(e.target.value),className:"mr-2"}),"Şimdi gönder"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"scheduled",checked:"scheduled"===y,onChange:e=>w(e.target.value),className:"mr-2"}),"Zamanla"]})]}),"scheduled"===y&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),e.jsx("input",{type:"date",value:k,onChange:e=>C(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat"}),e.jsx("input",{type:"time",value:S,onChange:e=>M(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Gönderim Özeti"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Toplam Alıcı:"}),e.jsx("span",{className:"font-medium",children:E()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Mesaj Türü:"}),e.jsx("span",{className:"font-medium",children:"sms"===d?"SMS":"email"===d?"E-posta":"Bildirim"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Öncelik:"}),e.jsx("span",{className:"font-medium",children:"low"===N?"Düşük":"normal"===N?"Normal":"high"===N?"Yüksek":"Acil"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Mesaj Grupları"}),e.jsx("div",{className:"space-y-2",children:K.map(s=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:u.includes(s.id),onChange:()=>{return e=s.id,void x(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]);var e},className:"mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.memberCount," üye"]})]})]},s.id))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Bireysel Alıcılar"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("input",{type:"text",value:B,onChange:e=>G(e.target.value),placeholder:"Alıcı adı",className:"w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"text",value:A,onChange:e=>D(e.target.value),placeholder:"sms"===d?"Telefon numarası":"email"===d?"E-posta adresi":"İletişim bilgisi",className:"w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>{if(B&&A){const e={id:Date.now().toString(),name:B,type:"individual"};"sms"===d?e.phone=A:"email"===d&&(e.email=A),g(s=>[...s,e]),G(""),D("")}},className:"w-full bg-green-600 text-white py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"Ekle"})]}),e.jsx("div",{className:"space-y-2",children:h.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500",children:s.phone||s.email})]}),e.jsx("button",{onClick:()=>{return e=s.id,void g(s=>s.filter(s=>s.id!==e));var e},className:"text-red-600 hover:bg-red-50 p-1 rounded",children:e.jsx(n,{className:"h-4 w-4"})})]},s.id))}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 border-2 border-dashed border-gray-300 py-3 rounded-lg text-gray-600 hover:border-gray-400 transition-colors",children:[e.jsx(t,{className:"h-4 w-4"}),"Dosyadan İçe Aktar"]})})]})]})]}),e.jsx(a,{isOpen:z,onClose:()=>T(!1),title:"Mesaj Önizlemesi",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Gönderim Bilgileri"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tür:"}),e.jsx("span",{className:"ml-2 font-medium",children:"sms"===d?"SMS":"email"===d?"E-posta":"Bildirim"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Öncelik:"}),e.jsx("span",{className:"ml-2 font-medium",children:"low"===N?"Düşük":"normal"===N?"Normal":"high"===N?"Yüksek":"Acil"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Toplam Alıcı:"}),e.jsx("span",{className:"ml-2 font-medium",children:E()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Zamanlama:"}),e.jsx("span",{className:"ml-2 font-medium",children:"now"===y?"Şimdi":`${k} ${S}`})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Mesaj İçeriği"}),e.jsxs("div",{className:"border rounded-lg p-4",children:[j&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Konu:"}),e.jsx("div",{className:"font-medium",children:j})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"İçerik:"}),e.jsx("div",{className:"whitespace-pre-wrap",children:p})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Kapat"}),e.jsx("button",{onClick:()=>{T(!1),O()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Gönder"})]})]})})]})}export{d as default};
