import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r as s}from"./react-vendor-DCtPEfzS.js";import{e as a,D as r}from"./donations-BxLZYfOt.js";import{M as t}from"./messages-CxNjntfH.js";import"./dashboard-DKXcjRFP.js";import"./auth-DDWKT-vG.js";import"./state-vendor-rPBjJaR_.js";import"./supabase-vendor-AMUhAiAi.js";import"./file-vendor-D5NpndWQ.js";import"./utils-vendor-DxpoukG0.js";import"./chart-vendor-BDEFy5qM.js";const l=[{id:"1",shareNumber:"KB2024-001",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"Ahmet Yılmaz",donorPhone:"+90 532 123 4567",donorEmail:"ahmet.yilmaz@email.com",donorAddress:"Kadıköy, İstanbul",shareCount:2,pricePerShare:2500,totalAmount:5e3,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-03-15",paymentMethod:"Kredi Kartı",paymentReference:"CC-2024-001",distributionArea:"Suriye",distributionStatus:"hazırlanıyor",onBehalfOf:"Rahmetli babası adına",isRecurring:!1,donorType:"bireysel",receiptNumber:"KB-2024-001",receiptIssued:!0,thankYouSent:!0,tags:["vip","tekrarlayan"],createdDate:"2024-03-15",createdBy:"Admin",lastModified:"2024-03-15",modifiedBy:"Admin"},{id:"2",shareNumber:"KB2024-002",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"Zeynep Kaya",donorPhone:"+90 533 987 6543",donorEmail:"zeynep.kaya@email.com",shareCount:1,pricePerShare:2500,totalAmount:2500,currency:"TRY",paymentStatus:"beklemede",distributionArea:"Türkiye",distributionStatus:"beklemede",isRecurring:!0,recurringFrequency:"yıllık",nextPaymentDate:"2025-03-01",donorType:"bireysel",receiptIssued:!1,thankYouSent:!1,tags:["yeni"],createdDate:"2024-03-20",createdBy:"Admin",lastModified:"2024-03-20",modifiedBy:"Admin"},{id:"3",shareNumber:"KB2024-003",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"ABC Şirketi",donorPhone:"+90 212 555 0123",donorEmail:"info@abcsirket.com",shareCount:10,pricePerShare:2500,totalAmount:25e3,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-03-10",paymentMethod:"Havale",paymentReference:"HV-2024-001",distributionArea:"Somali",distributionStatus:"gönderildi",distributionDate:"2024-06-16",donorType:"kurumsal",taxNumber:"1234567890",receiptNumber:"KB-2024-003",receiptIssued:!0,thankYouSent:!0,tags:["kurumsal","büyük"],createdDate:"2024-03-10",createdBy:"Admin",lastModified:"2024-06-16",modifiedBy:"Admin",isRecurring:!1},{id:"4",shareNumber:"AK2024-001",periodName:"Akika Kurbanları 2024",periodYear:2024,donorName:"Mehmet Özkan",donorPhone:"+90 534 111 2233",donorEmail:"mehmet.ozkan@email.com",shareCount:1,pricePerShare:1800,totalAmount:1800,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-02-15",paymentMethod:"Nakit",distributionArea:"Türkiye",distributionStatus:"teslim edildi",distributionDate:"2024-02-20",onBehalfOf:"Yeni doğan oğlu adına",isRecurring:!1,donorType:"bireysel",receiptNumber:"AK-2024-001",receiptIssued:!0,thankYouSent:!0,tags:["akika"],createdDate:"2024-02-15",createdBy:"Admin",lastModified:"2024-02-20",modifiedBy:"Admin"}];function n(){const[n,d]=s.useState(l),[i,o]=s.useState(""),[c,m]=s.useState(""),[u,x]=s.useState(""),[h,p]=s.useState(""),[g,b]=s.useState(""),[j,y]=s.useState({start:"",end:""}),[N,v]=s.useState(!1),[f,k]=s.useState(!1),[S,T]=s.useState(!1),[C,A]=s.useState(null),[w,B]=s.useState(null),[D,R]=s.useState("shares"),[K,Y]=s.useState({shareNumber:"",periodName:"",donorName:"",donorPhone:"",donorEmail:"",donorAddress:"",shareCount:"",pricePerShare:"",currency:"TRY",distributionArea:"",onBehalfOf:"",donorType:"bireysel",taxNumber:"",isRecurring:!1,recurringFrequency:"yıllık",notes:"",tags:[]}),P=s.useMemo(()=>n.filter(e=>{const s=JSON.stringify(e).toLowerCase().includes(i.toLowerCase()),a=!c||e.paymentStatus===c,r=!u||e.distributionStatus===u,t=!h||e.periodName.includes(h),l=!g||e.donorType===g;let n=!0;if(j.start&&j.end){const s=new Date(e.createdDate),a=new Date(j.start),r=new Date(j.end);n=s>=a&&s<=r}return s&&a&&r&&t&&l&&n}),[n,i,c,u,h,g,j]),M=P.reduce((e,s)=>e+s.shareCount,0),z=P.reduce((e,s)=>e+s.totalAmount,0),O=P.filter(e=>"ödendi"===e.paymentStatus).reduce((e,s)=>e+s.totalAmount,0),H=P.filter(e=>"beklemede"===e.paymentStatus).reduce((e,s)=>e+s.totalAmount,0),E=P.filter(e=>e.isRecurring).length,q=P.filter(e=>e.receiptIssued).length,F=P.filter(e=>e.thankYouSent).length,I=P.reduce((e,s)=>{const a=s.distributionArea;return e[a]||(e[a]={count:0,amount:0}),e[a].count+=s.shareCount,e[a].amount+=s.totalAmount,e},{}),L=[{key:"shareNumber",header:"Hisse No"},{key:"periodName",header:"Dönem"},{key:"donorName",header:"Bağışçı"},{key:"donorPhone",header:"Telefon"},{key:"shareCount",header:"Hisse",render:(s,a)=>e.jsxs("div",{children:[e.jsxs("div",{children:[a.shareCount," adet"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.pricePerShare.toLocaleString("tr-TR")," ₺/adet"]})]})},{key:"totalAmount",header:"Toplam Tutar",render:(e,s)=>`${s.totalAmount.toLocaleString("tr-TR")} ${s.currency}`},{key:"paymentStatus",header:"Ödeme Durumu",render:(s,a)=>e.jsx("span",{className:"px-2 py-1 rounded text-xs "+("ödendi"===a.paymentStatus?"bg-green-100 text-green-800":"beklemede"===a.paymentStatus?"bg-yellow-100 text-yellow-800":"kısmi"===a.paymentStatus?"bg-orange-100 text-orange-800":"iade"===a.paymentStatus?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800"),children:a.paymentStatus})},{key:"distributionStatus",header:"Dağıtım Durumu",render:(s,a)=>e.jsx("span",{className:"px-2 py-1 rounded text-xs "+("teslim edildi"===a.distributionStatus?"bg-green-100 text-green-800":"gönderildi"===a.distributionStatus?"bg-blue-100 text-blue-800":"hazırlanıyor"===a.distributionStatus?"bg-yellow-100 text-yellow-800":"beklemede"===a.distributionStatus?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:a.distributionStatus})},{key:"distributionArea",header:"Dağıtım Alanı"},{key:"isRecurring",header:"Tekrarlayan",render:(s,a)=>e.jsx("div",{children:a.isRecurring?e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600",children:"✓"}),e.jsx("div",{className:"text-xs text-gray-500",children:a.recurringFrequency})]}):e.jsx("span",{className:"text-gray-400",children:"-"})})},{key:"receiptIssued",header:"Makbuz",render:(s,a)=>e.jsx("div",{className:"text-center",children:a.receiptIssued?e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600",children:"✓"}),e.jsx("div",{className:"text-xs text-gray-500",children:a.receiptNumber})]}):e.jsx("span",{className:"text-red-600",children:"✗"})})},{key:"id",header:"İşlemler",render:(s,a)=>e.jsxs("div",{className:"flex gap-1 text-xs",children:[e.jsx("button",{onClick:()=>G(a),className:"text-blue-600 hover:text-blue-800 px-2 py-1 rounded",children:"Düzenle"}),e.jsx("button",{onClick:()=>U(a),className:"text-green-600 hover:text-green-800 px-2 py-1 rounded",children:"Ödeme"}),e.jsx("button",{onClick:()=>V(a),className:"text-purple-600 hover:text-purple-800 px-2 py-1 rounded",children:"Makbuz"}),e.jsx("button",{onClick:()=>$(a.id),className:"text-orange-600 hover:text-orange-800 px-2 py-1 rounded",children:"Teşekkür"})]})}],G=e=>{A(e),Y({shareNumber:e.shareNumber,periodName:e.periodName,donorName:e.donorName,donorPhone:e.donorPhone,donorEmail:e.donorEmail||"",donorAddress:e.donorAddress||"",shareCount:e.shareCount.toString(),pricePerShare:e.pricePerShare.toString(),currency:e.currency,distributionArea:e.distributionArea,onBehalfOf:e.onBehalfOf||"",donorType:e.donorType,taxNumber:e.taxNumber||"",isRecurring:e.isRecurring,recurringFrequency:e.recurringFrequency||"yıllık",notes:e.notes||"",tags:e.tags}),v(!0)},U=e=>{B(e),k(!0)},V=e=>{B(e),T(!0)},$=e=>{d(n.map(s=>s.id===e?{...s,thankYouSent:!0}:s))},J=()=>{Y({shareNumber:"",periodName:"",donorName:"",donorPhone:"",donorEmail:"",donorAddress:"",shareCount:"",pricePerShare:"",currency:"TRY",distributionArea:"",onBehalfOf:"",donorType:"bireysel",taxNumber:"",isRecurring:!1,recurringFrequency:"yıllık",notes:"",tags:[]})},Z=["Kurban Bayramı 2024","Kurban Bayramı 2023","Akika Kurbanları 2024"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Kurban Hisseleri"}),e.jsxs("div",{className:"flex border rounded",children:[e.jsx("button",{onClick:()=>R("shares"),className:"px-4 py-2 text-sm "+("shares"===D?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Hisseler"}),e.jsx("button",{onClick:()=>R("analytics"),className:"px-4 py-2 text-sm "+("analytics"===D?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Analitik"})]})]}),"shares"===D&&e.jsx("button",{onClick:()=>{A(null),J(),v(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Hisse"})]}),"shares"===D&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Toplam Hisse"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:M})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Toplam Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[z.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600",children:"Ödenen"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[O.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-orange-600",children:"Bekleyen"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[H.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-indigo-600",children:"Tekrarlayan"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:E})]}),e.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-pink-600",children:"Makbuz Oranı"}),e.jsxs("p",{className:"text-2xl font-bold text-pink-900",children:[Math.round(q/P.length*100),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4 mb-6",children:[e.jsx("input",{value:i,onChange:e=>o(e.target.value),className:"border rounded px-3 py-2",placeholder:"Hisse no, bağışçı adı ile ara..."}),e.jsxs("select",{value:c,onChange:e=>m(e.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Ödemeler"}),e.jsx("option",{value:"ödendi",children:"Ödendi"}),e.jsx("option",{value:"beklemede",children:"Beklemede"}),e.jsx("option",{value:"kısmi",children:"Kısmi"}),e.jsx("option",{value:"iptal",children:"İptal"}),e.jsx("option",{value:"iade",children:"İade"})]}),e.jsxs("select",{value:u,onChange:e=>x(e.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Dağıtımlar"}),e.jsx("option",{value:"beklemede",children:"Beklemede"}),e.jsx("option",{value:"hazırlanıyor",children:"Hazırlanıyor"}),e.jsx("option",{value:"gönderildi",children:"Gönderildi"}),e.jsx("option",{value:"teslim edildi",children:"Teslim Edildi"}),e.jsx("option",{value:"iptal",children:"İptal"})]}),e.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Dönemler"}),Z.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:g,onChange:e=>b(e.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Tipler"}),e.jsx("option",{value:"bireysel",children:"Bireysel"}),e.jsx("option",{value:"kurumsal",children:"Kurumsal"})]}),e.jsx("input",{type:"date",value:j.start,onChange:e=>y({...j,start:e.target.value}),className:"border rounded px-3 py-2",placeholder:"Başlangıç"}),e.jsx("input",{type:"date",value:j.end,onChange:e=>y({...j,end:e.target.value}),className:"border rounded px-3 py-2",placeholder:"Bitiş"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>a("kurban-hisseleri.csv",P),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Excel İndir"}),e.jsx("button",{onClick:()=>{P.filter(e=>"beklemede"===e.paymentStatus)},className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Ödeme Hatırlatması"}),e.jsx("button",{onClick:()=>{P.filter(e=>!e.thankYouSent&&"ödendi"===e.paymentStatus)},className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Toplu Teşekkür"})]}),e.jsx(r,{columns:L,data:P})]}),"analytics"===D&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:"Toplam Hisse Sayısı"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:M}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Tüm dönemler"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Toplam Gelir"}),e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[z.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Brüt tutar"})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-purple-600 mb-2",children:"Ortalama Hisse"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:P.length>0?(M/P.length).toFixed(1):"0"}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Bağışçı başına"})]}),e.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-orange-600 mb-2",children:"Tahsilat Oranı"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-900",children:[z>0?Math.round(O/z*100):0,"%"]}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Ödenen/Toplam"})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dağıtım Alanlarına Göre Dağılım"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(I).map(([s,a])=>e.jsxs("div",{className:"border rounded p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-medium",children:s}),e.jsxs("span",{className:"text-sm text-gray-500",children:[a.count," hisse"]})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[a.amount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Toplam tutarın %",z>0?Math.round(a.amount/z*100):0,"'si"]})]},s))})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ödeme Durumu Dağılımı"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:["ödendi","beklemede","kısmi","iptal","iade"].map(s=>{const a=P.filter(e=>e.paymentStatus===s).length,r=P.filter(e=>e.paymentStatus===s).reduce((e,s)=>e+s.totalAmount,0);return e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:s}),e.jsx("div",{className:"text-xl font-bold",children:a}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.toLocaleString("tr-TR")," ₺"]})]},s)})})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Tekrarlayan Bağış Analizi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tekrarlayan Hisse"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:E}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Toplam hisselerin %",P.length>0?Math.round(E/P.length*100):0,"'si"]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Yıllık Tekrarlayan"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.filter(e=>"yıllık"===e.recurringFrequency).length})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Aylık Tekrarlayan"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P.filter(e=>"aylık"===e.recurringFrequency).length})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"İşlem Durumları"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Makbuz Kesildi"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:q}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",P.length>0?Math.round(q/P.length*100):0," tamamlandı"]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Teşekkür Gönderildi"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",P.length>0?Math.round(F/P.length*100):0," tamamlandı"]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Kurumsal Bağışçı"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P.filter(e=>"kurumsal"===e.donorType).length}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",P.length>0?Math.round(P.filter(e=>"kurumsal"===e.donorType).length/P.length*100):0," oran"]})]})]})]})]})]}),e.jsx(t,{isOpen:N,onClose:()=>v(!1),title:C?"Kurban Hissesi Düzenle":"Yeni Kurban Hissesi",children:e.jsxs("form",{onSubmit:e=>{e.preventDefault();const s=parseInt(K.shareCount),a=parseFloat(K.pricePerShare),r=s*a;if(C)d(n.map(e=>e.id===C.id?{...e,...K,shareCount:s,pricePerShare:a,totalAmount:r,lastModified:(new Date).toISOString().split("T")[0],modifiedBy:"Admin"}:e));else{const e={id:Date.now().toString(),...K,shareCount:s,pricePerShare:a,totalAmount:r,periodYear:(new Date).getFullYear(),paymentStatus:"beklemede",distributionStatus:"beklemede",receiptIssued:!1,thankYouSent:!1,createdDate:(new Date).toISOString().split("T")[0],createdBy:"Admin",lastModified:(new Date).toISOString().split("T")[0],modifiedBy:"Admin"};d([...n,e])}v(!1),A(null),J()},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Numarası *"}),e.jsx("input",{type:"text",value:K.shareNumber,onChange:e=>Y({...K,shareNumber:e.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"KB2024-001",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dönem *"}),e.jsxs("select",{value:K.periodName,onChange:e=>Y({...K,periodName:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0,children:[e.jsx("option",{value:"",children:"Seçiniz"}),Z.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bağışçı Tipi"}),e.jsxs("select",{value:K.donorType,onChange:e=>Y({...K,donorType:e.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"bireysel",children:"Bireysel"}),e.jsx("option",{value:"kurumsal",children:"Kurumsal"})]})]}),"kurumsal"===K.donorType&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vergi Numarası"}),e.jsx("input",{type:"text",value:K.taxNumber,onChange:e=>Y({...K,taxNumber:e.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"1234567890"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bağışçı Adı *"}),e.jsx("input",{type:"text",value:K.donorName,onChange:e=>Y({...K,donorName:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefon *"}),e.jsx("input",{type:"tel",value:K.donorPhone,onChange:e=>Y({...K,donorPhone:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"E-posta"}),e.jsx("input",{type:"email",value:K.donorEmail,onChange:e=>Y({...K,donorEmail:e.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dağıtım Alanı *"}),e.jsxs("select",{value:K.distributionArea,onChange:e=>Y({...K,distributionArea:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0,children:[e.jsx("option",{value:"",children:"Seçiniz"}),["Türkiye","Suriye","Yemen","Somali","Bangladeş","Filistin","Afganistan","Pakistan"].map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adres"}),e.jsx("textarea",{value:K.donorAddress,onChange:e=>Y({...K,donorAddress:e.target.value}),className:"w-full border rounded px-3 py-2",rows:2,placeholder:"Bağışçı adresi..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Sayısı *"}),e.jsx("input",{type:"number",min:"1",value:K.shareCount,onChange:e=>Y({...K,shareCount:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Fiyatı *"}),e.jsx("input",{type:"number",step:"0.01",value:K.pricePerShare,onChange:e=>Y({...K,pricePerShare:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Para Birimi"}),e.jsxs("select",{value:K.currency,onChange:e=>Y({...K,currency:e.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adına (Opsiyonel)"}),e.jsx("input",{type:"text",value:K.onBehalfOf,onChange:e=>Y({...K,onBehalfOf:e.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"Rahmetli babası adına"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:K.isRecurring,onChange:e=>Y({...K,isRecurring:e.target.checked}),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium",children:"Tekrarlayan Bağış"})]})}),K.isRecurring&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tekrar Sıklığı"}),e.jsxs("select",{value:K.recurringFrequency,onChange:e=>Y({...K,recurringFrequency:e.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"aylık",children:"Aylık"}),e.jsx("option",{value:"yıllık",children:"Yıllık"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Etiketler"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["vip","tekrarlayan","yeni","kurumsal","büyük","akika","adak","şükür"].map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:K.tags.includes(s),onChange:e=>((e,s)=>{Y(s?{...K,tags:[...K.tags,e]}:{...K,tags:K.tags.filter(s=>s!==e)})})(s,e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notlar"}),e.jsx("textarea",{value:K.notes,onChange:e=>Y({...K,notes:e.target.value}),className:"w-full border rounded px-3 py-2",rows:2,placeholder:"Ek bilgiler..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:C?"Güncelle":"Oluştur"})]})]})}),e.jsx(t,{isOpen:f,onClose:()=>k(!1),title:"Ödeme İşlemi",children:w&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:w.shareNumber}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Bağışçı:"}),e.jsx("span",{className:"ml-2",children:w.donorName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tutar:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[w.totalAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Durum:"}),e.jsx("span",{className:"ml-2",children:w.paymentStatus})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hisse:"}),e.jsxs("span",{className:"ml-2",children:[w.shareCount," adet"]})]})]})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ödeme Yöntemi"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"nakit",children:"Nakit"}),e.jsx("option",{value:"kredi-karti",children:"Kredi Kartı"}),e.jsx("option",{value:"havale",children:"Havale/EFT"}),e.jsx("option",{value:"pos",children:"POS"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ödeme Tarihi"}),e.jsx("input",{type:"date",defaultValue:(new Date).toISOString().split("T")[0],className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Referans/Açıklama"}),e.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"İşlem referansı veya açıklama"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Ödemeyi Kaydet"})]})]})]})}),e.jsx(t,{isOpen:S,onClose:()=>T(!1),title:"Makbuz İşlemleri",children:w&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:w.shareNumber}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Bağışçı:"}),e.jsx("span",{className:"ml-2",children:w.donorName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tutar:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[w.totalAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Makbuz Durumu:"}),e.jsx("span",{className:"ml-2 "+(w.receiptIssued?"text-green-600":"text-red-600"),children:w.receiptIssued?"Kesildi":"Kesilmedi"})]}),w.receiptNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Makbuz No:"}),e.jsx("span",{className:"ml-2",children:w.receiptNumber})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{T(!1)},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Makbuz Yazdır"}),e.jsx("button",{onClick:()=>{T(!1)},className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",disabled:!w.donorEmail,children:"E-Makbuz Gönder"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Kapat"})})]})})]})}export{n as default};
