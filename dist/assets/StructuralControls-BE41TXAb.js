import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r as s}from"./react-vendor-DCtPEfzS.js";import{e as t,D as r}from"./donations-DMDPGCBk.js";import{a6 as a,y as l,a8 as n,$ as i,S as d,D as o}from"./auth-aCCa6xWs.js";import"./state-vendor-rPBjJaR_.js";import"./supabase-vendor-AMUhAiAi.js";import"./file-vendor-D5NpndWQ.js";import"./utils-vendor-DxpoukG0.js";const c=[{id:"1",name:"Veritabanı Bağlantısı",description:"Ana PostgreSQL veritabanı bağlantı kontrolü",type:"Database",status:"Healthy",lastCheck:"2024-01-15 10:30:45",nextCheck:"2024-01-15 10:35:45",details:"Bağlantı başarılı, 23 aktif session",errorCount:0,uptime:"99.9%",responseTime:12},{id:"2",name:"API Endpoint Kontrolü",description:"Harici API servislerinin erişilebilirlik kontrolü",type:"API",status:"Warning",lastCheck:"2024-01-15 10:29:12",nextCheck:"2024-01-15 10:34:12",details:"Yavaş yanıt süresi tespit edildi",errorCount:3,uptime:"98.2%",responseTime:2300},{id:"3",name:"Dosya Sistemi Kontrolü",description:"Disk alanı ve dosya sistemи kontrolü",type:"File System",status:"Error",lastCheck:"2024-01-15 10:28:30",nextCheck:"2024-01-15 10:33:30",details:"Disk alanı %85 dolu, temizlik gerekli",errorCount:1,uptime:"95.8%",responseTime:0},{id:"4",name:"E-posta Servisi",description:"SMTP sunucu bağlantı ve gönderim kontrolü",type:"Service",status:"Healthy",lastCheck:"2024-01-15 10:30:15",nextCheck:"2024-01-15 10:35:15",details:"Servis çalışıyor, queue boş",errorCount:0,uptime:"99.5%",responseTime:156},{id:"5",name:"Redis Cache",description:"Redis önbellek sistemi kontrolü",type:"Database",status:"Warning",lastCheck:"2024-01-15 10:29:45",nextCheck:"2024-01-15 10:34:45",details:"Bellek kullanımı %78, temizlik önerilir",errorCount:0,uptime:"99.1%",responseTime:8},{id:"6",name:"Backup Sistemi",description:"Otomatik yedekleme sistemi kontrolü",type:"Service",status:"Unknown",lastCheck:"2024-01-15 08:00:00",nextCheck:"2024-01-16 08:00:00",details:"Son yedekleme 6 saat önce",errorCount:0,uptime:"100%",responseTime:0}];function m(){const[m,x]=s.useState(""),[u,h]=s.useState("all"),[p,g]=s.useState("all"),j=s.useMemo(()=>{let e=c;return"all"!==u&&(e=e.filter(e=>e.type===u)),"all"!==p&&(e=e.filter(e=>e.status===p)),m&&(e=e.filter(e=>JSON.stringify(e).toLowerCase().includes(m.toLowerCase()))),e},[m,u,p]),b=[{key:"name",header:"Kontrol Adı"},{key:"description",header:"Açıklama"},{key:"type",header:"Tip",render:s=>{const t={Database:"bg-blue-100 text-blue-700",API:"bg-green-100 text-green-700",Service:"bg-purple-100 text-purple-700","File System":"bg-orange-100 text-orange-700"},r=s;return e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${t[r]||t.Database}`,children:String(s||"")})}},{key:"status",header:"Durum",render:s=>{const t={Healthy:{icon:e.jsx(l,{className:"h-4 w-4"}),color:"bg-green-100 text-green-700"},Warning:{icon:e.jsx(n,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-700"},Error:{icon:e.jsx(i,{className:"h-4 w-4"}),color:"bg-red-100 text-red-700"},Unknown:{icon:e.jsx(o,{className:"h-4 w-4"}),color:"bg-gray-100 text-gray-700"}},r=String(s||"Unknown"),{icon:a,color:d}=t[r]||t.Unknown;return e.jsxs("span",{className:`flex items-center gap-1 rounded-full px-2 py-1 text-xs ${d}`,children:[a,"Healthy"===r?"Sağlıklı":"Warning"===r?"Uyarı":"Error"===r?"Hata":"Bilinmiyor"]})}},{key:"responseTime",header:"Yanıt Süresi (ms)",render:e=>{const s=Number(e)||0;return s>0?`${s}ms`:"-"}},{key:"uptime",header:"Çalışma Süresi",render:s=>{const t=parseFloat(String(s||"0"));return e.jsx("span",{className:"font-medium "+(t>99?"text-green-600":t>95?"text-yellow-600":"text-red-600"),children:String(s||"")})}},{key:"errorCount",header:"Hata Sayısı"},{key:"lastCheck",header:"Son Kontrol"},{key:"actions",header:"İşlemler",render:()=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"rounded p-1 text-green-600 hover:bg-green-50",title:"Şimdi Kontrol Et",children:e.jsx(a,{className:"h-4 w-4"})}),e.jsx("button",{className:"rounded p-1 text-blue-600 hover:bg-blue-50",title:"Ayarlar",children:e.jsx(d,{className:"h-4 w-4"})})]})}],y=["Healthy","Warning","Error","Unknown"],N=j.filter(e=>"Healthy"===e.status).length,f=j.filter(e=>"Warning"===e.status).length,v=j.filter(e=>"Error"===e.status).length,k=j.reduce((e,s)=>e+s.errorCount,0);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto rounded border p-2",children:[e.jsxs("button",{className:"flex items-center gap-2 rounded bg-green-600 px-3 py-1 text-sm text-white",children:[e.jsx(a,{className:"h-4 w-4"}),"Tümünü Kontrol Et"]}),e.jsxs("select",{value:u,onChange:e=>h(e.target.value),className:"rounded border bg-background px-2 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"Tüm Tipler"}),["Database","API","Service","File System"].map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:p,onChange:e=>g(e.target.value),className:"rounded border bg-background px-2 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"Tüm Durumlar"}),y.map(s=>e.jsx("option",{value:s,children:"Healthy"===s?"Sağlıklı":"Warning"===s?"Uyarı":"Error"===s?"Hata":"Bilinmiyor"},s))]}),e.jsx("input",{value:m,onChange:e=>x(e.target.value),className:"min-w-64 flex-1 rounded border px-2 py-1 text-sm",placeholder:"Kontrol ara..."}),e.jsx("button",{className:"rounded bg-blue-600 px-3 py-1 text-sm text-white",children:"Ara"}),e.jsx("button",{onClick:()=>t("yapisal-kontroller.csv",j),className:"rounded bg-gray-600 px-3 py-1 text-sm text-white",children:"İndir"}),e.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:[j.length," Kontrol"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Sağlıklı"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:N})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-yellow-600"}),e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Uyarı"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-5 w-5 text-red-600"}),e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Hata"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Hata"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k})]})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Sistem Sağlığı Genel Görünümü"}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:y.map(s=>{const t=j.filter(e=>e.status===s).length,r=j.length>0?(t/j.length*100).toFixed(1):0,a="Healthy"===s?"Sağlıklı":"Warning"===s?"Uyarı":"Error"===s?"Hata":"Bilinmiyor",l="Healthy"===s?"text-green-600":"Warning"===s?"text-yellow-600":"Error"===s?"text-red-600":"text-gray-600";return e.jsxs("div",{className:"rounded border p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:a}),e.jsx("span",{className:`text-lg font-bold ${l}`,children:t})]}),e.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["%",r]}),e.jsx("div",{className:"mt-2 h-2 w-full rounded bg-gray-200",children:e.jsx("div",{className:"h-full rounded "+("Healthy"===s?"bg-green-500":"Warning"===s?"bg-yellow-500":"Error"===s?"bg-red-500":"bg-gray-500"),style:{width:`${r}%`}})})]},s)})})]}),e.jsx(r,{columns:b,data:j}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Son Kontrol Detayları"}),e.jsx("div",{className:"space-y-3",children:j.slice(0,3).map(s=>e.jsxs("div",{className:"border-b pb-2 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.lastCheck})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.details})]},s.id))})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Performans Metrikleri"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Ortalama Yanıt Süresi"}),e.jsxs("span",{className:"font-medium",children:[Math.round(j.filter(e=>e.responseTime>0).reduce((e,s)=>e+s.responseTime,0)/j.filter(e=>e.responseTime>0).length),"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Ortalama Çalışma Süresi"}),e.jsxs("span",{className:"font-medium text-green-600",children:[(j.reduce((e,s)=>e+parseFloat(s.uptime),0)/j.length).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Aktif Kontrol Sayısı"}),e.jsx("span",{className:"font-medium",children:j.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Son Güncelleme"}),e.jsx("span",{className:"font-medium",children:"2024-01-15 10:30:45"})]})]})]})]})]})}export{m as default};
