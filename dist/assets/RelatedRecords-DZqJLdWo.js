import{j as e}from"./ui-vendor-B8g4ebjc.js";import{r as s}from"./react-vendor-DCtPEfzS.js";import{C as a,I as t,B as l}from"./dashboard-CJXjh513.js";import{F as r,ba as i,d as n,U as c,D as d,_ as m,p as o,i as x,E as u,m as h,r as p}from"./auth-9wZfjiou.js";import"./file-vendor-D5NpndWQ.js";import"./utils-vendor-DxpoukG0.js";import"./state-vendor-rPBjJaR_.js";import"./chart-vendor-BDEFy5qM.js";import"./supabase-vendor-AMUhAiAi.js";function j(){const[j,f]=s.useState(""),[N,g]=s.useState("all"),y=[{id:1,type:"Öğrenci-Bağışçı",primaryRecord:"Ayşe Yılmaz (Öğrenci)",relatedRecord:"Mehmet Özkan (Bağışçı)",relationship:"Burs Sponsoru",startDate:"2023-09-01",status:"Aktif",details:"Aylık 500₺ eğitim bursu"},{id:2,type:"Aile-Öğrenci",primaryRecord:"Fatma Kaya Ailesi",relatedRecord:"Ali Kaya, Zehra Kaya",relationship:"Kardeş",startDate:"2023-10-15",status:"Aktif",details:"Aynı aileden 2 öğrenci"},{id:3,type:"Okul-Öğrenci",primaryRecord:"Atatürk İlkokulu",relatedRecord:"15 öğrenci",relationship:"Eğitim Kurumu",startDate:"2023-09-01",status:"Aktif",details:"Anlaşmalı okul"},{id:4,type:"Bağış-Proje",primaryRecord:"Eğitim Desteği Bağışı",relatedRecord:"Kitap Dağıtım Projesi",relationship:"Fonlama",startDate:"2024-01-01",status:"Devam Ediyor",details:"25,000₺ bütçe"},{id:5,type:"Vasi-Öğrenci",primaryRecord:"Ahmet Demir",relatedRecord:"Mehmet Demir",relationship:"Amca-Yeğen",startDate:"2022-05-10",status:"Aktif",details:"Yasal vasi"}],v=[{value:"all",label:"Tümü",count:y.length},{value:"Öğrenci-Bağışçı",label:"Öğrenci-Bağışçı",count:y.filter(e=>"Öğrenci-Bağışçı"===e.type).length},{value:"Aile-Öğrenci",label:"Aile-Öğrenci",count:y.filter(e=>"Aile-Öğrenci"===e.type).length},{value:"Okul-Öğrenci",label:"Okul-Öğrenci",count:y.filter(e=>"Okul-Öğrenci"===e.type).length},{value:"Bağış-Proje",label:"Bağış-Proje",count:y.filter(e=>"Bağış-Proje"===e.type).length},{value:"Vasi-Öğrenci",label:"Vasi-Öğrenci",count:y.filter(e=>"Vasi-Öğrenci"===e.type).length}],b={totalRelationships:y.length,activeRelationships:y.filter(e=>"Aktif"===e.status).length,students:45,donors:28},w=y.filter(e=>{const s=e.primaryRecord.toLowerCase().includes(j.toLowerCase())||e.relatedRecord.toLowerCase().includes(j.toLowerCase())||e.relationship.toLowerCase().includes(j.toLowerCase()),a="all"===N||e.type===N;return s&&a}),k=e=>{switch(e){case"Aktif":return"bg-green-100 text-green-800";case"Devam Ediyor":return"bg-blue-100 text-blue-800";case"Tamamlandı":default:return"bg-gray-100 text-gray-800";case"İptal":return"bg-red-100 text-red-800"}},A=s=>{switch(s){case"Öğrenci-Bağışçı":return e.jsx(c,{className:"h-4 w-4 text-blue-600"});case"Aile-Öğrenci":return e.jsx(c,{className:"h-4 w-4 text-green-600"});case"Okul-Öğrenci":return e.jsx(p,{className:"h-4 w-4 text-purple-600"});case"Bağış-Proje":return e.jsx(d,{className:"h-4 w-4 text-orange-600"});case"Vasi-Öğrenci":return e.jsx(c,{className:"h-4 w-4 text-red-600"});default:return e.jsx(i,{className:"h-4 w-4 text-gray-600"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(r,{className:"h-8 w-8"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Bağlantılı Kayıtlar"})]}),e.jsx("p",{className:"text-white/90",children:"Sistem içerisindeki ilişkili kayıtların görüntülenmesi ve yönetimi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Toplam İlişki"}),e.jsx("p",{className:"text-2xl font-bold",children:b.totalRelationships})]}),e.jsx(i,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktif İlişki"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.activeRelationships})]}),e.jsx(n,{className:"h-8 w-8 text-green-600"})]})}),e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Öğrenci"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:b.students})]}),e.jsx(c,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bağışçı"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:b.donors})]}),e.jsx(d,{className:"h-8 w-8 text-orange-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{className:"p-4",children:[e.jsxs("h2",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),"Filtreler"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"İlişki Türü"}),e.jsx("div",{className:"space-y-2",children:v.map(s=>e.jsx("button",{onClick:()=>g(s.value),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors "+(N===s.value?"bg-primary text-primary-foreground":"hover:bg-muted"),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:s.label}),e.jsx("span",{className:"text-xs opacity-70",children:s.count})]})},s.value))})]})})]}),e.jsx("div",{className:"lg:col-span-3 space-y-4",children:e.jsxs(a,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(t,{placeholder:"Kayıt ara...",value:j,onChange:e=>f(e.target.value),className:"pl-9 w-full md:w-80"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",className:"gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),"Dışa Aktar"]}),e.jsxs(l,{className:"gap-2",children:[e.jsx(i,{className:"h-4 w-4"}),"Yeni İlişki"]})]})]}),e.jsx("div",{className:"space-y-4",children:w.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[A(s.type),e.jsx("span",{className:"font-medium",children:s.relationship}),e.jsx("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:s.type})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Ana Kayıt"}),e.jsx("p",{className:"font-medium",children:s.primaryRecord})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Bağlantılı Kayıt"}),e.jsx("p",{className:"font-medium",children:s.relatedRecord})]})]}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"h-4 w-4 text-muted-foreground"}),new Date(s.startDate).toLocaleDateString("tr-TR")]}),e.jsx("span",{className:"text-muted-foreground",children:s.details})]})})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(l,{size:"sm",variant:"outline",children:e.jsx(u,{className:"h-4 w-4"})}),e.jsx(l,{size:"sm",variant:"outline",children:e.jsx(h,{className:"h-4 w-4"})})]})]})},s.id))}),0===w.length&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(r,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Arama kriterlerinize uygun kayıt bulunamadı."})]})]})})]})]})}export{j as default};
